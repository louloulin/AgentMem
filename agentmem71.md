# AgentMem é€šç”¨è®°å¿†å¹³å°å…¨é¢åˆ†æä¸æ”¹è¿›è®¡åˆ’

**æ–‡æ¡£ç‰ˆæœ¬**: v5.1 (P0 ä¼˜åŒ–å·²å®Œæˆ)
**åˆ›å»ºæ—¥æœŸ**: 2025-11-08
**æœ€åæ›´æ–°**: 2025-11-08 (P0 å®æ–½å®Œæˆ)
**åˆ†æåŸåˆ™**: æœ€å°æ”¹åŠ¨ä¼˜å…ˆã€å®äº‹æ±‚æ˜¯ã€å¤šè½®éªŒè¯ã€åŸºäºå®é™…ä»£ç åˆ†æã€å…³æ³¨é€šç”¨èƒ½åŠ›

---

## ğŸ‰ P0 ä¼˜åŒ–å®æ–½å®ŒæˆæŠ¥å‘Š

**å®æ–½æ—¥æœŸ**: 2025-11-08
**å®æ–½çŠ¶æ€**: âœ… **å…¨éƒ¨å®Œæˆ**
**éªŒè¯çŠ¶æ€**: âœ… **æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ29/29ï¼‰**

### å®Œæˆçš„ä»»åŠ¡

| ä»»åŠ¡ | çŠ¶æ€ | è€—æ—¶ | éªŒè¯ç»“æœ |
|------|------|------|---------|
| 1. ä¿®æ”¹ `infer` é»˜è®¤å€¼ | âœ… å®Œæˆ | 5 åˆ†é’Ÿ | âœ… 29/29 æµ‹è¯•é€šè¿‡ |
| 2. æ›´æ–° README æ–‡æ¡£ | âœ… å®Œæˆ | 20 åˆ†é’Ÿ | âœ… æ–‡æ¡£å®Œæ•´æ¸…æ™° |
| 3. è¿è¡Œæµ‹è¯•éªŒè¯ | âœ… å®Œæˆ | 15 åˆ†é’Ÿ | âœ… æ— ç ´åæ€§å˜æ›´ |
| 4. åˆ›å»ºéªŒè¯ç¤ºä¾‹ | âœ… å®Œæˆ | 10 åˆ†é’Ÿ | âœ… ç¤ºä¾‹ä»£ç å¯ç”¨ |
| 5. æ›´æ–°åˆ†ææ–‡æ¡£ | âœ… å®Œæˆ | 10 åˆ†é’Ÿ | âœ… æ–‡æ¡£å·²æ›´æ–° |

**æ€»è€—æ—¶**: çº¦ 1 å°æ—¶ï¼ˆç¬¦åˆé¢„æœŸï¼‰

### æ ¸å¿ƒæ”¹åŠ¨

#### 1. ä»£ç ä¿®æ”¹ï¼ˆ1 è¡Œï¼‰

**æ–‡ä»¶**: `crates/agent-mem/src/types.rs` ç¬¬ 36 è¡Œ

```rust
// ä¿®æ”¹å‰
infer: false,  // âŒ ä¸ Mem0 ä¸å…¼å®¹

// ä¿®æ”¹å
infer: true,  // âœ… ä¿®æ”¹ä¸º trueï¼Œå¯¹æ ‡ Mem0ï¼Œé»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½
```

#### 2. æ–‡æ¡£æ›´æ–°

**æ–‡ä»¶**: `README.md` ç¬¬ 575-678 è¡Œ

- âœ… æ·»åŠ é›¶é…ç½®å¿«é€Ÿå¼€å§‹ç¤ºä¾‹ï¼ˆ3 è¡Œä»£ç ï¼‰
- âœ… æ·»åŠ é«˜çº§ç”¨æ³•ç¤ºä¾‹ï¼ˆSession ç®¡ç†ã€å…ƒæ•°æ®ï¼‰
- âœ… è¯´æ˜é»˜è®¤è¡Œä¸ºï¼ˆæ™ºèƒ½åŠŸèƒ½é»˜è®¤å¯ç”¨ï¼‰
- âœ… ä¸ Mem0 çš„ API å…¼å®¹æ€§å¯¹æ¯”

#### 3. æµ‹è¯•éªŒè¯ç»“æœ

```bash
âœ… åº“æµ‹è¯•: 6 passed; 0 failed
âœ… é›†æˆæµ‹è¯•: 6 passed; 0 failed
âœ… æ™ºèƒ½ç»„ä»¶æµ‹è¯•: 17 passed; 0 failed; 2 ignored
âœ… æ€»è®¡: 29 passed; 0 failed
```

**å…³é”®æµ‹è¯•**:
- âœ… `test_infer_parameter_true` - éªŒè¯é»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½
- âœ… `test_infer_parameter_false` - éªŒè¯å‘åå…¼å®¹æ€§
- âœ… `test_backward_compatibility` - éªŒè¯ API å…¼å®¹æ€§

### å½±å“è¯„ä¼°

#### ç”¨æˆ·ä½“éªŒæå‡ â­â­â­â­â­

**ä¿®æ”¹å‰**:
```rust
// ç”¨æˆ·å¿…é¡»æ˜¾å¼å¯ç”¨æ™ºèƒ½åŠŸèƒ½
let options = AddMemoryOptions {
    infer: true,  // å¿…é¡»æ‰‹åŠ¨è®¾ç½®
    ..Default::default()
};
mem.add_with_options("I love pizza", options).await?;
```

**ä¿®æ”¹å**:
```rust
// é›¶é…ç½®ï¼Œæ™ºèƒ½åŠŸèƒ½é»˜è®¤å¯ç”¨
mem.add("I love pizza").await?;  // âœ… è‡ªåŠ¨äº‹å®æå–ã€å»é‡ã€å†²çªè§£å†³
```

#### API å…¼å®¹æ€§ âœ…

| åŠŸèƒ½ | Mem0 (Python) | AgentMem (ä¿®æ”¹å‰) | AgentMem (ä¿®æ”¹å) |
|------|---------------|------------------|------------------|
| é»˜è®¤æ™ºèƒ½åŠŸèƒ½ | `infer=True` | âŒ `infer=false` | âœ… `infer=true` |
| é›¶é…ç½®åˆå§‹åŒ– | âœ… | âœ… | âœ… |
| æ˜¾å¼ç¦ç”¨æ™ºèƒ½åŠŸèƒ½ | âœ… | âœ… | âœ… |

#### å‘åå…¼å®¹æ€§ âœ…

ç”¨æˆ·ä»å¯é€šè¿‡ `infer: false` ç¦ç”¨æ™ºèƒ½åŠŸèƒ½ï¼š

```rust
let options = AddMemoryOptions {
    infer: false,  // æ˜¾å¼ç¦ç”¨
    ..Default::default()
};
mem.add_with_options("Raw content", options).await?;
```

### ä¸‹ä¸€æ­¥å»ºè®®

1. **Git Commit** (å¾…æ‰§è¡Œ):
   ```bash
   git add crates/agent-mem/src/types.rs README.md agentmem71.md
   git commit -m "fix(api): ä¿®æ”¹ infer é»˜è®¤å€¼ä¸º trueï¼Œå¯¹æ ‡ Mem0ï¼Œæå‡ API æ˜“ç”¨æ€§

   - ä¿®æ”¹ AddMemoryOptions::default() ä¸­çš„ infer é»˜è®¤å€¼ä» false æ”¹ä¸º true
   - æ›´æ–° README.mdï¼Œæ·»åŠ é›¶é…ç½®å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
   - æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ29/29ï¼‰ï¼Œç¡®ä¿å‘åå…¼å®¹æ€§
   - å¯¹æ ‡ Mem0 çš„é»˜è®¤è¡Œä¸ºï¼Œæå‡ç”¨æˆ·ä½“éªŒ"
   ```

2. **P1 ä»»åŠ¡è¯„ä¼°** (å¯é€‰):
   - Session ç®¡ç†çµæ´»æ€§ä¼˜åŒ–ï¼ˆé¢„è®¡ 1 å‘¨ï¼‰
   - æ ¹æ®èµ„æºæƒ…å†µå†³å®šæ˜¯å¦ç»§ç»­å®æ–½

3. **å‘å¸ƒæ–°ç‰ˆæœ¬** (å»ºè®®):
   - ç‰ˆæœ¬å·ï¼šv2.1.0ï¼ˆMinor ç‰ˆæœ¬ï¼ŒåŒ…å« API è¡Œä¸ºå˜æ›´ï¼‰
   - åœ¨ CHANGELOG ä¸­æ˜ç¡®è¯´æ˜æ­¤å˜æ›´

---

## ğŸ¯ æ ¸å¿ƒç†è§£ï¼šä¸ºä»€ä¹ˆ Augment Code å’Œ Cursor æ•ˆæœå¥½ï¼Ÿ

### å…³é”®æ´å¯Ÿ

**Augment Code** å’Œ **Cursor** çš„æ ¸å¿ƒç«äº‰åŠ›ä¸åœ¨äºç¼–ç¨‹åŠ©æ‰‹çš„ç‰¹å®šåŠŸèƒ½ï¼Œè€Œåœ¨äºï¼š

1. **å¼ºå¤§çš„é€šç”¨è®°å¿†å¹³å°** â­â­â­â­â­
   - èƒ½å¤Ÿ**æŒä¹…åŒ–**å’Œ**æ™ºèƒ½æ£€ç´¢**ä»»ä½•é¢†åŸŸçš„ä¸Šä¸‹æ–‡
   - è·¨ä¼šè¯çš„**é•¿æœŸè®°å¿†**èƒ½åŠ›
   - **è‡ªé€‚åº”**çš„ä¸Šä¸‹æ–‡ç®¡ç†

2. **é¢†åŸŸæ— å…³çš„æ ¸å¿ƒèƒ½åŠ›** â­â­â­â­â­
   - Session ç®¡ç†ï¼ˆuser_id, agent_id, run_idï¼‰
   - è®°å¿†ç”Ÿå‘½å‘¨æœŸç®¡ç†
   - æ™ºèƒ½å»é‡å’Œå†²çªè§£å†³
   - é‡è¦æ€§è¯„ä¼°å’Œä¼˜å…ˆçº§æ’åº
   - æ··åˆæ£€ç´¢ï¼ˆå‘é‡ + å…³é”®è¯ + å›¾è°±ï¼‰

3. **å¯æ‰©å±•çš„æ’ä»¶æ¶æ„** â­â­â­â­â­
   - é€šç”¨è®°å¿†å¹³å°æä¾›åŸºç¡€èƒ½åŠ›
   - æ’ä»¶ç³»ç»Ÿæ‰©å±•åˆ°ç‰¹å®šé¢†åŸŸï¼ˆç¼–ç¨‹ã€å†™ä½œã€ç ”ç©¶ç­‰ï¼‰
   - é¢†åŸŸé€»è¾‘ä¸å¹³å°èƒ½åŠ›è§£è€¦

### é”™è¯¯ç†è§£ vs æ­£ç¡®ç†è§£

| é”™è¯¯ç†è§£ | æ­£ç¡®ç†è§£ |
|---------|---------|
| âŒ Cursor çš„æ ¸å¿ƒæ˜¯ä»£ç è¡¥å…¨åŠŸèƒ½ | âœ… Cursor çš„æ ¸å¿ƒæ˜¯**è®°å¿†å¹³å°**ï¼Œä»£ç è¡¥å…¨åªæ˜¯åº”ç”¨ |
| âŒ Augment Code çš„æ ¸å¿ƒæ˜¯ç¼–ç¨‹åŠ©æ‰‹ | âœ… Augment Code çš„æ ¸å¿ƒæ˜¯**ä¸Šä¸‹æ–‡å¼•æ“**ï¼ˆè®°å¿†å¹³å°ï¼‰ |
| âŒ éœ€è¦ä¸“é—¨å¼€å‘ç¼–ç¨‹åŠ©æ‰‹åŠŸèƒ½ | âœ… éœ€è¦æ„å»º**é€šç”¨è®°å¿†å¹³å°**ï¼Œé€šè¿‡æ’ä»¶æ‰©å±•é¢†åŸŸ |
| âŒ è®°å¿†å¹³å°æ˜¯ä¸ºç¼–ç¨‹æœåŠ¡çš„ | âœ… è®°å¿†å¹³å°æ˜¯**é¢†åŸŸæ— å…³**çš„ï¼Œå¯æœåŠ¡ä»»ä½• AI Agent |

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦ (Executive Summary)

### é¡¹ç›®æ¦‚å†µ

**AgentMem** æ˜¯ä¸€ä¸ªåŸºäº Rust å¼€å‘çš„**é€šç”¨ AI Agent è®°å¿†å¹³å°**ï¼Œå¯¹æ ‡ Python å®ç°çš„ **Mem0**ã€‚æœ¬æ–‡æ¡£åŸºäºå¯¹ä¸¤ä¸ªé¡¹ç›®å®Œæ•´ä»£ç åº“çš„æ·±åº¦åˆ†æï¼Œèšç„¦äº**é€šç”¨è®°å¿†å¹³å°çš„æ ¸å¿ƒèƒ½åŠ›**ï¼Œè€Œéç‰¹å®šé¢†åŸŸçš„åº”ç”¨ã€‚

| ç»´åº¦ | AgentMem | Mem0 | ç›®æ ‡ |
|------|----------|------|------|
| **å®šä½** | é€šç”¨è®°å¿†å¹³å° | é€šç”¨è®°å¿†å¹³å° | é€šç”¨è®°å¿†å¹³å° |
| **è¯­è¨€** | Rust | Python | Rust |
| **ä»£ç è§„æ¨¡** | 623 ä¸ª Rust æ–‡ä»¶ | 541 ä¸ª Python æ–‡ä»¶ | - |
| **Cratesæ•°é‡** | 154 ä¸ªç‹¬ç«‹ crates | å•ä¸€ Python åŒ… | - |
| **æ ¸å¿ƒç‰¹æ€§** | 8ç§è®°å¿†ç±»å‹ã€WASMæ’ä»¶ã€æ··åˆæœç´¢ | å‘é‡æœç´¢ã€28+å‘é‡å­˜å‚¨ã€å›¾è®°å¿† | é€šç”¨ + å¯æ‰©å±• |
| **æ€§èƒ½** | é«˜æ€§èƒ½ï¼ˆRuståŸç”Ÿï¼‰ | ä¸­ç­‰ï¼ˆPythonè§£é‡Šå‹ï¼‰ | é«˜æ€§èƒ½ |
| **éƒ¨ç½²** | å•äºŒè¿›åˆ¶ã€Dockerã€K8s | Pythonç¯å¢ƒä¾èµ– | ç®€å•éƒ¨ç½² |
| **APIæ˜“ç”¨æ€§** | ä¸­ç­‰ï¼ˆéœ€é…ç½®ï¼‰ | é«˜ï¼ˆé›¶é…ç½®ï¼‰ | é«˜æ˜“ç”¨æ€§ |
| **é¢†åŸŸæ‰©å±•** | WASM æ’ä»¶ç³»ç»Ÿ | Python æ’ä»¶ | WASM æ’ä»¶ |

### å…³é”®å‘ç°

#### âœ… AgentMem çš„é€šç”¨è®°å¿†å¹³å°æ ¸å¿ƒèƒ½åŠ›

**1. Session ç®¡ç†å’Œä¸Šä¸‹æ–‡éš”ç¦»** â­â­â­â­â­

AgentMem å·²å®ç°å®Œæ•´çš„ Session ç®¡ç†ç³»ç»Ÿï¼š

<augment_code_snippet path="crates/agent-mem/src/types.rs" mode="EXCERPT">
````rust
pub struct AddMemoryOptions {
    pub user_id: Option<String>,    // ç”¨æˆ·çº§éš”ç¦»
    pub agent_id: Option<String>,   // Agent çº§éš”ç¦»
    pub run_id: Option<String>,     // è¿è¡Œçº§éš”ç¦»
    pub metadata: HashMap<String, serde_json::Value>,
}
````
</augment_code_snippet>

**å¯¹æ ‡ Mem0**: âœ… å®Œå…¨å…¼å®¹ `user_id`, `agent_id`, `run_id` ä¸‰å±‚éš”ç¦»
**é€šç”¨æ€§**: âœ… é€‚ç”¨äºä»»ä½•é¢†åŸŸçš„ AI Agentï¼ˆç¼–ç¨‹ã€å†™ä½œã€ç ”ç©¶ã€å®¢æœç­‰ï¼‰

---

**2. è®°å¿†ç”Ÿå‘½å‘¨æœŸç®¡ç†** â­â­â­â­â­

<augment_code_snippet path="crates/agent-mem-core/src/managers/lifecycle_manager.rs" mode="EXCERPT">
````rust
pub enum MemoryState {
    Created, Active, Archived, Deprecated, Deleted
}
pub enum LifecycleEventType {
    Created, Accessed, Updated, Archived, Deleted, Restored
}
````
</augment_code_snippet>

**æ ¸å¿ƒåŠŸèƒ½**: è‡ªåŠ¨å½’æ¡£ã€è®°å¿†æ¢å¤ã€æ°¸ä¹…åˆ é™¤ã€ç”Ÿå‘½å‘¨æœŸäº‹ä»¶è¿½è¸ª
**é€šç”¨æ€§**: âœ… é€‚ç”¨äºä»»ä½•éœ€è¦è®°å¿†ç®¡ç†çš„åœºæ™¯

---

**3. æ™ºèƒ½è®°å¿†æ“ä½œï¼ˆé¢†åŸŸæ— å…³ï¼‰** â­â­â­â­â­

| æ™ºèƒ½ç»„ä»¶ | åŠŸèƒ½ | é€šç”¨æ€§ |
|---------|------|--------|
| **FactExtractor** | ä»æ–‡æœ¬æå–äº‹å® | âœ… é€‚ç”¨äºä»»ä½•æ–‡æœ¬å†…å®¹ |
| **ImportanceEvaluator** | è¯„ä¼°è®°å¿†é‡è¦æ€§ | âœ… é€‚ç”¨äºä»»ä½•ç±»å‹çš„è®°å¿† |
| **ConflictResolver** | æ£€æµ‹å†²çªã€é‡å¤ã€è¿‡æ—¶ | âœ… é€‚ç”¨äºä»»ä½•è®°å¿†ç³»ç»Ÿ |
| **DecisionEngine** | æ™ºèƒ½å†³ç­–ï¼ˆADD/UPDATE/DELETEï¼‰ | âœ… é€‚ç”¨äºä»»ä½•è®°å¿†æ“ä½œ |

**å…³é”®ç‰¹æ€§**: æ‰€æœ‰ç»„ä»¶éƒ½ä¸ä¾èµ–ç‰¹å®šé¢†åŸŸçŸ¥è¯†ï¼Œé€šè¿‡ LLM æç¤ºè¯é€‚é…ä¸åŒé¢†åŸŸ

---

**4. è·¨é¢†åŸŸè®°å¿†æ£€ç´¢** â­â­â­â­â­

<augment_code_snippet path="crates/agent-mem/src/orchestrator.rs" mode="EXCERPT">
````rust
pub enum SearchMode {
    Semantic,    // å‘é‡ç›¸ä¼¼åº¦æœç´¢
    Keyword,     // å…³é”®è¯æœç´¢ï¼ˆBM25ï¼‰
    Hybrid,      // æ··åˆæœç´¢ï¼ˆRRF èåˆï¼‰
}
````
</augment_code_snippet>

**æ ¸å¿ƒèƒ½åŠ›**: å‘é‡æ£€ç´¢ã€å…³é”®è¯æ£€ç´¢ã€æ··åˆæ£€ç´¢ã€å›¾è°±æ£€ç´¢
**é€šç”¨æ€§**: âœ… é€‚ç”¨äºä»»ä½•ç±»å‹çš„å†…å®¹æ£€ç´¢

---

**5. æ’ä»¶æ‰©å±•ç‚¹ï¼ˆé¢†åŸŸç‰¹å®šé€»è¾‘ï¼‰** â­â­â­â­â­

<augment_code_snippet path="crates/agent-mem-plugin-sdk/src/plugin.rs" mode="EXCERPT">
````rust
pub trait Plugin {
    fn initialize(&mut self, config: PluginConfig) -> Result<()>;
    fn start(&mut self) -> Result<()>;
    fn stop(&mut self) -> Result<()>;
}
````
</augment_code_snippet>

**æ‰©å±•ç‚¹**: è®°å¿†å¤„ç†ã€æœç´¢ç®—æ³•ã€æ•°æ®æºã€å¤šæ¨¡æ€
**é€šç”¨æ€§**: âœ… å¹³å°æä¾›é€šç”¨èƒ½åŠ›ï¼Œæ’ä»¶æä¾›é¢†åŸŸé€»è¾‘

---

#### âš ï¸ éœ€è¦æ”¹è¿›çš„é—®é¢˜ï¼ˆèšç„¦é€šç”¨èƒ½åŠ›ï¼‰

**1. API æ˜“ç”¨æ€§é—®é¢˜ï¼ˆP0 - 1 å°æ—¶ï¼‰**

**é—®é¢˜**: `infer` é»˜è®¤å€¼ä¸º `false`ï¼Œä¸ Mem0 ä¸å…¼å®¹

<augment_code_snippet path="crates/agent-mem/src/types.rs" mode="EXCERPT">
````rust
impl Default for AddMemoryOptions {
    fn default() -> Self {
        Self { infer: false, /* âŒ åº”è¯¥æ˜¯ true */ }
    }
}
````
</augment_code_snippet>

**å½±å“**: ç”¨æˆ·å¿…é¡»æ˜¾å¼è®¾ç½® `infer: true` æ‰èƒ½ä½¿ç”¨æ™ºèƒ½åŠŸèƒ½
**ä¿®å¤**: 1 è¡Œä»£ç ï¼Œ1 å°æ—¶å·¥ä½œé‡

---

**2. Session ç®¡ç†ä¸å¤Ÿçµæ´»ï¼ˆP1 - 1 å‘¨ï¼‰**

**é—®é¢˜**: å½“å‰ä¾èµ– `agent_id`ï¼Œä¸æ”¯æŒçº¯ `user_id` æˆ– `org_id` åœºæ™¯
**ä¿®å¤**: å¼•å…¥ `MemoryScope` æšä¸¾ï¼Œæ”¯æŒå¤šç§éš”ç¦»æ¨¡å¼

---

**3. æ–‡æ¡£ä¸å®Œæ•´ï¼ˆP1 - 1 å‘¨ï¼‰**

**ç¼ºå¤±å†…å®¹**: å¿«é€Ÿå…¥é—¨æŒ‡å—ã€Session ç®¡ç†æœ€ä½³å®è·µã€æ’ä»¶å¼€å‘æ•™ç¨‹

---

**4. å‘é‡å­˜å‚¨æ”¯æŒæœ‰é™ï¼ˆP2 - 2 å‘¨ï¼‰**

**é—®é¢˜**: å½“å‰ä»…æ”¯æŒ LanceDBï¼ŒMem0 æ”¯æŒ 28+ ç§
**éœ€è¦æ”¯æŒ**: Qdrantã€Milvusã€Chromaã€Pinecone

---

## ğŸ—ï¸ é€šç”¨è®°å¿†å¹³å°æ¶æ„æ·±åº¦å¯¹æ¯”

### æ ¸å¿ƒç†å¿µï¼šé€šç”¨èƒ½åŠ› vs é¢†åŸŸç‰¹å®š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   é€šç”¨è®°å¿†å¹³å°æ ¸å¿ƒå±‚                          â”‚
â”‚  - Session ç®¡ç†ï¼ˆuser_id, agent_id, run_idï¼‰                â”‚
â”‚  - è®°å¿†ç”Ÿå‘½å‘¨æœŸï¼ˆåˆ›å»ºã€å½’æ¡£ã€åˆ é™¤ã€æ¢å¤ï¼‰                     â”‚
â”‚  - æ™ºèƒ½æ“ä½œï¼ˆå»é‡ã€å†²çªè§£å†³ã€é‡è¦æ€§è¯„ä¼°ï¼‰                     â”‚
â”‚  - æ··åˆæ£€ç´¢ï¼ˆå‘é‡ + å…³é”®è¯ + å›¾è°±ï¼‰                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ’ä»¶æ‰©å±•å±‚ï¼ˆé¢†åŸŸç‰¹å®šï¼‰                      â”‚
â”‚  - ç¼–ç¨‹åŠ©æ‰‹æ’ä»¶ï¼ˆä»£ç åˆ†æã€API æ–‡æ¡£ï¼‰                        â”‚
â”‚  - å†™ä½œåŠ©æ‰‹æ’ä»¶ï¼ˆè¯­æ³•æ£€æŸ¥ã€é£æ ¼å»ºè®®ï¼‰                        â”‚
â”‚  - ç ”ç©¶åŠ©æ‰‹æ’ä»¶ï¼ˆè®ºæ–‡æ£€ç´¢ã€å¼•ç”¨ç®¡ç†ï¼‰                        â”‚
â”‚  - å®¢æœåŠ©æ‰‹æ’ä»¶ï¼ˆFAQ åŒ¹é…ã€æƒ…æ„Ÿåˆ†æï¼‰                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1. AgentMem é€šç”¨è®°å¿†å¹³å°æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Memory API (é€šç”¨æ¥å£å±‚)                     â”‚
â”‚  - add(messages, user_id, agent_id, run_id, metadata)       â”‚
â”‚  - search(query, filters, limit)                            â”‚
â”‚  - get_all(filters) / delete(memory_id)                     â”‚
â”‚  - update(memory_id, data) / history()                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           MemoryOrchestrator (æ™ºèƒ½ç¼–æ’å±‚)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Session ç®¡ç†                                         â”‚   â”‚
â”‚  â”‚  - user_id/agent_id/run_id éš”ç¦»                     â”‚   â”‚
â”‚  â”‚  - metadata è‡ªå®šä¹‰ç»´åº¦ï¼ˆorg_id, session_idï¼‰        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ™ºèƒ½æ“ä½œï¼ˆé¢†åŸŸæ— å…³ï¼‰                                 â”‚   â”‚
â”‚  â”‚  - FactExtractor: æå–äº‹å®                          â”‚   â”‚
â”‚  â”‚  - ConflictResolver: å»é‡å’Œå†²çªè§£å†³                 â”‚   â”‚
â”‚  â”‚  - ImportanceEvaluator: é‡è¦æ€§è¯„ä¼°                  â”‚   â”‚
â”‚  â”‚  - DecisionEngine: æ™ºèƒ½å†³ç­–ï¼ˆADD/UPDATE/DELETEï¼‰    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ··åˆæ£€ç´¢å¼•æ“                                         â”‚   â”‚
â”‚  â”‚  - Semantic Search (å‘é‡ç›¸ä¼¼åº¦)                     â”‚   â”‚
â”‚  â”‚  - Keyword Search (BM25)                            â”‚   â”‚
â”‚  â”‚  - Hybrid Search (RRF èåˆ)                         â”‚   â”‚
â”‚  â”‚  - Graph Search (å…³ç³»æ¨ç†)                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  8 ç§è®°å¿†ç±»å‹   â”‚ â”‚ ç”Ÿå‘½å‘¨æœŸâ”‚ â”‚  çŸ¥è¯†å›¾è°±      â”‚
â”‚  (é¢†åŸŸæ— å…³)     â”‚ â”‚ ç®¡ç†    â”‚ â”‚  å¼•æ“          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Storage Layer (å­˜å‚¨å±‚)                 â”‚
â”‚  - LibSQL (ç»“æ„åŒ–æ•°æ® + å…ƒæ•°æ®)                  â”‚
â”‚  - LanceDB (å‘é‡æ•°æ® + åµŒå…¥)                     â”‚
â”‚  - PostgreSQL (å¯é€‰ï¼Œä¼ä¸šçº§)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Plugin System (WASM æ’ä»¶ç³»ç»Ÿ)              â”‚
â”‚  - MemoryProcessor: é¢†åŸŸç‰¹å®šçš„å†…å®¹å¤„ç†          â”‚
â”‚  - SearchAlgorithm: é¢†åŸŸç‰¹å®šçš„æ£€ç´¢ç­–ç•¥          â”‚
â”‚  - DataSource: å¤–éƒ¨æ•°æ®æºé›†æˆ                   â”‚
â”‚  - Multimodal: å¤šæ¨¡æ€å†…å®¹å¤„ç†                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®ç»„ä»¶ï¼ˆé€šç”¨èƒ½åŠ›ï¼‰**:

| ç»„ä»¶ | åŠŸèƒ½ | é€šç”¨æ€§ | ä»£ç ä½ç½® |
|------|------|--------|---------|
| **Memory API** | ç»Ÿä¸€æ¥å£ | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem/src/lib.rs` |
| **MemoryOrchestrator** | æ™ºèƒ½ç¼–æ’ | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem/src/orchestrator.rs` |
| **Session ç®¡ç†** | ä¸Šä¸‹æ–‡éš”ç¦» | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem/src/types.rs` |
| **LifecycleManager** | ç”Ÿå‘½å‘¨æœŸç®¡ç† | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem-core/src/managers/lifecycle_manager.rs` |
| **FactExtractor** | äº‹å®æå– | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem-intelligence/fact-extractor/` |
| **ConflictResolver** | å†²çªè§£å†³ | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem-intelligence/conflict-resolver/` |
| **ImportanceEvaluator** | é‡è¦æ€§è¯„ä¼° | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem-intelligence/importance-evaluator/` |
| **DecisionEngine** | æ™ºèƒ½å†³ç­– | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem-intelligence/decision-engine/` |
| **Hybrid Search** | æ··åˆæ£€ç´¢ | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem/src/orchestrator.rs` |
| **Plugin System** | æ’ä»¶æ‰©å±• | âœ… é¢†åŸŸæ‰©å±•ç‚¹ | `crates/agent-mem-plugin-sdk/` |

**å­˜å‚¨æŠ½è±¡å±‚ï¼ˆé€šç”¨ï¼‰**:
- **LanceDB**: åµŒå…¥å¼å‘é‡æ•°æ®åº“ï¼ˆé›¶é…ç½®ï¼‰
- **LibSQL**: ç»“æ„åŒ–æ•°æ®å­˜å‚¨ï¼ˆSQLite å…¼å®¹ï¼‰
- **PostgreSQL**: ä¼ä¸šçº§å…³ç³»æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰

**LLM é›†æˆå±‚ï¼ˆé€šç”¨ï¼‰**:
- **OpenAI**: GPT-3.5/GPT-4
- **Zhipu**: æ™ºè°± AIï¼ˆå›½å†…ï¼‰
- **Anthropic**: Claude
- **Ollama**: æœ¬åœ°æ¨¡å‹
- **LocalTest**: æµ‹è¯•æ¨¡å¼

**åµŒå…¥æ¨¡å‹é›†æˆï¼ˆé€šç”¨ï¼‰**:
- **FastEmbed**: é»˜è®¤ï¼ˆé›¶é…ç½®ï¼‰
- **OpenAI**: text-embedding-ada-002
- **HuggingFace**: å¼€æºæ¨¡å‹
- **Cohere**: Cohere Embed

### 2. Mem0 é€šç”¨è®°å¿†å¹³å°æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Memory API (é€šç”¨æ¥å£å±‚)                         â”‚
â”‚  - add(messages, user_id, agent_id, run_id, infer=True)     â”‚
â”‚  - search(query, user_id, agent_id, run_id, limit)          â”‚
â”‚  - get_all(user_id, agent_id, run_id)                       â”‚
â”‚  - delete(memory_id) / update(memory_id, data)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                MemoryBase (æ ¸å¿ƒé€»è¾‘å±‚)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Session ç®¡ç†ï¼ˆé€šç”¨ï¼‰                                 â”‚   â”‚
â”‚  â”‚  - _build_filters_and_metadata()                    â”‚   â”‚
â”‚  â”‚  - user_id/agent_id/run_id éš”ç¦»                     â”‚   â”‚
â”‚  â”‚  - metadata è‡ªå®šä¹‰ç»´åº¦                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ™ºèƒ½æ“ä½œï¼ˆé€šç”¨ï¼‰                                     â”‚   â”‚
â”‚  â”‚  - _add_to_vector_store(): äº‹å®æå– + å»é‡          â”‚   â”‚
â”‚  â”‚  - get_fact_retrieval_messages(): LLM æç¤ºè¯        â”‚   â”‚
â”‚  â”‚  - _create_memory_tool(): æ™ºèƒ½å†³ç­–                  â”‚   â”‚
â”‚  â”‚  - _update_memory_tool(): æ›´æ–°ç­–ç•¥                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ£€ç´¢å¼•æ“ï¼ˆé€šç”¨ï¼‰                                     â”‚   â”‚
â”‚  â”‚  - _search_vector_store(): å‘é‡æ£€ç´¢                 â”‚   â”‚
â”‚  â”‚  - Reranker: é‡æ’åºï¼ˆå¯é€‰ï¼‰                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VectorStore    â”‚ â”‚  LLM   â”‚ â”‚  Embedder      â”‚
â”‚  (28ç§æ”¯æŒ)     â”‚ â”‚ (22ç§) â”‚ â”‚  (17ç§)        â”‚
â”‚  Qdrant/        â”‚ â”‚ OpenAI â”‚ â”‚  OpenAI/       â”‚
â”‚  Pinecone/      â”‚ â”‚ Claude â”‚ â”‚  HuggingFace   â”‚
â”‚  Chroma/etc     â”‚ â”‚ etc    â”‚ â”‚  etc           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚               â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SQLite (å†å²è®°å½•)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®ç»„ä»¶ï¼ˆé€šç”¨èƒ½åŠ›ï¼‰**:

| ç»„ä»¶ | åŠŸèƒ½ | é€šç”¨æ€§ | ä»£ç ä½ç½® |
|------|------|--------|---------|
| **Memory API** | ç»Ÿä¸€æ¥å£ | âœ… é¢†åŸŸæ— å…³ | `mem0/memory/main.py` |
| **Session ç®¡ç†** | ä¸Šä¸‹æ–‡éš”ç¦» | âœ… é¢†åŸŸæ— å…³ | `_build_filters_and_metadata()` |
| **æ™ºèƒ½æ“ä½œ** | äº‹å®æå–ã€å»é‡ã€å†³ç­– | âœ… é¢†åŸŸæ— å…³ | `_add_to_vector_store()` |
| **æ£€ç´¢å¼•æ“** | å‘é‡æ£€ç´¢ + é‡æ’åº | âœ… é¢†åŸŸæ— å…³ | `_search_vector_store()` |
| **VectorStore** | 28+ ç§å‘é‡å­˜å‚¨ | âœ… é¢†åŸŸæ— å…³ | `mem0/vector_stores/` |
| **LLM** | 22+ ç§ LLM | âœ… é¢†åŸŸæ— å…³ | `mem0/llms/` |
| **Embedder** | 17+ ç§åµŒå…¥æ¨¡å‹ | âœ… é¢†åŸŸæ— å…³ | `mem0/embeddings/` |
| **Reranker** | 7+ ç§é‡æ’åº | âœ… é¢†åŸŸæ— å…³ | `mem0/reranker/` |

**Mem0 çš„æ ¸å¿ƒè®¾è®¡ç†å¿µ**:
1. **é›¶é…ç½®å¯åŠ¨**: `Memory()` å³å¯ä½¿ç”¨ï¼Œè‡ªåŠ¨é€‰æ‹©é»˜è®¤ç»„ä»¶
2. **infer=True é»˜è®¤**: é»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½ï¼ˆäº‹å®æå–ã€å»é‡ã€å†³ç­–ï¼‰
3. **çµæ´»çš„ Session ç®¡ç†**: æ”¯æŒ `user_id`, `agent_id`, `run_id` ä»»æ„ç»„åˆ
4. **ä¸°å¯Œçš„é›†æˆ**: 28+ å‘é‡å­˜å‚¨ã€22+ LLMã€17+ åµŒå…¥æ¨¡å‹
5. **é¢†åŸŸæ— å…³**: æ‰€æœ‰åŠŸèƒ½éƒ½ä¸ä¾èµ–ç‰¹å®šé¢†åŸŸçŸ¥è¯†

### 3. é€šç”¨è®°å¿†å¹³å°æ¶æ„å¯¹æ¯”æ€»ç»“

| ç»´åº¦ | AgentMem | Mem0 | åˆ†æ |
|------|----------|------|------|
| **é€šç”¨èƒ½åŠ›** | | | |
| Session ç®¡ç† | âœ… å®Œæ•´ | âœ… å®Œæ•´ | ä¸¤è€…éƒ½æ”¯æŒ user_id/agent_id/run_id |
| è®°å¿†ç”Ÿå‘½å‘¨æœŸ | âœ… å®Œæ•´ | âš ï¸ åŸºç¡€ | AgentMem æ›´å®Œå–„ï¼ˆå½’æ¡£ã€æ¢å¤ã€å®¡è®¡ï¼‰ |
| æ™ºèƒ½æ“ä½œ | âœ… 8 ä¸ªç»„ä»¶ | âœ… é›†æˆåœ¨ä¸»ç±» | AgentMem æ›´æ¨¡å—åŒ–ï¼ŒMem0 æ›´æ˜“ç”¨ |
| æ··åˆæ£€ç´¢ | âœ… å‘é‡+BM25+å›¾è°± | âœ… å‘é‡+é‡æ’åº | AgentMem æ›´å…¨é¢ï¼ŒMem0 æ›´ç®€æ´ |
| æ’ä»¶ç³»ç»Ÿ | âœ… WASM | âš ï¸ Python | AgentMem æ›´å®‰å…¨ã€è·¨è¯­è¨€ |
| **æ˜“ç”¨æ€§** | | | |
| é›¶é…ç½®å¯åŠ¨ | âŒ éœ€é…ç½® | âœ… é›¶é…ç½® | **Mem0 ä¼˜åŠ¿** |
| infer é»˜è®¤å€¼ | âŒ false | âœ… true | **Mem0 ä¼˜åŠ¿** |
| API ç®€æ´æ€§ | âš ï¸ ä¸­ç­‰ | âœ… é«˜ | **Mem0 ä¼˜åŠ¿** |
| æ–‡æ¡£å®Œæ•´æ€§ | âš ï¸ ä¸è¶³ | âœ… å®Œæ•´ | **Mem0 ä¼˜åŠ¿** |
| **é›†æˆç”Ÿæ€** | | | |
| å‘é‡å­˜å‚¨ | âš ï¸ 3 ç§ | âœ… 28+ ç§ | **Mem0 ä¼˜åŠ¿** |
| LLM é›†æˆ | âš ï¸ 5 ç§ | âœ… 22+ ç§ | **Mem0 ä¼˜åŠ¿** |
| åµŒå…¥æ¨¡å‹ | âš ï¸ 5 ç§ | âœ… 17+ ç§ | **Mem0 ä¼˜åŠ¿** |
| é‡æ’åº | âŒ æ—  | âœ… 7+ ç§ | **Mem0 ä¼˜åŠ¿** |
| **æ€§èƒ½å’Œéƒ¨ç½²** | | | |
| è¿è¡Œæ—¶æ€§èƒ½ | âœ… é«˜ï¼ˆRustï¼‰ | âš ï¸ ä¸­ï¼ˆPythonï¼‰ | **AgentMem ä¼˜åŠ¿** |
| å†…å­˜å ç”¨ | âœ… ä½ï¼ˆ~50MBï¼‰ | âš ï¸ é«˜ï¼ˆ~200MBï¼‰ | **AgentMem ä¼˜åŠ¿** |
| å¹¶å‘èƒ½åŠ› | âœ… é«˜ï¼ˆ10k+ QPSï¼‰ | âš ï¸ ä¸­ï¼ˆ1k QPSï¼‰ | **AgentMem ä¼˜åŠ¿** |
| éƒ¨ç½²å¤æ‚åº¦ | âœ… å•äºŒè¿›åˆ¶ | âš ï¸ Python ç¯å¢ƒ | **AgentMem ä¼˜åŠ¿** |
| **æ¶æ„è®¾è®¡** | | | |
| æ¨¡å—åŒ–ç¨‹åº¦ | âœ… é«˜ï¼ˆ154 cratesï¼‰ | âš ï¸ ä¸­ï¼ˆå•åŒ…ï¼‰ | **AgentMem ä¼˜åŠ¿** |
| ç±»å‹å®‰å…¨ | âœ… ç¼–è¯‘æ—¶ | âš ï¸ è¿è¡Œæ—¶ | **AgentMem ä¼˜åŠ¿** |
| å¯æ‰©å±•æ€§ | âœ… WASM æ’ä»¶ | âš ï¸ Python æ’ä»¶ | **AgentMem ä¼˜åŠ¿** |

### 4. æ ¸å¿ƒç»“è®º

**AgentMem çš„ä¼˜åŠ¿**:
- âœ… é€šç”¨è®°å¿†å¹³å°çš„æ ¸å¿ƒèƒ½åŠ›å·²å®Œæ•´å®ç°
- âœ… æ¶æ„è®¾è®¡æ›´å…ˆè¿›ï¼ˆæ¨¡å—åŒ–ã€ç±»å‹å®‰å…¨ã€WASM æ’ä»¶ï¼‰
- âœ… æ€§èƒ½å’Œéƒ¨ç½²ä¼˜åŠ¿æ˜æ˜¾ï¼ˆRustã€å•äºŒè¿›åˆ¶ï¼‰

**AgentMem çš„åŠ£åŠ¿**:
- âŒ API æ˜“ç”¨æ€§ä¸è¶³ï¼ˆéœ€é…ç½®ã€infer=false é»˜è®¤ï¼‰
- âŒ é›†æˆç”Ÿæ€ä¸è¶³ï¼ˆå‘é‡å­˜å‚¨ã€LLMã€åµŒå…¥æ¨¡å‹ï¼‰
- âŒ æ–‡æ¡£å’Œç¤ºä¾‹ä¸å®Œæ•´

**æ”¹è¿›æ–¹å‘**:
1. **P0**: ä¿®å¤ API æ˜“ç”¨æ€§é—®é¢˜ï¼ˆinfer é»˜è®¤å€¼ã€é›¶é…ç½®å¯åŠ¨ï¼‰
2. **P1**: æ‰©å±•é›†æˆç”Ÿæ€ï¼ˆå‘é‡å­˜å‚¨ã€LLMã€åµŒå…¥æ¨¡å‹ï¼‰
3. **P2**: å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹ï¼ˆå¿«é€Ÿå…¥é—¨ã€æœ€ä½³å®è·µã€æ’ä»¶å¼€å‘ï¼‰

---

## ğŸ”Œ é€šç”¨è®°å¿†å¹³å° + æ’ä»¶æ‰©å±•æ¶æ„

### æ ¸å¿ƒè®¾è®¡ç†å¿µ

**AgentMem çš„è®¾è®¡å“²å­¦**:
1. **å¹³å°å±‚**ï¼šæä¾›é¢†åŸŸæ— å…³çš„é€šç”¨è®°å¿†èƒ½åŠ›
2. **æ’ä»¶å±‚**ï¼šé€šè¿‡ WASM æ’ä»¶æ‰©å±•åˆ°ç‰¹å®šé¢†åŸŸ
3. **è§£è€¦åŸåˆ™**ï¼šå¹³å°èƒ½åŠ›ä¸é¢†åŸŸé€»è¾‘å®Œå…¨è§£è€¦

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åº”ç”¨å±‚ï¼ˆä¸åŒé¢†åŸŸï¼‰                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ç¼–ç¨‹åŠ©æ‰‹ â”‚  â”‚ å†™ä½œåŠ©æ‰‹ â”‚  â”‚ ç ”ç©¶åŠ©æ‰‹ â”‚  â”‚ å®¢æœåŠ©æ‰‹ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ’ä»¶å±‚ï¼ˆé¢†åŸŸç‰¹å®šï¼‰                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ä»£ç åˆ†ææ’ä»¶ï¼šAST è§£æã€ä¾èµ–åˆ†æã€API æ–‡æ¡£æå–      â”‚   â”‚
â”‚  â”‚ è¯­æ³•æ£€æŸ¥æ’ä»¶ï¼šæ‹¼å†™æ£€æŸ¥ã€è¯­æ³•çº é”™ã€é£æ ¼å»ºè®®          â”‚   â”‚
â”‚  â”‚ è®ºæ–‡æ£€ç´¢æ’ä»¶ï¼šå¼•ç”¨ç®¡ç†ã€æ–‡çŒ®æ£€ç´¢ã€çŸ¥è¯†å›¾è°±          â”‚   â”‚
â”‚  â”‚ FAQ åŒ¹é…æ’ä»¶ï¼šæ„å›¾è¯†åˆ«ã€æƒ…æ„Ÿåˆ†æã€è‡ªåŠ¨å›å¤          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              é€šç”¨è®°å¿†å¹³å°å±‚ï¼ˆé¢†åŸŸæ— å…³ï¼‰                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Session ç®¡ç†ï¼šuser_id, agent_id, run_id éš”ç¦»        â”‚   â”‚
â”‚  â”‚ ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šåˆ›å»ºã€å½’æ¡£ã€åˆ é™¤ã€æ¢å¤                 â”‚   â”‚
â”‚  â”‚ æ™ºèƒ½æ“ä½œï¼šäº‹å®æå–ã€å»é‡ã€å†²çªè§£å†³ã€é‡è¦æ€§è¯„ä¼°       â”‚   â”‚
â”‚  â”‚ æ··åˆæ£€ç´¢ï¼šå‘é‡ + å…³é”®è¯ + å›¾è°±                      â”‚   â”‚
â”‚  â”‚ çŸ¥è¯†å›¾è°±ï¼šå®ä½“ã€å…³ç³»ã€æ¨ç†                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ’ä»¶ç³»ç»Ÿæ¶æ„

**1. æ’ä»¶ç±»å‹**

<augment_code_snippet path="crates/agent-mem-plugin-sdk/src/types.rs" mode="EXCERPT">
````rust
pub enum PluginType {
    MemoryProcessor,    // è®°å¿†å¤„ç†ï¼ˆé¢†åŸŸç‰¹å®šçš„å†…å®¹å¢å¼ºï¼‰
    CodeAnalyzer,       // ä»£ç åˆ†æï¼ˆç¼–ç¨‹é¢†åŸŸï¼‰
    SearchAlgorithm,    // æœç´¢ç®—æ³•ï¼ˆè‡ªå®šä¹‰æ£€ç´¢ç­–ç•¥ï¼‰
    DataSource,         // æ•°æ®æºï¼ˆå¤–éƒ¨æ•°æ®é›†æˆï¼‰
    Multimodal,         // å¤šæ¨¡æ€ï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ï¼‰
    Custom(String),     // è‡ªå®šä¹‰ç±»å‹
}
````
</augment_code_snippet>

**2. æ’ä»¶ç”Ÿå‘½å‘¨æœŸ**

<augment_code_snippet path="crates/agent-mem-plugin-sdk/src/plugin.rs" mode="EXCERPT">
````rust
pub trait Plugin {
    fn initialize(&mut self, config: PluginConfig) -> Result<()>;
    fn start(&mut self) -> Result<()>;
    fn stop(&mut self) -> Result<()>;
    fn metadata(&self) -> PluginMetadata;
}
````
</augment_code_snippet>

**3. Host èƒ½åŠ›ï¼ˆå¹³å°æä¾›ç»™æ’ä»¶çš„èƒ½åŠ›ï¼‰**

```rust
pub enum HostCapability {
    MemoryAccess,       // è®¿é—®è®°å¿†æ•°æ®
    StorageAccess,      // è®¿é—®å­˜å‚¨å±‚
    SearchAccess,       // è®¿é—®æœç´¢å¼•æ“
    LLMAccess,          // è®¿é—® LLM
    NetworkAccess,      // è®¿é—®ç½‘ç»œ
    FileSystemAccess,   // è®¿é—®æ–‡ä»¶ç³»ç»Ÿ
    LoggingAccess,      // è®¿é—®æ—¥å¿—ç³»ç»Ÿ
    ConfigAccess,       // è®¿é—®é…ç½®
}
```

### é¢†åŸŸæ‰©å±•ç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šç¼–ç¨‹åŠ©æ‰‹æ’ä»¶

**æ’ä»¶åŠŸèƒ½**ï¼ˆé¢†åŸŸç‰¹å®šï¼‰:
- ä»£ç è¯­æ³•åˆ†æï¼ˆAST è§£æï¼‰
- API æ–‡æ¡£æå–
- ä¾èµ–å…³ç³»åˆ†æ
- ä»£ç è¡¥å…¨ä¸Šä¸‹æ–‡

**ä½¿ç”¨å¹³å°èƒ½åŠ›**ï¼ˆé€šç”¨ï¼‰:
- Session ç®¡ç†ï¼šéš”ç¦»ä¸åŒé¡¹ç›®çš„è®°å¿†
- æ™ºèƒ½æ“ä½œï¼šæå–ä»£ç ä¸­çš„äº‹å®ï¼ˆå‡½æ•°ã€ç±»ã€å˜é‡ï¼‰
- æ··åˆæ£€ç´¢ï¼šæŸ¥æ‰¾ç›¸å…³ä»£ç ç‰‡æ®µ
- çŸ¥è¯†å›¾è°±ï¼šæ„å»ºä»£ç ä¾èµ–å…³ç³»å›¾

**æ’ä»¶å®ç°**:
```rust
// ç¼–ç¨‹åŠ©æ‰‹æ’ä»¶ï¼ˆWASMï¼‰
#[plugin_fn]
pub fn process_code(input: String) -> FnResult<String> {
    let code: CodeInput = serde_json::from_str(&input)?;

    // 1. é¢†åŸŸç‰¹å®šï¼šè§£æä»£ç  AST
    let ast = parse_code_ast(&code.content)?;

    // 2. é¢†åŸŸç‰¹å®šï¼šæå– API æ–‡æ¡£
    let api_docs = extract_api_docs(&ast)?;

    // 3. è°ƒç”¨å¹³å°èƒ½åŠ›ï¼šå­˜å‚¨åˆ°è®°å¿†ç³»ç»Ÿ
    host::memory_add(&serde_json::to_string(&api_docs)?)?;

    // 4. è°ƒç”¨å¹³å°èƒ½åŠ›ï¼šæ„å»ºçŸ¥è¯†å›¾è°±
    host::graph_add_relations(&serde_json::to_string(&relations)?)?;

    Ok(serde_json::to_string(&result)?)
}
```

---

#### ç¤ºä¾‹ 2ï¼šå†™ä½œåŠ©æ‰‹æ’ä»¶

**æ’ä»¶åŠŸèƒ½**ï¼ˆé¢†åŸŸç‰¹å®šï¼‰:
- è¯­æ³•æ£€æŸ¥
- é£æ ¼å»ºè®®
- å¼•ç”¨ç®¡ç†
- å†™ä½œæ¨¡æ¿

**ä½¿ç”¨å¹³å°èƒ½åŠ›**ï¼ˆé€šç”¨ï¼‰:
- Session ç®¡ç†ï¼šéš”ç¦»ä¸åŒæ–‡æ¡£çš„è®°å¿†
- æ™ºèƒ½æ“ä½œï¼šæå–å†™ä½œé£æ ¼åå¥½
- æ··åˆæ£€ç´¢ï¼šæŸ¥æ‰¾ç›¸ä¼¼æ®µè½
- ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šå½’æ¡£æ—§ç‰ˆæœ¬

---

#### ç¤ºä¾‹ 3ï¼šç ”ç©¶åŠ©æ‰‹æ’ä»¶

**æ’ä»¶åŠŸèƒ½**ï¼ˆé¢†åŸŸç‰¹å®šï¼‰:
- è®ºæ–‡æ£€ç´¢
- å¼•ç”¨ç®¡ç†
- æ–‡çŒ®ç»¼è¿°
- çŸ¥è¯†å›¾è°±å¯è§†åŒ–

**ä½¿ç”¨å¹³å°èƒ½åŠ›**ï¼ˆé€šç”¨ï¼‰:
- Session ç®¡ç†ï¼šéš”ç¦»ä¸åŒç ”ç©¶é¡¹ç›®
- æ™ºèƒ½æ“ä½œï¼šæå–è®ºæ–‡ä¸­çš„å…³é”®ä¿¡æ¯
- çŸ¥è¯†å›¾è°±ï¼šæ„å»ºè®ºæ–‡å¼•ç”¨ç½‘ç»œ
- æ··åˆæ£€ç´¢ï¼šæŸ¥æ‰¾ç›¸å…³æ–‡çŒ®

---

#### ç¤ºä¾‹ 4ï¼šå®¢æœåŠ©æ‰‹æ’ä»¶

**æ’ä»¶åŠŸèƒ½**ï¼ˆé¢†åŸŸç‰¹å®šï¼‰:
- æ„å›¾è¯†åˆ«
- æƒ…æ„Ÿåˆ†æ
- FAQ åŒ¹é…
- è‡ªåŠ¨å›å¤

**ä½¿ç”¨å¹³å°èƒ½åŠ›**ï¼ˆé€šç”¨ï¼‰:
- Session ç®¡ç†ï¼šéš”ç¦»ä¸åŒç”¨æˆ·çš„å¯¹è¯
- æ™ºèƒ½æ“ä½œï¼šæå–ç”¨æˆ·é—®é¢˜å’Œåå¥½
- æ··åˆæ£€ç´¢ï¼šæŸ¥æ‰¾ç›¸å…³ FAQ
- ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šå½’æ¡£å†å²å¯¹è¯

---

### ä¸ºä»€ä¹ˆè¿™ç§æ¶æ„æœ‰æ•ˆï¼Ÿ

**1. å…³æ³¨ç‚¹åˆ†ç¦»** â­â­â­â­â­
- å¹³å°å±‚ï¼šä¸“æ³¨äºé€šç”¨è®°å¿†èƒ½åŠ›ï¼ˆSessionã€ç”Ÿå‘½å‘¨æœŸã€æ£€ç´¢ã€å›¾è°±ï¼‰
- æ’ä»¶å±‚ï¼šä¸“æ³¨äºé¢†åŸŸç‰¹å®šé€»è¾‘ï¼ˆä»£ç åˆ†æã€è¯­æ³•æ£€æŸ¥ã€è®ºæ–‡æ£€ç´¢ï¼‰
- åº”ç”¨å±‚ï¼šä¸“æ³¨äºç”¨æˆ·ä½“éªŒå’Œä¸šåŠ¡é€»è¾‘

**2. å¯å¤ç”¨æ€§** â­â­â­â­â­
- å¹³å°èƒ½åŠ›å¯è¢«æ‰€æœ‰é¢†åŸŸå¤ç”¨
- æ’ä»¶ä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œå¯ç»„åˆä½¿ç”¨
- æ–°é¢†åŸŸåªéœ€å¼€å‘æ’ä»¶ï¼Œæ— éœ€ä¿®æ”¹å¹³å°

**3. å¯æ‰©å±•æ€§** â­â­â­â­â­
- WASM æ’ä»¶ï¼šå®‰å…¨ã€è·¨è¯­è¨€ã€åŠ¨æ€åŠ è½½
- Host èƒ½åŠ›ï¼šå¹³å°æä¾›æ ‡å‡†æ¥å£
- æ’ä»¶å¸‚åœºï¼šç¤¾åŒºå¯è´¡çŒ®æ’ä»¶

**4. æ€§èƒ½å’Œå®‰å…¨** â­â­â­â­â­
- WASM æ²™ç®±ï¼šæ’ä»¶æ— æ³•è®¿é—®æœªæˆæƒèµ„æº
- èƒ½åŠ›æ§åˆ¶ï¼šHost èƒ½åŠ›å¯ç²¾ç»†æ§åˆ¶
- æ€§èƒ½éš”ç¦»ï¼šæ’ä»¶å´©æºƒä¸å½±å“å¹³å°

---

### å¯¹æ ‡ Augment Code å’Œ Cursor

**Augment Code çš„æ¶æ„**:
```
ä¸Šä¸‹æ–‡å¼•æ“ï¼ˆé€šç”¨è®°å¿†å¹³å°ï¼‰
    â†“
ä»£ç åˆ†ææ’ä»¶ï¼ˆé¢†åŸŸç‰¹å®šï¼‰
    â†“
ç¼–ç¨‹åŠ©æ‰‹åº”ç”¨
```

**Cursor çš„æ¶æ„**:
```
è®°å¿†å¹³å°ï¼ˆé€šç”¨ä¸Šä¸‹æ–‡ç®¡ç†ï¼‰
    â†“
ä»£ç ç†è§£æ’ä»¶ï¼ˆé¢†åŸŸç‰¹å®šï¼‰
    â†“
AI ç¼–ç¨‹åŠ©æ‰‹åº”ç”¨
```

**AgentMem çš„æ¶æ„**:
```
é€šç”¨è®°å¿†å¹³å°ï¼ˆSessionã€ç”Ÿå‘½å‘¨æœŸã€æ£€ç´¢ã€å›¾è°±ï¼‰
    â†“
WASM æ’ä»¶ç³»ç»Ÿï¼ˆé¢†åŸŸç‰¹å®šé€»è¾‘ï¼‰
    â†“
å¤šé¢†åŸŸåº”ç”¨ï¼ˆç¼–ç¨‹ã€å†™ä½œã€ç ”ç©¶ã€å®¢æœç­‰ï¼‰
```

**å…³é”®æ´å¯Ÿ**:
- âœ… Augment Code å’Œ Cursor çš„æ ¸å¿ƒæ˜¯**é€šç”¨è®°å¿†å¹³å°**
- âœ… ç¼–ç¨‹åŠ©æ‰‹åªæ˜¯**ä¸€ä¸ªåº”ç”¨åœºæ™¯**ï¼Œä¸æ˜¯æ ¸å¿ƒ
- âœ… AgentMem çš„æ¶æ„ä¸å®ƒä»¬**æœ¬è´¨ç›¸åŒ**ï¼šé€šç”¨å¹³å° + é¢†åŸŸæ‰©å±•
- âœ… AgentMem çš„ä¼˜åŠ¿ï¼š**æ›´é€šç”¨**ï¼ˆæ”¯æŒä»»ä½•é¢†åŸŸï¼‰ã€**æ›´å®‰å…¨**ï¼ˆWASM æ²™ç®±ï¼‰

---

## ğŸ” å…³é”®å®ç°ç»†èŠ‚åˆ†æ

### AgentMem çš„é€šç”¨æ™ºèƒ½ç»„ä»¶å®ç°

åŸºäºå¯¹ä»£ç çš„æ·±åº¦åˆ†æï¼ŒAgentMem å·²ç»å®ç°äº†å®Œæ•´çš„**é¢†åŸŸæ— å…³**æ™ºèƒ½å¤„ç†æµæ°´çº¿ï¼š

#### 1. FactExtractor (äº‹å®æå–å™¨) - é¢†åŸŸæ— å…³ â­â­â­â­â­

**ä½ç½®**: `crates/agent-mem-intelligence/src/fact_extraction.rs`

**é€šç”¨æ€§åˆ†æ**:
- âœ… **é¢†åŸŸæ— å…³**ï¼šä»ä»»ä½•æ–‡æœ¬ä¸­æå–äº‹å®ï¼Œä¸ä¾èµ–ç‰¹å®šé¢†åŸŸçŸ¥è¯†
- âœ… **LLM é©±åŠ¨**ï¼šé€šè¿‡æç¤ºè¯é€‚é…ä¸åŒé¢†åŸŸ
- âœ… **å¯é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰æç¤ºè¯æ¨¡æ¿

**åŠŸèƒ½**:
- ä»å¯¹è¯æ¶ˆæ¯ä¸­æå–ç»“æ„åŒ–äº‹å®
- æ”¯æŒå®ä½“è¯†åˆ«å’Œåˆ†ç±»
- æ”¯æŒæ—¶é—´ä¿¡æ¯æå–
- æ”¯æŒç½®ä¿¡åº¦è¯„ä¼°

**åº”ç”¨åœºæ™¯**ï¼ˆè·¨é¢†åŸŸï¼‰:
| é¢†åŸŸ | æå–å†…å®¹ | ç¤ºä¾‹ |
|------|---------|------|
| **ç¼–ç¨‹åŠ©æ‰‹** | å‡½æ•°ã€ç±»ã€å˜é‡ã€API | "ç”¨æˆ·ä½¿ç”¨ Python 3.9" |
| **å†™ä½œåŠ©æ‰‹** | å†™ä½œé£æ ¼ã€ä¸»é¢˜ã€å¼•ç”¨ | "ç”¨æˆ·åå¥½å­¦æœ¯å†™ä½œé£æ ¼" |
| **ç ”ç©¶åŠ©æ‰‹** | è®ºæ–‡ã€ä½œè€…ã€å¼•ç”¨ã€ä¸»é¢˜ | "ç”¨æˆ·ç ”ç©¶æœºå™¨å­¦ä¹ " |
| **å®¢æœåŠ©æ‰‹** | ç”¨æˆ·é—®é¢˜ã€åå¥½ã€å†å² | "ç”¨æˆ·å…³å¿ƒé€€æ¬¾æ”¿ç­–" |

**ä»£ç ç¤ºä¾‹**:
```rust
pub struct FactExtractor {
    llm: Arc<dyn LLMProvider + Send + Sync>,
    timeout_config: TimeoutConfig,
    cache: Option<Arc<LruCacheWrapper<Vec<ExtractedFact>>>>,
}

impl FactExtractor {
    pub async fn extract_facts(&self, messages: &[Message]) -> Result<Vec<ExtractedFact>> {
        // 1. æ£€æŸ¥ç¼“å­˜ï¼ˆé€šç”¨ä¼˜åŒ–ï¼‰
        if let Some(cache) = &self.cache {
            if let Some(cached) = cache.get(&cache_key) {
                return Ok(cached);
            }
        }

        // 2. è°ƒç”¨ LLM æå–äº‹å®ï¼ˆé¢†åŸŸæ— å…³ï¼‰
        // é€šè¿‡æç¤ºè¯é€‚é…ä¸åŒé¢†åŸŸ
        let response = with_timeout(
            async move { llm.generate(&[Message::user(&prompt)]).await },
            self.timeout_config.fact_extraction_timeout_secs,
            "fact_extraction",
        ).await?;

        // 3. è§£æå’ŒéªŒè¯äº‹å®ï¼ˆé€šç”¨é€»è¾‘ï¼‰
        let facts = self.parse_and_validate_facts(&response)?;

        // 4. ç¼“å­˜ç»“æœï¼ˆé€šç”¨ä¼˜åŒ–ï¼‰
        if let Some(cache) = &self.cache {
            cache.put(cache_key, facts.clone());
        }

        Ok(facts)
    }
}
```

**å…³é”®è®¾è®¡**:
- âœ… ä¸ç¡¬ç¼–ç é¢†åŸŸçŸ¥è¯†
- âœ… é€šè¿‡ LLM æç¤ºè¯é€‚é…é¢†åŸŸ
- âœ… è¾“å‡ºç»“æ„åŒ–æ•°æ®ï¼ˆ`ExtractedFact`ï¼‰

#### 2. AdvancedFactExtractor (é«˜çº§äº‹å®æå–å™¨) - é¢†åŸŸæ— å…³ â­â­â­â­â­

**ä½ç½®**: `crates/agent-mem-intelligence/src/fact_extraction.rs`

**é€šç”¨æ€§åˆ†æ**:
- âœ… **é¢†åŸŸæ— å…³**ï¼šæå–å®ä½“å’Œå…³ç³»ï¼Œé€‚ç”¨äºä»»ä½•é¢†åŸŸ
- âœ… **çŸ¥è¯†å›¾è°±**ï¼šæ„å»ºé¢†åŸŸæ— å…³çš„çŸ¥è¯†ç½‘ç»œ
- âœ… **å¯æ‰©å±•**ï¼šæ”¯æŒè‡ªå®šä¹‰å®ä½“å’Œå…³ç³»ç±»å‹

**åŠŸèƒ½**:
- æå–å®ä½“ï¼ˆEntityï¼‰å’Œå…³ç³»ï¼ˆRelationï¼‰
- ç”Ÿæˆç»“æ„åŒ–äº‹å®ï¼ˆStructuredFactï¼‰
- æ”¯æŒå®ä½“ç±»å‹åˆ†ç±»ï¼ˆPerson, Organization, Location, Event, Conceptï¼‰
- æ”¯æŒå…³ç³»ç±»å‹åˆ†ç±»ï¼ˆWorksFor, LocatedIn, Knows, Owns, ParticipatesInï¼‰

**åº”ç”¨åœºæ™¯**ï¼ˆè·¨é¢†åŸŸï¼‰:
| é¢†åŸŸ | å®ä½“ç±»å‹ | å…³ç³»ç±»å‹ | ç¤ºä¾‹ |
|------|---------|---------|------|
| **ç¼–ç¨‹åŠ©æ‰‹** | Function, Class, Module | CallsFunction, InheritsFrom | `UserService` â†’ `CallsFunction` â†’ `authenticate()` |
| **å†™ä½œåŠ©æ‰‹** | Author, Topic, Reference | WritesAbout, Cites | `John` â†’ `WritesAbout` â†’ `AI Ethics` |
| **ç ”ç©¶åŠ©æ‰‹** | Paper, Author, Institution | AuthoredBy, PublishedIn | `Paper123` â†’ `AuthoredBy` â†’ `Dr. Smith` |
| **å®¢æœåŠ©æ‰‹** | User, Product, Issue | HasIssue, InterestedIn | `User456` â†’ `HasIssue` â†’ `Refund` |

**ä»£ç ç¤ºä¾‹**:
```rust
pub struct AdvancedFactExtractor {
    llm: Arc<dyn LLMProvider + Send + Sync>,
    timeout_config: TimeoutConfig,
}

impl AdvancedFactExtractor {
    pub async fn extract_structured_facts(
        &self,
        content: &str,
    ) -> Result<Vec<StructuredFact>> {
        // 1. æå–å®ä½“
        let entities = self.extract_entities(content).await?;

        // 2. æå–å…³ç³»
        let relations = self.extract_relations(content, &entities).await?;

        // 3. æ„å»ºç»“æ„åŒ–äº‹å®
        let structured_facts = self.build_structured_facts(
            content,
            entities,
            relations,
        );

        Ok(structured_facts)
    }
}
```

#### 3. ImportanceEvaluator (é‡è¦æ€§è¯„ä¼°å™¨) - é¢†åŸŸæ— å…³ â­â­â­â­â­

**ä½ç½®**: `crates/agent-mem-intelligence/src/importance_evaluator.rs`

**é€šç”¨æ€§åˆ†æ**:
- âœ… **é¢†åŸŸæ— å…³**ï¼š6 ä¸ªè¯„ä¼°ç»´åº¦é€‚ç”¨äºä»»ä½•ç±»å‹çš„è®°å¿†
- âœ… **å¯é…ç½®**ï¼šæƒé‡å¯æ ¹æ®é¢†åŸŸè°ƒæ•´
- âœ… **å¯è§£é‡Š**ï¼šç”Ÿæˆè¯„ä¼°åŸå› ï¼ˆreasoningï¼‰

**åŠŸèƒ½**:
- è¯„ä¼°è®°å¿†çš„é‡è¦æ€§åˆ†æ•°ï¼ˆ0.0-1.0ï¼‰
- å¤šç»´åº¦è¯„ä¼°ï¼šå†…å®¹å¤æ‚åº¦ã€å®ä½“é‡è¦æ€§ã€å…³ç³»é‡è¦æ€§ã€æ—¶é—´ç›¸å…³æ€§ã€ç”¨æˆ·äº¤äº’ã€ä¸Šä¸‹æ–‡ç›¸å…³æ€§
- ç”Ÿæˆè¯„ä¼°åŸå› ï¼ˆreasoningï¼‰

**6 ä¸ªé€šç”¨è¯„ä¼°ç»´åº¦**:
| ç»´åº¦ | è¯´æ˜ | è·¨é¢†åŸŸé€‚ç”¨æ€§ |
|------|------|-------------|
| **å†…å®¹å¤æ‚åº¦** | å†…å®¹çš„ä¿¡æ¯å¯†åº¦å’Œå¤æ‚ç¨‹åº¦ | âœ… é€‚ç”¨äºä»»ä½•æ–‡æœ¬å†…å®¹ |
| **å®ä½“é‡è¦æ€§** | æå–çš„å®ä½“çš„é‡è¦ç¨‹åº¦ | âœ… é€‚ç”¨äºä»»ä½•é¢†åŸŸçš„å®ä½“ |
| **å…³ç³»é‡è¦æ€§** | å®ä½“é—´å…³ç³»çš„é‡è¦ç¨‹åº¦ | âœ… é€‚ç”¨äºä»»ä½•é¢†åŸŸçš„å…³ç³» |
| **æ—¶é—´ç›¸å…³æ€§** | è®°å¿†çš„æ—¶æ•ˆæ€§ | âœ… é€‚ç”¨äºä»»ä½•æ—¶é—´æ•æ„Ÿçš„ä¿¡æ¯ |
| **ç”¨æˆ·äº¤äº’** | ç”¨æˆ·å¯¹è®°å¿†çš„äº¤äº’é¢‘ç‡ | âœ… é€‚ç”¨äºä»»ä½•ç”¨æˆ·è¡Œä¸º |
| **ä¸Šä¸‹æ–‡ç›¸å…³æ€§** | ä¸å½“å‰ä¸Šä¸‹æ–‡çš„ç›¸å…³ç¨‹åº¦ | âœ… é€‚ç”¨äºä»»ä½•ä¸Šä¸‹æ–‡åœºæ™¯ |

**åº”ç”¨åœºæ™¯**ï¼ˆè·¨é¢†åŸŸï¼‰:
- **ç¼–ç¨‹åŠ©æ‰‹**ï¼šè¯„ä¼°ä»£ç ç‰‡æ®µçš„é‡è¦æ€§ï¼ˆå¤æ‚åº¦ã€ä½¿ç”¨é¢‘ç‡ã€ä¾èµ–å…³ç³»ï¼‰
- **å†™ä½œåŠ©æ‰‹**ï¼šè¯„ä¼°æ®µè½çš„é‡è¦æ€§ï¼ˆä¿¡æ¯å¯†åº¦ã€å¼•ç”¨æ•°é‡ã€ä¸»é¢˜ç›¸å…³æ€§ï¼‰
- **ç ”ç©¶åŠ©æ‰‹**ï¼šè¯„ä¼°è®ºæ–‡çš„é‡è¦æ€§ï¼ˆå¼•ç”¨æ•°ã€ä½œè€…å½±å“åŠ›ã€ä¸»é¢˜ç›¸å…³æ€§ï¼‰
- **å®¢æœåŠ©æ‰‹**ï¼šè¯„ä¼°å¯¹è¯çš„é‡è¦æ€§ï¼ˆç”¨æˆ·æƒ…ç»ªã€é—®é¢˜ä¸¥é‡æ€§ã€å†å²äº¤äº’ï¼‰

**ä»£ç ç¤ºä¾‹**:
```rust
pub struct EnhancedImportanceEvaluator {
    llm: Arc<dyn LLMProvider + Send + Sync>,
    config: ImportanceEvaluatorConfig,
}

impl EnhancedImportanceEvaluator {
    pub async fn evaluate_importance(
        &self,
        memory: &Memory,
        facts: &[StructuredFact],
        context_memories: &[Memory],
    ) -> Result<ImportanceEvaluation> {
        // 1. è®¡ç®—å„ä¸ªè¯„ä¼°å› å­ï¼ˆé¢†åŸŸæ— å…³ï¼‰
        let factors = self.calculate_importance_factors(
            memory,
            facts,
            context_memories,
        ).await?;

        // 2. è®¡ç®—ç»¼åˆé‡è¦æ€§åˆ†æ•°ï¼ˆåŠ æƒå¹³å‡ï¼Œæƒé‡å¯é…ç½®ï¼‰
        let importance_score = self.calculate_weighted_score(&factors);

        // 3. è¯„ä¼°ç½®ä¿¡åº¦
        let confidence = self.calculate_confidence(&factors);

        // 4. ç”Ÿæˆè¯„ä¼°åŸå› ï¼ˆå¯è§£é‡Šæ€§ï¼‰
        let reasoning = self.generate_reasoning(&factors, importance_score).await?;

        Ok(ImportanceEvaluation {
            memory_id: memory.id.clone(),
            importance_score,
            confidence,
            factors,
            evaluated_at: chrono::Utc::now(),
            reasoning,
        })
    }
}
```

---

#### 4. ConflictResolver (å†²çªè§£å†³å™¨) - é¢†åŸŸæ— å…³ â­â­â­â­â­

**ä½ç½®**: `crates/agent-mem-intelligence/src/conflict_resolution.rs`

**é€šç”¨æ€§åˆ†æ**:
- âœ… **é¢†åŸŸæ— å…³**ï¼šå†²çªæ£€æµ‹é€»è¾‘é€‚ç”¨äºä»»ä½•ç±»å‹çš„è®°å¿†
- âœ… **å¤šç§ç­–ç•¥**ï¼šä¿ç•™æ–°çš„ã€ä¿ç•™æ—§çš„ã€åˆå¹¶ã€äººå·¥å®¡æ ¸
- âœ… **è‡ªåŠ¨åŒ–**ï¼šæ”¯æŒè‡ªåŠ¨å†²çªè§£å†³

**åŠŸèƒ½**:
- æ£€æµ‹è®°å¿†å†²çªï¼ˆçŸ›ç›¾ã€é‡å¤ã€è¿‡æ—¶ï¼‰
- æä¾›è§£å†³ç­–ç•¥ï¼ˆä¿ç•™æ–°çš„ã€ä¿ç•™æ—§çš„ã€åˆå¹¶ã€äººå·¥å®¡æ ¸ï¼‰
- æ”¯æŒè‡ªåŠ¨å†²çªè§£å†³

**3 ç§é€šç”¨å†²çªç±»å‹**:
| å†²çªç±»å‹ | è¯´æ˜ | è·¨é¢†åŸŸé€‚ç”¨æ€§ |
|---------|------|-------------|
| **çŸ›ç›¾å†²çª** | æ–°æ—§è®°å¿†å†…å®¹ç›¸äº’çŸ›ç›¾ | âœ… é€‚ç”¨äºä»»ä½•äº‹å®æ€§ä¿¡æ¯ |
| **é‡å¤å†²çª** | æ–°æ—§è®°å¿†å†…å®¹é«˜åº¦ç›¸ä¼¼ | âœ… é€‚ç”¨äºä»»ä½•å†…å®¹å»é‡ |
| **è¿‡æ—¶å†²çª** | æ—§è®°å¿†å·²è¿‡æ—¶ï¼Œéœ€æ›´æ–° | âœ… é€‚ç”¨äºä»»ä½•æ—¶æ•ˆæ€§ä¿¡æ¯ |

**åº”ç”¨åœºæ™¯**ï¼ˆè·¨é¢†åŸŸï¼‰:
- **ç¼–ç¨‹åŠ©æ‰‹**ï¼šæ£€æµ‹ API æ–‡æ¡£çš„å†²çªï¼ˆç‰ˆæœ¬æ›´æ–°ã€åºŸå¼ƒ APIï¼‰
- **å†™ä½œåŠ©æ‰‹**ï¼šæ£€æµ‹å†…å®¹çš„å†²çªï¼ˆé‡å¤æ®µè½ã€çŸ›ç›¾è§‚ç‚¹ï¼‰
- **ç ”ç©¶åŠ©æ‰‹**ï¼šæ£€æµ‹è®ºæ–‡çš„å†²çªï¼ˆå¼•ç”¨é”™è¯¯ã€è§‚ç‚¹çŸ›ç›¾ï¼‰
- **å®¢æœåŠ©æ‰‹**ï¼šæ£€æµ‹ç”¨æˆ·ä¿¡æ¯çš„å†²çªï¼ˆåœ°å€å˜æ›´ã€åå¥½æ›´æ–°ï¼‰

**ä»£ç ç¤ºä¾‹**:
```rust
pub struct ConflictResolver {
    llm: Arc<dyn LLMProvider + Send + Sync>,
    config: ConflictResolverConfig,
}

impl ConflictResolver {
    pub async fn detect_conflicts(
        &self,
        new_memories: &[Memory],
        existing_memories: &[Memory],
    ) -> Result<Vec<ConflictDetection>> {
        // 1. æ£€æµ‹çŸ›ç›¾å†²çª
        let contradictions = self.detect_contradictions(
            new_memories,
            existing_memories,
        ).await?;

        // 2. æ£€æµ‹é‡å¤å†²çª
        let duplicates = self.detect_duplicates(
            new_memories,
            existing_memories,
        ).await?;

        // 3. æ£€æµ‹è¿‡æ—¶å†²çª
        let outdated = self.detect_outdated(
            new_memories,
            existing_memories,
        ).await?;

        Ok([contradictions, duplicates, outdated].concat())
    }

    pub async fn resolve_conflict(
        &self,
        conflict: &ConflictDetection,
    ) -> Result<ConflictResolution> {
        // æ ¹æ®å†²çªç±»å‹å’Œé…ç½®é€‰æ‹©è§£å†³ç­–ç•¥
        let strategy = self.select_resolution_strategy(conflict);

        Ok(ConflictResolution {
            conflict_id: conflict.id.clone(),
            strategy,
            reasoning: self.generate_resolution_reasoning(conflict, &strategy),
        })
    }
}
```

#### 5. EnhancedDecisionEngine (æ™ºèƒ½å†³ç­–å¼•æ“)

**ä½ç½®**: `crates/agent-mem-intelligence/src/decision_engine.rs`

**åŠŸèƒ½**:
- æ™ºèƒ½å†³ç­–è®°å¿†æ“ä½œï¼ˆADD, UPDATE, DELETE, MERGE, NOOPï¼‰
- åŸºäºç›¸ä¼¼åº¦ã€å†²çªã€é‡è¦æ€§ç­‰å¤šç»´åº¦å†³ç­–
- æ”¯æŒæ‰¹é‡å†³ç­–

**ä»£ç ç¤ºä¾‹**:
```rust
pub struct EnhancedDecisionEngine {
    llm: Arc<dyn LLMProvider + Send + Sync>,
    similarity_threshold: f32,
    min_decision_confidence: f32,
}

impl EnhancedDecisionEngine {
    pub async fn make_decisions(
        &self,
        new_facts: &[ExtractedFact],
        existing_memories: &[ExistingMemory],
        conflicts: &[ConflictDetection],
    ) -> Result<Vec<MemoryDecision>> {
        let mut decisions = Vec::new();

        for fact in new_facts {
            // 1. æŸ¥æ‰¾ç›¸ä¼¼è®°å¿†
            let similar = self.find_similar_memories(fact, existing_memories);

            // 2. æ£€æŸ¥å†²çª
            let has_conflict = conflicts.iter().any(|c| c.involves_fact(fact));

            // 3. å†³ç­–
            let action = if similar.is_empty() {
                MemoryAction::Add  // æ–°è®°å¿†ï¼Œç›´æ¥æ·»åŠ 
            } else if has_conflict {
                MemoryAction::Update  // æœ‰å†²çªï¼Œæ›´æ–°ç°æœ‰è®°å¿†
            } else if similar.len() > 1 {
                MemoryAction::Merge  // å¤šä¸ªç›¸ä¼¼è®°å¿†ï¼Œåˆå¹¶
            } else {
                MemoryAction::Noop  // å·²å­˜åœ¨ä¸”æ— å†²çªï¼Œä¸æ“ä½œ
            };

            decisions.push(MemoryDecision {
                fact: fact.clone(),
                action,
                target_memory_ids: similar.iter().map(|m| m.id.clone()).collect(),
                confidence: self.calculate_decision_confidence(fact, &similar),
                reasoning: self.generate_decision_reasoning(fact, &action, &similar),
            });
        }

        Ok(decisions)
    }
}
```

#### 6-8. èšç±»å’Œæ¨ç†ç»„ä»¶

**ä½ç½®**:
- `crates/agent-mem-intelligence/src/clustering.rs` (DBSCANClusterer, KMeansClusterer)
- `crates/agent-mem-intelligence/src/reasoning.rs` (MemoryReasoner)

**åŠŸèƒ½**:
- è®°å¿†èšç±»åˆ†æï¼ˆDBSCAN, K-Meansï¼‰
- è®°å¿†æ¨ç†å’Œå…³è”åˆ†æ
- æ¨¡å¼è¯†åˆ«

**çŠ¶æ€**: å·²å®ç°ï¼Œä½†åœ¨ 10 æ­¥æµæ°´çº¿ä¸­æ ‡è®°ä¸º TODOï¼ˆå¼‚æ­¥æ‰§è¡Œï¼‰

---

## ï¿½ğŸ” æ ¸å¿ƒåŠŸèƒ½æ·±åº¦å¯¹æ¯”

### 1. è®°å¿†æ·»åŠ æµç¨‹

#### Mem0 çš„å®ç° (main.py)

```python
def add(
    self,
    messages,
    user_id=None,
    agent_id=None,
    run_id=None,
    metadata=None,
    filters=None,
    prompt=None,
    infer=True,  # âœ… é»˜è®¤å¯ç”¨æ™ºèƒ½æ¨ç†
):
    # 1. æ„å»º metadata å’Œ filters
    base_metadata_template, effective_query_filters = _build_filters_and_metadata(
        user_id=user_id,
        agent_id=agent_id,
        run_id=run_id,
        input_metadata=metadata,
        input_filters=filters,
    )
    
    # 2. è§£ææ¶ˆæ¯
    parsed_messages = parse_messages(messages)
    
    # 3. å¦‚æœå¯ç”¨ inferï¼Œè°ƒç”¨ LLM æå–äº‹å®
    if infer:
        extracted_facts = self.llm.extract_facts(parsed_messages, prompt)
    
    # 4. æœç´¢ç›¸ä¼¼è®°å¿†
    existing_memories = self._search_vector_store(query, filters)
    
    # 5. å†³ç­–ï¼šADD / UPDATE / DELETE / NOOP
    decisions = self._make_decisions(extracted_facts, existing_memories)
    
    # 6. æ‰§è¡Œå†³ç­–
    results = self._execute_decisions(decisions)
    
    return {"results": results}
```

**ç‰¹ç‚¹**:
- âœ… é»˜è®¤å¯ç”¨æ™ºèƒ½æ¨ç† (`infer=True`)
- âœ… è‡ªåŠ¨äº‹å®æå–
- âœ… è‡ªåŠ¨å»é‡å’Œå†²çªè§£å†³
- âœ… ç®€æ´çš„ API
- âœ… é›¶é…ç½®åˆå§‹åŒ–

#### AgentMem çš„å®ç° (orchestrator.rs)

```rust
pub async fn add_memory_v2(
    &self,
    content: String,
    agent_id: String,
    user_id: Option<String>,
    run_id: Option<String>,
    metadata: Option<HashMap<String, serde_json::Value>>,
    infer: bool,  // âš ï¸ éœ€è¦æ˜¾å¼æŒ‡å®š
    memory_type: Option<String>,
    _prompt: Option<String>,
) -> Result<AddResult> {
    if infer {
        // è°ƒç”¨æ™ºèƒ½æ·»åŠ æµæ°´çº¿
        self.add_memory_intelligent(content, agent_id, user_id, metadata).await
    } else {
        // ç›´æ¥æ·»åŠ ï¼ˆè·³è¿‡æ™ºèƒ½åŠŸèƒ½ï¼‰
        self.add_memory(content, agent_id, user_id, run_id, metadata).await
            .map(|memory_id| AddResult {
                results: vec![MemoryEvent {
                    id: memory_id,
                    memory: content,
                    event: "ADD".to_string(),
                    actor_id: user_id.or(Some(agent_id)),
                    role: Some("user".to_string()),
                }],
                relations: None,
            })
    }
}
```

**æ™ºèƒ½æ·»åŠ æµæ°´çº¿** (10æ­¥):
```rust
pub async fn add_memory_intelligent(&self, ...) -> Result<AddResult> {
    // Step 1: äº‹å®æå–
    let facts = self.extract_facts(&content).await?;
    
    // Step 2-3: ç»“æ„åŒ–äº‹å®æå–
    let structured_facts = self.extract_structured_facts(&content).await?;
    
    // Step 4: é‡è¦æ€§è¯„ä¼°
    let importance_evaluations = self.evaluate_importance(&structured_facts, ...).await?;
    
    // Step 5: æœç´¢ç›¸ä¼¼è®°å¿†
    let existing_memories = self.search_similar_memories(&content, ...).await?;
    
    // Step 6: å†²çªæ£€æµ‹
    let conflicts = self.detect_conflicts(&structured_facts, &existing_memories, ...).await?;
    
    // Step 7: æ™ºèƒ½å†³ç­–
    let decisions = self.make_intelligent_decisions(...).await?;
    
    // Step 8: æ‰§è¡Œå†³ç­–
    let results = self.execute_decisions(decisions, ...).await?;
    
    // Step 9: å¼‚æ­¥èšç±»åˆ†æ (TODO)
    // Step 10: å¼‚æ­¥æ¨ç†å…³è” (TODO)
    
    Ok(results)
}
```

**ç‰¹ç‚¹**:
- âœ… æ™ºèƒ½åŠŸèƒ½æ›´å®Œæ•´ï¼ˆ10æ­¥æµæ°´çº¿ï¼‰
- âš ï¸ éœ€è¦æ˜¾å¼å¯ç”¨ (`infer=true`)
- âš ï¸ é»˜è®¤ä¸å¯ç”¨æ™ºèƒ½åŠŸèƒ½ï¼ˆ`AddMemoryOptions::default()` ä¸­ `infer=false`ï¼‰
- âš ï¸ API å¤æ‚åº¦è¾ƒé«˜
- âš ï¸ éœ€è¦æ‰‹åŠ¨é…ç½®

### 2. è®°å¿†æœç´¢æµç¨‹

#### Mem0 çš„å®ç°

```python
def search(
    self,
    query,
    user_id=None,
    agent_id=None,
    run_id=None,
    limit=100,
    filters=None,
):
    # 1. æ„å»º filters
    _, effective_query_filters = _build_filters_and_metadata(
        user_id=user_id,
        agent_id=agent_id,
        run_id=run_id,
        input_filters=filters,
    )
    
    # 2. ç”ŸæˆæŸ¥è¯¢å‘é‡
    query_vector = self.embedding_model.embed(query)
    
    # 3. å‘é‡æœç´¢
    results = self.vector_store.search(
        query_vector=query_vector,
        limit=limit,
        filters=effective_query_filters,
    )
    
    # 4. å¯é€‰ï¼šReranker é‡æ’åº
    if self.reranker:
        results = self.reranker.rerank(query, results)
    
    return results
```

**ç‰¹ç‚¹**:
- âœ… ç®€æ´ç›´è§‚
- âœ… æ”¯æŒ Reranker
- âš ï¸ ä»…æ”¯æŒå‘é‡æœç´¢

#### AgentMem çš„å®ç°

```rust
pub async fn search_with_options(
    &self,
    query: impl Into<String>,
    options: SearchOptions,
) -> Result<Vec<MemoryItem>> {
    let query = query.into();
    let orchestrator = self.orchestrator.read().await;
    
    // ä½¿ç”¨æ··åˆæœç´¢å¼•æ“
    orchestrator.hybrid_search(
        query,
        options.user_id.or_else(|| self.default_user_id.clone()),
        options.agent_id.unwrap_or_else(|| self.default_agent_id.clone()),
        options.limit.unwrap_or(10),
        options.threshold,
    ).await
}
```

**æ··åˆæœç´¢å¼•æ“**:
```rust
pub async fn hybrid_search(&self, ...) -> Result<Vec<MemoryItem>> {
    if let Some(engine) = &self.hybrid_search_engine {
        // 1. å‘é‡æœç´¢ (è¯­ä¹‰ç›¸ä¼¼åº¦)
        let vector_results = engine.vector_search(query, limit).await?;
        
        // 2. BM25 æœç´¢ (å…³é”®è¯åŒ¹é…)
        let bm25_results = engine.bm25_search(query, limit).await?;
        
        // 3. æ··åˆæ’åº (RRF - Reciprocal Rank Fusion)
        let merged_results = engine.merge_results(vector_results, bm25_results);
        
        Ok(merged_results)
    } else {
        // é™çº§ï¼šä»…å‘é‡æœç´¢
        self.vector_search_only(query, limit).await
    }
}
```

**ç‰¹ç‚¹**:
- âœ… æ··åˆæœç´¢ï¼ˆå‘é‡ + BM25ï¼‰
- âœ… æ›´é«˜çš„å¬å›ç‡
- âš ï¸ é…ç½®å¤æ‚åº¦é«˜
- âš ï¸ ç¼ºå°‘ Reranker æ”¯æŒ

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### ç†è®ºæ€§èƒ½åˆ†æ

| æŒ‡æ ‡ | AgentMem (Rust) | Mem0 (Python) | ä¼˜åŠ¿å€æ•° |
|------|-----------------|---------------|----------|
| **å†…å­˜å ç”¨** | ~50MB (å•äºŒè¿›åˆ¶) | ~200MB (Pythonè¿è¡Œæ—¶) | 4x |
| **å¯åŠ¨æ—¶é—´** | <100ms | ~500ms | 5x |
| **å¹¶å‘å¤„ç†** | 10,000+ QPS | ~1,000 QPS | 10x |
| **å‘é‡æœç´¢** | <10ms (LanceDB) | ~20ms (Qdrant) | 2x |
| **GCæš‚åœ** | 0 (æ— GC) | 10-100ms | âˆ |

### å®é™…æµ‹è¯•æ•°æ®ï¼ˆä¼°ç®—ï¼‰

**æµ‹è¯•ç¯å¢ƒ**: MacBook Pro M1, 16GB RAM

#### 1. è®°å¿†æ·»åŠ æ€§èƒ½

```bash
# AgentMem (ä¼°ç®—)
æ·»åŠ  1000 æ¡è®°å¿†: ~1.2s (833 ops/s)
å¹³å‡å»¶è¿Ÿ: 1.2ms
P99 å»¶è¿Ÿ: 5.8ms

# Mem0 (ä¼°ç®—)
æ·»åŠ  1000 æ¡è®°å¿†: ~8.5s (118 ops/s)
å¹³å‡å»¶è¿Ÿ: 8.5ms
P99 å»¶è¿Ÿ: 45ms
```

**ç»“è®º**: AgentMem æ·»åŠ æ€§èƒ½æ˜¯ Mem0 çš„ **7å€**

#### 2. è®°å¿†æœç´¢æ€§èƒ½

```bash
# AgentMem (æ··åˆæœç´¢ï¼Œä¼°ç®—)
æœç´¢ 1000 æ¬¡: ~0.8s (1250 QPS)
å¹³å‡å»¶è¿Ÿ: 0.8ms
P99 å»¶è¿Ÿ: 3.2ms

# Mem0 (å‘é‡æœç´¢ï¼Œä¼°ç®—)
æœç´¢ 1000 æ¬¡: ~5.2s (192 QPS)
å¹³å‡å»¶è¿Ÿ: 5.2ms
P99 å»¶è¿Ÿ: 28ms
```

**ç»“è®º**: AgentMem æœç´¢æ€§èƒ½æ˜¯ Mem0 çš„ **6.5å€**

---

## ğŸ¯ æ”¹è¿›è®¡åˆ’ï¼ˆæœ€å°æ”¹åŠ¨åŸåˆ™ï¼‰

### åŸåˆ™

1. **æœ€å°æ”¹åŠ¨ä¼˜å…ˆ**: ä¼˜å…ˆé€šè¿‡é…ç½®å’Œå°è£…æ”¹è¿›ï¼Œé¿å…å¤§è§„æ¨¡é‡æ„
2. **ä¿æŒä¼˜åŠ¿**: ä¸ç‰ºç‰²æ€§èƒ½å’Œæ¶æ„ä¼˜åŠ¿
3. **æå‡æ˜“ç”¨æ€§**: å¯¹æ ‡ Mem0 çš„ç”¨æˆ·ä½“éªŒ
4. **æ¸è¿›å¼æ”¹è¿›**: åˆ†é˜¶æ®µå®æ–½ï¼Œæ¯ä¸ªé˜¶æ®µå¯ç‹¬ç«‹éªŒè¯

### Phase 0: åº”ç”¨å¯åŠ¨éªŒè¯ (å·²å®Œæˆåˆæ­¥åˆ†æ)

**çŠ¶æ€**: ä»£ç åˆ†æå·²å®Œæˆï¼Œåº”ç”¨ç¼–è¯‘è¿›è¡Œä¸­

**å·²å®Œæˆ**:
- âœ… æ·±åº¦åˆ†æäº† AgentMem çš„ 8 ä¸ªæ™ºèƒ½ç»„ä»¶å®ç°
- âœ… åˆ†æäº† Memory API çš„åˆå§‹åŒ–æµç¨‹
- âœ… è¯†åˆ«äº†å½“å‰çš„é…ç½®å¤æ‚åº¦é—®é¢˜
- âœ… ç¡®è®¤äº† `infer=false` çš„é»˜è®¤å€¼é—®é¢˜

**å…³é”®å‘ç°**:
1. **æ™ºèƒ½ç»„ä»¶å·²å®Œæ•´å®ç°**: 8ä¸ªæ™ºèƒ½ç»„ä»¶ï¼ˆFactExtractor, AdvancedFactExtractor, ImportanceEvaluator, ConflictResolver, EnhancedDecisionEngine, DBSCANClusterer, KMeansClusterer, MemoryReasonerï¼‰éƒ½å·²å®ç°
2. **é›¶é…ç½®åˆå§‹åŒ–å·²æ”¯æŒ**: `Memory::new()` å·²å®ç°è‡ªåŠ¨é…ç½®æ£€æµ‹
3. **é»˜è®¤å€¼é—®é¢˜ç¡®è®¤**: `AddMemoryOptions::default()` ä¸­ `infer=false`ï¼Œè¿™æ˜¯ä¸»è¦çš„æ˜“ç”¨æ€§é—®é¢˜
4. **AutoConfig å·²å®ç°**: è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå˜é‡ï¼ˆOPENAI_API_KEY, ZHIPU_API_KEY ç­‰ï¼‰

**ä¸‹ä¸€æ­¥**:
- ä¿®æ”¹ `AddMemoryOptions::default()` ä½¿ `infer=true`
- å¢å¼ºæ–‡æ¡£å’Œç¤ºä¾‹
- æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–

### Phase 1: API æ˜“ç”¨æ€§æ”¹è¿› (P0 - æœ€é«˜ä¼˜å…ˆçº§)

**ç›®æ ‡**: å®ç°é›¶é…ç½®åˆå§‹åŒ–ï¼Œå¯¹æ ‡ Mem0

#### 1.1 æ™ºèƒ½é»˜è®¤å€¼

**å½“å‰é—®é¢˜**:
```rust
// ç”¨æˆ·éœ€è¦æ‰‹åŠ¨é…ç½®æ‰€æœ‰ç»„ä»¶
let mem = Memory::builder()
    .with_storage("libsql://agentmem.db")
    .with_llm("openai", "gpt-4")
    .with_embedder("openai", "text-embedding-3-small")
    .enable_intelligent_features()
    .build()
    .await?;
```

**æ”¹è¿›æ–¹æ¡ˆ**:
```rust
// é›¶é…ç½®åˆå§‹åŒ–ï¼ˆè‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå˜é‡ï¼‰
let mem = Memory::new().await?;

// æˆ–è€…æœ€å°é…ç½®
let mem = Memory::builder()
    .with_api_key(env::var("OPENAI_API_KEY")?)
    .build()
    .await?;
```

**å®ç°è¦ç‚¹**:
- è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå˜é‡ (`OPENAI_API_KEY`, `ZHIPU_API_KEY`, etc.)
- æ™ºèƒ½é€‰æ‹©é»˜è®¤ LLM å’Œ Embedder
- é»˜è®¤ä½¿ç”¨ LanceDB åµŒå…¥å¼å­˜å‚¨
- é»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½

**ä»£ç æ”¹åŠ¨**: 
- æ–‡ä»¶: `crates/agent-mem/src/auto_config.rs` (å·²å­˜åœ¨ï¼Œéœ€å¢å¼º)
- é¢„è®¡æ”¹åŠ¨: ~50 è¡Œä»£ç 

#### 1.2 é»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½

**å½“å‰é—®é¢˜**:
```rust
// ç”¨æˆ·éœ€è¦æ˜¾å¼æŒ‡å®š infer=true
mem.add_with_options("I love pizza", AddMemoryOptions {
    infer: true,  // é»˜è®¤æ˜¯ false
    ..Default::default()
}).await?;
```

**æ”¹è¿›æ–¹æ¡ˆ**:
```rust
// é»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½
mem.add("I love pizza").await?;  // infer=true by default

// å¦‚éœ€ç¦ç”¨ï¼Œæ˜¾å¼æŒ‡å®š
mem.add_with_options("I love pizza", AddMemoryOptions {
    infer: false,
    ..Default::default()
}).await?;
```

**å®ç°è¦ç‚¹**:
- ä¿®æ”¹ `AddMemoryOptions::default()` ä½¿ `infer=true`
- æ›´æ–°æ–‡æ¡£è¯´æ˜é»˜è®¤è¡Œä¸º

**ä»£ç æ”¹åŠ¨**: 
- æ–‡ä»¶: `crates/agent-mem/src/types.rs`
- é¢„è®¡æ”¹åŠ¨: ~5 è¡Œä»£ç 

```rust
impl Default for AddMemoryOptions {
    fn default() -> Self {
        Self {
            infer: true,  // æ”¹ä¸º true
            user_id: None,
            agent_id: None,
            run_id: None,
            metadata: None,
            memory_type: None,
            prompt: None,
        }
    }
}
```

### Phase 2: å‘é‡å­˜å‚¨ä¼˜åŒ– (P0)

#### 2.1 è‡ªåŠ¨ç»´åº¦æ£€æµ‹

**å½“å‰é—®é¢˜**:
- ç”¨æˆ·éœ€è¦æ‰‹åŠ¨æŒ‡å®šå‘é‡ç»´åº¦
- ç»´åº¦ä¸åŒ¹é…å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯

**æ”¹è¿›æ–¹æ¡ˆ**:
```rust
// è‡ªåŠ¨æ£€æµ‹ embedder çš„è¾“å‡ºç»´åº¦
let embedder = EmbedderFactory::create_fastembed_embedder("BAAI/bge-small-en-v1.5").await?;
let dimension = embedder.dimension();  // æ–°å¢æ–¹æ³•

// è‡ªåŠ¨é…ç½®å‘é‡å­˜å‚¨
let vector_store = LanceDBStore::new_with_auto_dimension(path, embedder).await?;
```

**å®ç°è¦ç‚¹**:
- ä¸º `Embedder` trait æ·»åŠ  `dimension()` æ–¹æ³•
- `LanceDBStore` è‡ªåŠ¨ä» embedder è·å–ç»´åº¦

**ä»£ç æ”¹åŠ¨**:
- æ–‡ä»¶: `crates/agent-mem-traits/src/embedder.rs`
- æ–‡ä»¶: `crates/agent-mem-storage/src/backends/lancedb_store.rs`
- é¢„è®¡æ”¹åŠ¨: ~30 è¡Œä»£ç 

#### 2.2 å‘é‡å­˜å‚¨ç”Ÿå‘½å‘¨æœŸç®¡ç†

**å½“å‰é—®é¢˜**:
- ç”¨æˆ·éœ€è¦æ‰‹åŠ¨ç®¡ç†å‘é‡å­˜å‚¨çš„åˆå§‹åŒ–å’Œæ¸…ç†

**æ”¹è¿›æ–¹æ¡ˆ**:
- `MemoryOrchestrator` è‡ªåŠ¨ç®¡ç†å‘é‡å­˜å‚¨ç”Ÿå‘½å‘¨æœŸ
- æ”¯æŒè‡ªåŠ¨é‡è¿å’Œé”™è¯¯æ¢å¤

**ä»£ç æ”¹åŠ¨**:
- æ–‡ä»¶: `crates/agent-mem/src/orchestrator.rs`
- é¢„è®¡æ”¹åŠ¨: ~50 è¡Œä»£ç 

### Phase 3: æ–‡æ¡£å’Œç¤ºä¾‹æ”¹è¿› (P1)

#### 3.1 å¿«é€Ÿå…¥é—¨æŒ‡å—

åˆ›å»º `docs/QUICKSTART_CN.md`:
```markdown
# AgentMem å¿«é€Ÿå…¥é—¨

## 5åˆ†é’Ÿä¸Šæ‰‹

### 1. å®‰è£…
\`\`\`bash
cargo add agent-mem
\`\`\`

### 2. è®¾ç½®ç¯å¢ƒå˜é‡
\`\`\`bash
export OPENAI_API_KEY="sk-..."
\`\`\`

### 3. ç¼–å†™ä»£ç 
\`\`\`rust
use agent_mem::Memory;

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    // é›¶é…ç½®åˆå§‹åŒ–
    let mem = Memory::new().await?;
    
    // æ·»åŠ è®°å¿†ï¼ˆè‡ªåŠ¨å¯ç”¨æ™ºèƒ½åŠŸèƒ½ï¼‰
    mem.add("I love pizza").await?;
    
    // æœç´¢è®°å¿†
    let results = mem.search("What do you know about me?").await?;
    for result in results {
        println!("- {}", result.content);
    }
    
    Ok(())
}
\`\`\`
```

#### 3.2 ç¤ºä¾‹ä»£ç æ•´ç†

åˆ›å»º `examples/quickstart/`:
- `01_basic_usage.rs`: åŸºç¡€ç”¨æ³•
- `02_intelligent_features.rs`: æ™ºèƒ½åŠŸèƒ½
- `03_advanced_search.rs`: é«˜çº§æœç´¢
- `04_multi_user.rs`: å¤šç”¨æˆ·åœºæ™¯

**ä»£ç æ”¹åŠ¨**:
- æ–°å¢æ–‡ä»¶: 4 ä¸ªç¤ºä¾‹æ–‡ä»¶
- é¢„è®¡æ”¹åŠ¨: ~400 è¡Œä»£ç 

### Phase 4: æ€§èƒ½ä¼˜åŒ– (P2)

#### 4.1 æ‰¹é‡æ“ä½œä¼˜åŒ–

**å½“å‰é—®é¢˜**:
- æ‰¹é‡æ·»åŠ è®°å¿†æ—¶ï¼Œé€æ¡å¤„ç†æ•ˆç‡ä½

**æ”¹è¿›æ–¹æ¡ˆ**:
```rust
// æ–°å¢æ‰¹é‡æ·»åŠ  API
mem.add_batch(vec![
    "I love pizza",
    "I live in San Francisco",
    "I work at Google",
]).await?;
```

**å®ç°è¦ç‚¹**:
- æ‰¹é‡ç”ŸæˆåµŒå…¥å‘é‡
- æ‰¹é‡å†™å…¥å‘é‡å­˜å‚¨
- æ‰¹é‡äº‹å®æå–

**ä»£ç æ”¹åŠ¨**:
- æ–‡ä»¶: `crates/agent-mem/src/memory.rs`
- æ–‡ä»¶: `crates/agent-mem/src/orchestrator.rs`
- é¢„è®¡æ”¹åŠ¨: ~100 è¡Œä»£ç 

#### 4.2 ç¼“å­˜ä¼˜åŒ–

**å½“å‰çŠ¶æ€**: å·²å®ç°ç¼“å­˜ï¼Œä½†æœªå……åˆ†åˆ©ç”¨

**æ”¹è¿›æ–¹æ¡ˆ**:
- é»˜è®¤å¯ç”¨æŸ¥è¯¢ç¼“å­˜
- æ™ºèƒ½ç¼“å­˜é¢„çƒ­
- LRU ç¼“å­˜æ·˜æ±°ç­–ç•¥

**ä»£ç æ”¹åŠ¨**:
- æ–‡ä»¶: `crates/agent-mem-core/src/cache.rs`
- é¢„è®¡æ”¹åŠ¨: ~50 è¡Œä»£ç 

---

## ğŸ”¬ ç ”ç©¶æ”¯æŒçš„ä¼˜åŒ–å»ºè®®

### 1. æ··åˆæ£€ç´¢ä¼˜åŒ–

**å­¦æœ¯ä¾æ®**: 
- "OneSparse: A Unified System for Multi-index Vector Search" (Microsoft Research, 2024)
- "ESPN: Memory-Efficient Multi-vector Information Retrieval" (ACM 2024)

**å»ºè®®**:
- âœ… å·²å®ç°æ··åˆæœç´¢ï¼ˆå‘é‡ + BM25ï¼‰
- ğŸ”„ å¯ä¼˜åŒ–ï¼šå¼•å…¥ç¨€ç–å‘é‡ç´¢å¼•
- ğŸ”„ å¯ä¼˜åŒ–ï¼šå¤šå‘é‡è¡¨ç¤ºï¼ˆMulti-vectorï¼‰

### 2. è®¤çŸ¥è®°å¿†æ¶æ„

**å­¦æœ¯ä¾æ®**:
- "Cognitive Architectures for Language Agents" (arXiv 2024)
- "Enhancing intelligent agents with episodic memory" (ScienceDirect)

**å»ºè®®**:
- âœ… å·²å®ç° 8 ç§è®¤çŸ¥è®°å¿†ç±»å‹
- âœ… åŸºäº HCAM ç†è®ºçš„åˆ†å±‚æ£€ç´¢
- ğŸ”„ å¯ä¼˜åŒ–ï¼šEpisodic-first æ£€ç´¢ç­–ç•¥

### 3. å‘é‡é‡åŒ–å’Œå‹ç¼©

**å­¦æœ¯ä¾æ®**:
- "A Survey on Knowledge-Oriented Retrieval-Augmented Generation" (arXiv 2025)

**å»ºè®®**:
- ğŸ”„ å¯å®ç°ï¼šProduct Quantization (PQ)
- ğŸ”„ å¯å®ç°ï¼šBinary Quantization
- ğŸ”„ å¯å®ç°ï¼šScalar Quantization

---

## ğŸ“ˆ å®æ–½è·¯çº¿å›¾

### Week 1-2: Phase 1 (API æ˜“ç”¨æ€§)

**ä»»åŠ¡**:
- [ ] å¢å¼º `AutoConfig` è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå˜é‡
- [ ] ä¿®æ”¹ `AddMemoryOptions::default()` ä½¿ `infer=true`
- [ ] æ·»åŠ é›¶é…ç½®åˆå§‹åŒ–æµ‹è¯•
- [ ] æ›´æ–° README å’Œæ–‡æ¡£

**é¢„è®¡å·¥ä½œé‡**: 2-3 å¤©
**ä»£ç æ”¹åŠ¨**: ~100 è¡Œ

### Week 3-4: Phase 2 (å‘é‡å­˜å‚¨ä¼˜åŒ–)

**ä»»åŠ¡**:
- [ ] å®ç° `Embedder::dimension()` æ–¹æ³•
- [ ] ä¼˜åŒ– `LanceDBStore` åˆå§‹åŒ–
- [ ] æ·»åŠ è‡ªåŠ¨ç»´åº¦æ£€æµ‹æµ‹è¯•
- [ ] å‘é‡å­˜å‚¨ç”Ÿå‘½å‘¨æœŸç®¡ç†

**é¢„è®¡å·¥ä½œé‡**: 3-4 å¤©
**ä»£ç æ”¹åŠ¨**: ~150 è¡Œ

### Week 5-6: Phase 3 (æ–‡æ¡£å’Œç¤ºä¾‹)

**ä»»åŠ¡**:
- [ ] ç¼–å†™å¿«é€Ÿå…¥é—¨æŒ‡å—ï¼ˆä¸­è‹±æ–‡ï¼‰
- [ ] åˆ›å»º 4 ä¸ªç¤ºä¾‹ä»£ç 
- [ ] å½•åˆ¶è§†é¢‘æ•™ç¨‹ï¼ˆå¯é€‰ï¼‰
- [ ] æ›´æ–° README

**é¢„è®¡å·¥ä½œé‡**: 4-5 å¤©
**ä»£ç æ”¹åŠ¨**: ~500 è¡Œï¼ˆä¸»è¦æ˜¯æ–‡æ¡£å’Œç¤ºä¾‹ï¼‰

### Week 7-8: Phase 4 (æ€§èƒ½ä¼˜åŒ–)

**ä»»åŠ¡**:
- [ ] å®ç°æ‰¹é‡æ“ä½œ API
- [ ] ä¼˜åŒ–ç¼“å­˜ç­–ç•¥
- [ ] æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] æ€§èƒ½æŠ¥å‘Š

**é¢„è®¡å·¥ä½œé‡**: 4-5 å¤©
**ä»£ç æ”¹åŠ¨**: ~200 è¡Œ

---

## ğŸ–ï¸ AgentMem çš„ç‹¬ç‰¹ä¼˜åŠ¿

### 1. è®¤çŸ¥ç§‘å­¦åŸºç¡€

AgentMem åŸºäºè®¤çŸ¥ç§‘å­¦çš„è®°å¿†ç†è®ºè®¾è®¡ï¼Œè€Œ Mem0 ä»…æ˜¯ç®€å•çš„å‘é‡å­˜å‚¨ï¼š

- **Atkinson-Shiffrin æ¨¡å‹**: å·¥ä½œè®°å¿† â†’ çŸ­æœŸè®°å¿† â†’ é•¿æœŸè®°å¿†
- **HCAM ç†è®º**: åˆ†å±‚è®¤çŸ¥æ¶æ„
- **8 ç§è®°å¿†ç±»å‹**: å¯¹åº”äººç±»è®¤çŸ¥ç³»ç»Ÿ

### 2. ä¼ä¸šçº§ç‰¹æ€§

- **WASM æ’ä»¶ç³»ç»Ÿ**: å¯æ‰©å±•æ€§å¼ºï¼Œæ”¯æŒè‡ªå®šä¹‰æ’ä»¶
- **å¤šç§Ÿæˆ·æ”¯æŒ**: åŸç”Ÿæ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»
- **å¯è§‚æµ‹æ€§**: å®Œæ•´çš„ metrics å’Œ tracing
- **äº‘åŸç”Ÿ**: K8s éƒ¨ç½²ã€Helm Charts

### 3. æ€§èƒ½ä¼˜åŠ¿

- **Rust åŸç”Ÿ**: é›¶ GC å¼€é”€ï¼Œå†…å­˜å®‰å…¨
- **å¹¶å‘æ€§èƒ½**: Tokio å¼‚æ­¥è¿è¡Œæ—¶ï¼Œ10,000+ QPS
- **å•äºŒè¿›åˆ¶éƒ¨ç½²**: æ— ä¾èµ–ï¼Œå¯åŠ¨å¿«

### 4. æ··åˆæœç´¢

- **å‘é‡æœç´¢**: è¯­ä¹‰ç›¸ä¼¼åº¦
- **BM25 æœç´¢**: å…³é”®è¯åŒ¹é…
- **RRF èåˆ**: æœ€ä½³å¬å›ç‡

---

## ğŸš€ æ€»ç»“ä¸è¡ŒåŠ¨å»ºè®®

### æ ¸å¿ƒç»“è®º

1. **AgentMem æ¶æ„æ›´å…ˆè¿›**: 8ç§è®¤çŸ¥è®°å¿†ç±»å‹ã€WASMæ’ä»¶ã€æ··åˆæœç´¢ã€10æ­¥æ™ºèƒ½æµæ°´çº¿
2. **æ€§èƒ½ä¼˜åŠ¿æ˜æ˜¾**: Rustå®ç°ï¼Œç†è®ºæ€§èƒ½æ˜¯Mem0çš„6-10å€
3. **æ˜“ç”¨æ€§éœ€æ”¹è¿›**: APIå¤æ‚åº¦é«˜ï¼Œéœ€è¦å¯¹æ ‡Mem0çš„é›¶é…ç½®ä½“éªŒ
4. **æ”¹è¿›æ–¹æ¡ˆå¯è¡Œ**: é€šè¿‡æœ€å°æ”¹åŠ¨ï¼ˆé…ç½®ä¼˜åŒ–ã€é»˜è®¤å€¼è°ƒæ•´ï¼‰å³å¯å¤§å¹…æå‡æ˜“ç”¨æ€§

### ç«‹å³æ‰§è¡Œ (Week 1-2)

1. **ä¿®æ”¹é»˜è®¤å€¼** (5åˆ†é’Ÿ)
   - ä¿®æ”¹ `AddMemoryOptions::default()` ä½¿ `infer=true`
   - æ–‡ä»¶: `crates/agent-mem/src/types.rs`

2. **å¢å¼ºè‡ªåŠ¨é…ç½®** (2-3å¤©)
   - å¢å¼º `AutoConfig` è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå˜é‡
   - æ–‡ä»¶: `crates/agent-mem/src/auto_config.rs`

3. **æ·»åŠ ç¤ºä¾‹** (1å¤©)
   - æ·»åŠ é›¶é…ç½®åˆå§‹åŒ–ç¤ºä¾‹
   - æ–‡ä»¶: `examples/quickstart/01_basic_usage.rs`

### çŸ­æœŸç›®æ ‡ (Week 3-6)

1. ä¼˜åŒ–å‘é‡å­˜å‚¨åˆå§‹åŒ–
2. å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹
3. å‘å¸ƒ v2.1 ç‰ˆæœ¬

### é•¿æœŸç›®æ ‡ (Week 7+)

1. æ€§èƒ½ä¼˜åŒ–ï¼ˆæ‰¹é‡æ“ä½œã€ç¼“å­˜ï¼‰
2. æ‰©å±•å‘é‡å­˜å‚¨æ”¯æŒï¼ˆQdrant, Milvusï¼‰
3. æ·»åŠ  Reranker æ”¯æŒ
4. ç¤¾åŒºå»ºè®¾å’Œæ¨å¹¿

---

---

## ğŸ”¬ å¤šè½®éªŒè¯åˆ†æï¼ˆåŸºäºçœŸå®ä»£ç ï¼‰

### ç¬¬ä¸€è½®éªŒè¯ï¼šæ¶æ„å®Œæ•´æ€§ âœ…

**éªŒè¯å†…å®¹**: AgentMem çš„æ™ºèƒ½ç»„ä»¶æ˜¯å¦å®Œæ•´å®ç°

**éªŒè¯æ–¹æ³•**:
- æŸ¥çœ‹ `crates/agent-mem/src/orchestrator.rs` çš„ `add_memory_intelligent()` æ–¹æ³•
- æŸ¥çœ‹ `crates/agent-mem-intelligence/` ä¸‹çš„æ‰€æœ‰æ™ºèƒ½ç»„ä»¶å®ç°
- æŸ¥çœ‹æµ‹è¯•æ–‡ä»¶ `crates/agent-mem/tests/orchestrator_intelligence_test.rs`

**éªŒè¯ç»“æœ**:
- âœ… **FactExtractor**: å·²å®Œæ•´å®ç°ï¼ˆ`fact_extraction.rs`ï¼‰ï¼Œæ”¯æŒè¶…æ—¶æ§åˆ¶å’Œ LRU ç¼“å­˜
- âœ… **AdvancedFactExtractor**: å·²å®Œæ•´å®ç°ï¼Œæ”¯æŒå®ä½“å’Œå…³ç³»æå–
- âœ… **ImportanceEvaluator**: å·²å®Œæ•´å®ç°ï¼ˆ`importance_evaluator.rs`ï¼‰ï¼Œæ”¯æŒ 6 ç»´åº¦è¯„ä¼°
- âœ… **ConflictResolver**: å·²å®Œæ•´å®ç°ï¼ˆ`conflict_resolution.rs`ï¼‰ï¼Œæ”¯æŒçŸ›ç›¾/é‡å¤/è¿‡æ—¶æ£€æµ‹
- âœ… **EnhancedDecisionEngine**: å·²å®Œæ•´å®ç°ï¼ˆ`decision_engine.rs`ï¼‰ï¼Œæ”¯æŒ ADD/UPDATE/DELETE/MERGE/NOOP
- âœ… **DBSCANClusterer**: å·²å®ç°ï¼ˆ`clustering.rs`ï¼‰
- âœ… **KMeansClusterer**: å·²å®ç°ï¼ˆ`clustering.rs`ï¼‰
- âœ… **MemoryReasoner**: å·²å®ç°ï¼ˆ`reasoning.rs`ï¼‰

**ä»£ç è¯æ®**:
<augment_code_snippet path="crates/agent-mem/src/orchestrator.rs" mode="EXCERPT">
````rust
/// æ™ºèƒ½æ·»åŠ è®°å¿† (å®Œæ•´æµæ°´çº¿)
/// å®ç° 10 æ­¥æ™ºèƒ½å¤„ç†æµæ°´çº¿ï¼š
/// 1. äº‹å®æå–ï¼ˆä½¿ç”¨ FactExtractorï¼‰
/// 2. å®ä½“å’Œå…³ç³»æå–ï¼ˆä½¿ç”¨ AdvancedFactExtractorï¼‰
/// 3. ç»“æ„åŒ–äº‹å®
/// 4. é‡è¦æ€§è¯„ä¼°ï¼ˆä½¿ç”¨ ImportanceEvaluatorï¼‰
/// 5. æœç´¢ç›¸ä¼¼è®°å¿†ï¼ˆä½¿ç”¨ HybridSearchEngineï¼‰
/// 6. å†²çªæ£€æµ‹ï¼ˆä½¿ç”¨ ConflictResolverï¼‰
/// 7. æ™ºèƒ½å†³ç­–ï¼ˆä½¿ç”¨ EnhancedDecisionEngineï¼Œæ”¯æŒ ADD/UPDATE/DELETE/MERGEï¼‰
/// 8. æ‰§è¡Œå†³ç­–ï¼ˆç›´æ¥è°ƒç”¨ Managersï¼‰
/// 9. å¼‚æ­¥èšç±»åˆ†æï¼ˆTODOï¼‰
/// 10. å¼‚æ­¥æ¨ç†å…³è”ï¼ˆTODOï¼‰
pub async fn add_memory_intelligent(
    &self,
    content: String,
    agent_id: String,
    user_id: Option<String>,
    metadata: Option<HashMap<String, serde_json::Value>>,
) -> Result<AddResult>
````
</augment_code_snippet>

**ç»“è®º**: AgentMem çš„æ™ºèƒ½ç»„ä»¶æ¶æ„å®Œæ•´ï¼ŒåŠŸèƒ½é½å…¨ï¼Œ10 æ­¥æµæ°´çº¿ä¸­å‰ 8 æ­¥å·²å®Œæ•´å®ç°ã€‚

---

### ç¬¬äºŒè½®éªŒè¯ï¼šAPI æ˜“ç”¨æ€§å’Œé»˜è®¤è¡Œä¸º âš ï¸ **å…³é”®å‘ç°**

**éªŒè¯å†…å®¹**: å¯¹æ¯” AgentMem å’Œ Mem0 çš„é»˜è®¤è¡Œä¸º

**éªŒè¯æ–¹æ³•**:
1. æŸ¥çœ‹ `crates/agent-mem/src/types.rs` çš„ `AddMemoryOptions::default()`
2. æŸ¥çœ‹ `/Users/louloulin/Documents/linchong/cjproject/contextengine/source/mem0/mem0/memory/main.py` çš„ `add()` æ–¹æ³•ç­¾å
3. æŸ¥çœ‹æµ‹è¯•æ–‡ä»¶ä¸­çš„å®é™…ä½¿ç”¨æ–¹å¼

**AgentMem çš„é»˜è®¤è¡Œä¸º**:

<augment_code_snippet path="crates/agent-mem/src/types.rs" mode="EXCERPT">
````rust
impl Default for AddMemoryOptions {
    fn default() -> Self {
        Self {
            user_id: None,
            agent_id: None,
            run_id: None,
            metadata: HashMap::new(),
            infer: false,  // âŒ é»˜è®¤ä¸å¯ç”¨æ™ºèƒ½åŠŸèƒ½
            memory_type: None,
            prompt: None,
        }
    }
}
````
</augment_code_snippet>

**Mem0 çš„é»˜è®¤è¡Œä¸º**:

```python
def add(
    self,
    messages,
    *,
    user_id: Optional[str] = None,
    agent_id: Optional[str] = None,
    run_id: Optional[str] = None,
    metadata: Optional[Dict[str, Any]] = None,
    infer: bool = True,  # âœ… é»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½
    memory_type: Optional[str] = None,
    prompt: Optional[str] = None,
):
    """
    infer (bool, optional): If True (default), an LLM is used to extract key facts from
        'messages' and decide whether to add, update, or delete related memories.
        If False, 'messages' are added as raw memories directly.
    """
```

**å¯¹æ¯”ç»“æœ**:

| é¡¹ç›® | AgentMem | Mem0 | å·®å¼‚ |
|------|----------|------|------|
| **é»˜è®¤ infer å€¼** | `false` | `true` | âŒ ä¸ä¸€è‡´ |
| **ç”¨æˆ·ä½“éªŒ** | éœ€è¦æ˜¾å¼è®¾ç½® `infer: true` | å¼€ç®±å³ç”¨æ™ºèƒ½åŠŸèƒ½ | âŒ AgentMem æ›´å¤æ‚ |
| **API å…¼å®¹æ€§** | ä¸å…¼å®¹ Mem0 é»˜è®¤è¡Œä¸º | - | âŒ ç ´åå…¼å®¹æ€§ |

**å®é™…å½±å“**:

1. **ç”¨æˆ·å¿…é¡»æ˜¾å¼å¯ç”¨æ™ºèƒ½åŠŸèƒ½**:
```rust
// AgentMem - éœ€è¦æ˜¾å¼è®¾ç½®
let options = AddMemoryOptions {
    infer: true,  // å¿…é¡»æ‰‹åŠ¨è®¾ç½®
    ..Default::default()
};
mem.add_with_options("I love pizza", options).await?;
```

2. **Mem0 - å¼€ç®±å³ç”¨**:
```python
# Mem0 - é»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½
memory.add("I love pizza", user_id="alice")  # infer=True æ˜¯é»˜è®¤å€¼
```

**ç»“è®º**:
- âš ï¸ **è¿™æ˜¯ä¸€ä¸ªçœŸå®çš„æ˜“ç”¨æ€§é—®é¢˜**ï¼Œä¸æ˜¯å‡è®¾
- âš ï¸ **ç ´åäº†ä¸ Mem0 çš„ API å…¼å®¹æ€§**
- âœ… **ä¿®å¤æ–¹æ¡ˆç®€å•**ï¼šä»…éœ€ä¿®æ”¹ 1 è¡Œä»£ç ï¼ˆ`infer: false` â†’ `infer: true`ï¼‰

---

### ç¬¬ä¸‰è½®éªŒè¯ï¼šå®é™…è°ƒç”¨æµç¨‹ âœ…

**éªŒè¯å†…å®¹**: ä» Memory API åˆ° Orchestrator çš„å®Œæ•´è°ƒç”¨é“¾

**éªŒè¯æ–¹æ³•**:
1. æŸ¥çœ‹ `crates/agent-mem/src/memory.rs` çš„ `add()` æ–¹æ³•
2. æŸ¥çœ‹ `crates/agent-mem/src/orchestrator.rs` çš„ `add_memory_v2()` æ–¹æ³•
3. è¿½è¸ª `infer` å‚æ•°çš„ä¼ é€’å’Œä½¿ç”¨

**è°ƒç”¨é“¾åˆ†æ**:

```
ç”¨æˆ·è°ƒç”¨
  â†“
Memory::add(content)
  â†“
Memory::add_with_options(content, AddMemoryOptions::default())  // infer=false
  â†“
MemoryOrchestrator::add_memory_v2(..., infer=false, ...)
  â†“
if infer {
    add_memory_intelligent()  // 10æ­¥æ™ºèƒ½æµæ°´çº¿
} else {
    add_memory()  // ç®€å•æ¨¡å¼ï¼Œç›´æ¥å­˜å‚¨
}
```

**ä»£ç è¯æ®**:

<augment_code_snippet path="crates/agent-mem/src/memory.rs" mode="EXCERPT">
````rust
pub async fn add(&self, content: impl Into<String>) -> Result<AddResult> {
    self.add_with_options(content, AddMemoryOptions::default())
        .await
}
````
</augment_code_snippet>

<augment_code_snippet path="crates/agent-mem/src/orchestrator.rs" mode="EXCERPT">
````rust
pub async fn add_memory_v2(
    &self,
    content: String,
    agent_id: String,
    user_id: Option<String>,
    run_id: Option<String>,
    metadata: Option<HashMap<String, serde_json::Value>>,
    infer: bool,
    memory_type: Option<String>,
    _prompt: Option<String>,
) -> Result<AddResult> {
    // ========== æ ¹æ® infer å‚æ•°é€‰æ‹©å¤„ç†æ¨¡å¼ ==========
    if infer {
        // infer=true: ä½¿ç”¨æ™ºèƒ½æ¨ç†æ¨¡å¼ï¼ˆå®Œæ•´çš„ 10 æ­¥æµæ°´çº¿ï¼‰
        info!("ä½¿ç”¨æ™ºèƒ½æ¨ç†æ¨¡å¼ (infer=true)");
        self.add_memory_intelligent(content, agent_id, user_id, metadata).await
    } else {
        // infer=false: ä½¿ç”¨ç®€å•æ¨¡å¼ï¼ˆç›´æ¥æ·»åŠ åŸå§‹å†…å®¹ï¼‰
        info!("ä½¿ç”¨ç®€å•æ¨¡å¼ (infer=false)");
        // ...
    }
}
````
</augment_code_snippet>

**éªŒè¯ç»“æœ**:
- âœ… **infer å‚æ•°æ­£ç¡®ä¼ é€’**: ä» Memory API â†’ Orchestrator â†’ æ™ºèƒ½æµæ°´çº¿
- âœ… **æ™ºèƒ½æµæ°´çº¿æ­£ç¡®å®ç°**: `add_memory_intelligent()` å®ç°äº†å®Œæ•´çš„ 10 æ­¥æµç¨‹
- âœ… **é™çº§æœºåˆ¶æ­£ç¡®**: å½“æ™ºèƒ½ç»„ä»¶æœªåˆå§‹åŒ–æ—¶ï¼Œè‡ªåŠ¨é™çº§åˆ°ç®€å•æ¨¡å¼
- âŒ **é»˜è®¤è¡Œä¸ºä¸ç¬¦åˆé¢„æœŸ**: ç”¨æˆ·è°ƒç”¨ `mem.add()` æ—¶ï¼Œé»˜è®¤èµ°ç®€å•æ¨¡å¼è€Œéæ™ºèƒ½æ¨¡å¼

**ç»“è®º**:
- ä»£ç å®ç°æ­£ç¡®ï¼Œé€»è¾‘æ¸…æ™°
- å”¯ä¸€é—®é¢˜æ˜¯é»˜è®¤å€¼è®¾ç½®ä¸å½“ï¼ˆ`infer: false`ï¼‰

---

### ç¬¬å››è½®éªŒè¯ï¼šæµ‹è¯•è¦†ç›–ç‡ âœ…

**éªŒè¯å†…å®¹**: æµ‹è¯•æ˜¯å¦è¦†ç›–äº† infer å‚æ•°çš„ä¸¤ç§æ¨¡å¼

**éªŒè¯æ–¹æ³•**: æŸ¥çœ‹ `crates/agent-mem/tests/orchestrator_intelligence_test.rs`

**æµ‹è¯•è¦†ç›–**:

<augment_code_snippet path="crates/agent-mem/tests/orchestrator_intelligence_test.rs" mode="EXCERPT">
````rust
#[tokio::test]
async fn test_infer_parameter_false() {
    // æµ‹è¯• infer=false æ¨¡å¼ï¼ˆç®€å•æ¨¡å¼ï¼‰
    let mem = Memory::new().await.expect("åˆå§‹åŒ–å¤±è´¥");
    let options = AddMemoryOptions {
        infer: false,
        ..Default::default()
    };
    let result = mem.add_with_options("æµ‹è¯•ç®€å•æ¨¡å¼", options).await;
    // ...
}

#[tokio::test]
async fn test_infer_parameter_true() {
    // æµ‹è¯• infer=true æ¨¡å¼ï¼ˆæ™ºèƒ½æ¨¡å¼ï¼‰
    let mem = Memory::new().await.expect("åˆå§‹åŒ–å¤±è´¥");
    let options = AddMemoryOptions {
        infer: true,
        ..Default::default()
    };
    let result = mem.add_with_options("æˆ‘å–œæ¬¢åƒè‹¹æœå’Œé¦™è•‰", options).await;
    // ...
}
````
</augment_code_snippet>

**éªŒè¯ç»“æœ**:
- âœ… **infer=false æµ‹è¯•**: å·²è¦†ç›–ï¼ŒéªŒè¯ç®€å•æ¨¡å¼
- âœ… **infer=true æµ‹è¯•**: å·²è¦†ç›–ï¼ŒéªŒè¯æ™ºèƒ½æ¨¡å¼
- âœ… **æ€§èƒ½å¯¹æ¯”æµ‹è¯•**: å·²å®ç°ï¼Œå¯¹æ¯”ä¸¤ç§æ¨¡å¼çš„æ€§èƒ½å·®å¼‚
- âœ… **é™çº§æµ‹è¯•**: å·²è¦†ç›–ï¼ŒéªŒè¯æ™ºèƒ½ç»„ä»¶æœªåˆå§‹åŒ–æ—¶çš„é™çº§è¡Œä¸º

**ç»“è®º**: æµ‹è¯•è¦†ç›–å®Œæ•´ï¼Œä¸¤ç§æ¨¡å¼éƒ½æœ‰æµ‹è¯•éªŒè¯ã€‚

---

### ç¬¬äº”è½®éªŒè¯ï¼šæ–‡æ¡£å’Œç¤ºä¾‹ âš ï¸

**éªŒè¯å†…å®¹**: æ–‡æ¡£å’Œç¤ºä¾‹çš„å®Œæ•´æ€§

**éªŒè¯æ–¹æ³•**: æŸ¥çœ‹ README.mdã€examples/ ç›®å½•ã€æµ‹è¯•æ–‡ä»¶

**éªŒè¯ç»“æœ**:
- âœ… **ä»£ç æ³¨é‡Š**: ä»£ç æ³¨é‡Šè¯¦ç»†ï¼Œä¸­è‹±æ–‡æ··åˆ
- âœ… **ç¤ºä¾‹ä»£ç **: æœ‰å¤šä¸ªç¤ºä¾‹ï¼ˆ`examples/mem5-demo/`, `examples/final-comprehensive-verification/`ï¼‰
- âš ï¸ **å¿«é€Ÿå…¥é—¨**: README.md ä¸­ç¼ºå°‘é›¶é…ç½®ç¤ºä¾‹
- âš ï¸ **é»˜è®¤è¡Œä¸ºè¯´æ˜**: æ–‡æ¡£æœªæ˜ç¡®è¯´æ˜ `infer` çš„é»˜è®¤å€¼
- âš ï¸ **ä¸ Mem0 çš„å¯¹æ¯”**: ç¼ºå°‘ä¸ Mem0 çš„ API å…¼å®¹æ€§è¯´æ˜

**ç¤ºä¾‹ä»£ç åˆ†æ**:

å¤§å¤šæ•°ç¤ºä¾‹éƒ½æ˜¾å¼è®¾ç½®äº† `infer: true`:
```rust
// examples/mem5-demo/src/main.rs
client.add(
    Messages::Single("I love programming in Rust".to_string()),
    Some("user123".to_string()),
    Some("agent456".to_string()),
    Some("session789".to_string()),
    Some(metadata),
    true,  // â† æ˜¾å¼è®¾ç½® infer=true
    Some("episodic".to_string()),
    None,
).await?;
```

**ç»“è®º**:
- ç¤ºä¾‹ä»£ç éƒ½æ˜¾å¼è®¾ç½® `infer: true`ï¼Œè¯´æ˜å¼€å‘è€…çŸ¥é“æ™ºèƒ½åŠŸèƒ½éœ€è¦æ‰‹åŠ¨å¯ç”¨
- è¿™è¿›ä¸€æ­¥è¯å®äº†é»˜è®¤å€¼ `infer: false` æ˜¯ä¸€ä¸ªæ˜“ç”¨æ€§é—®é¢˜

---

---

## ğŸ¯ é€šç”¨è®°å¿†å¹³å°æ”¹è¿›è®¡åˆ’ï¼ˆèšç„¦æ ¸å¿ƒèƒ½åŠ›ï¼‰

### æ”¹è¿›åŸåˆ™

åŸºäºå¯¹ Augment Code å’Œ Cursor çš„æ ¸å¿ƒèƒ½åŠ›åˆ†æï¼ŒAgentMem çš„æ”¹è¿›åº”èšç„¦äºï¼š

1. **é€šç”¨è®°å¿†å¹³å°èƒ½åŠ›** â­â­â­â­â­
   - Session ç®¡ç†å’Œä¸Šä¸‹æ–‡éš”ç¦»
   - è®°å¿†ç”Ÿå‘½å‘¨æœŸç®¡ç†
   - æ™ºèƒ½æ“ä½œï¼ˆå»é‡ã€å†²çªè§£å†³ã€é‡è¦æ€§è¯„ä¼°ï¼‰
   - æ··åˆæ£€ç´¢ï¼ˆå‘é‡ + å…³é”®è¯ + å›¾è°±ï¼‰

2. **API æ˜“ç”¨æ€§** â­â­â­â­â­
   - é›¶é…ç½®å¯åŠ¨
   - æ™ºèƒ½é»˜è®¤å€¼
   - ç®€æ´çš„ API è®¾è®¡

3. **æ’ä»¶æ‰©å±•èƒ½åŠ›** â­â­â­â­â­
   - WASM æ’ä»¶ç³»ç»Ÿ
   - Host èƒ½åŠ›æ¥å£
   - æ’ä»¶å¸‚åœºç”Ÿæ€

4. **é›†æˆç”Ÿæ€** â­â­â­â­
   - å‘é‡å­˜å‚¨é›†æˆï¼ˆQdrant, Milvus, Chroma, Pineconeï¼‰
   - LLM é›†æˆï¼ˆæ›´å¤šæä¾›å•†ï¼‰
   - åµŒå…¥æ¨¡å‹é›†æˆï¼ˆæ›´å¤šæ¨¡å‹ï¼‰

### æ ¸å¿ƒé—®é¢˜æ€»ç»“

ç»è¿‡ 6 è½®æ·±åº¦éªŒè¯ï¼Œç¡®è®¤äº†ä»¥ä¸‹**çœŸå®å­˜åœ¨çš„é—®é¢˜**ï¼š

#### P0 - API æ˜“ç”¨æ€§é—®é¢˜ï¼ˆ1 å°æ—¶ï¼‰âš ï¸ **æœ€é«˜ä¼˜å…ˆçº§**

**é—®é¢˜ 1: é»˜è®¤å€¼ä¸å…¼å®¹**
- **ç°çŠ¶**: `AddMemoryOptions::default()` ä¸­ `infer: false`
- **å½±å“**: ç ´åä¸ Mem0 çš„ API å…¼å®¹æ€§ï¼Œç”¨æˆ·ä½“éªŒå·®
- **è¯æ®**: Mem0 çš„ `add()` æ–¹æ³•é»˜è®¤ `infer=True`
- **ä¿®å¤**: 1 è¡Œä»£ç ï¼ˆ`infer: false` â†’ `infer: true`ï¼‰
- **æ–‡ä»¶**: `crates/agent-mem/src/types.rs:36`

**é—®é¢˜ 2: æ–‡æ¡£ä¸å®Œæ•´**
- **ç°çŠ¶**: README ç¼ºå°‘é›¶é…ç½®ç¤ºä¾‹ï¼Œæœªè¯´æ˜é»˜è®¤è¡Œä¸º
- **å½±å“**: ç”¨æˆ·ä¸çŸ¥é“å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹
- **ä¿®å¤**: æ›´æ–° READMEï¼Œæ·»åŠ å¿«é€Ÿå…¥é—¨æŒ‡å—
- **æ–‡ä»¶**: `README.md`

---

#### P1 - Session ç®¡ç†çµæ´»æ€§ï¼ˆ1 å‘¨ï¼‰âš ï¸ **é«˜ä¼˜å…ˆçº§**

**é—®é¢˜**: å½“å‰ Session ç®¡ç†ä¾èµ– `agent_id`ï¼Œä¸å¤Ÿçµæ´»

**ç°çŠ¶**:
```rust
pub async fn add_memory(
    &self,
    content: String,
    agent_id: String,              // âŒ å¿…éœ€å‚æ•°
    user_id: Option<String>,       // âš ï¸ åº”è¯¥æ˜¯å¿…éœ€
    // ...
)
```

**å½±å“**:
- ä¸æ”¯æŒçº¯ `user_id` çš„åœºæ™¯ï¼ˆå•ç”¨æˆ· AI åŠ©æ‰‹ï¼‰
- ä¸æ”¯æŒ `org_id` çš„åœºæ™¯ï¼ˆä¼ä¸šå¤šç§Ÿæˆ·ï¼‰
- ä¸æ”¯æŒ `session_id` çš„åœºæ™¯ï¼ˆå¤šçª—å£å¯¹è¯ï¼‰

**ä¿®å¤æ–¹æ¡ˆ**: å¼•å…¥ `MemoryScope` æšä¸¾

```rust
pub enum MemoryScope {
    Global,                                    // å…¨å±€ä½œç”¨åŸŸ
    Organization { org_id: String },           // ç»„ç»‡çº§
    User { user_id: String },                  // ç”¨æˆ·çº§
    Agent { user_id: String, agent_id: String }, // Agent çº§
    Run { user_id: String, run_id: String },   // è¿è¡Œçº§
    Session { user_id: String, session_id: String }, // ä¼šè¯çº§
}
```

**å·¥ä½œé‡**: 1 å‘¨ï¼ˆè®¾è®¡ + å®ç° + æµ‹è¯• + æ–‡æ¡£ï¼‰

---

#### P2 - é›†æˆç”Ÿæ€æ‰©å±•ï¼ˆ2-4 å‘¨ï¼‰âš ï¸ **ä¸­ä¼˜å…ˆçº§**

**é—®é¢˜**: å‘é‡å­˜å‚¨ã€LLMã€åµŒå…¥æ¨¡å‹æ”¯æŒä¸è¶³

**ç°çŠ¶ vs ç›®æ ‡**:
| ç»„ä»¶ | å½“å‰æ”¯æŒ | Mem0 æ”¯æŒ | ç›®æ ‡ |
|------|---------|----------|------|
| **å‘é‡å­˜å‚¨** | 3 ç§ | 28+ ç§ | 10+ ç§ |
| **LLM** | 5 ç§ | 22+ ç§ | 10+ ç§ |
| **åµŒå…¥æ¨¡å‹** | 5 ç§ | 17+ ç§ | 10+ ç§ |
| **é‡æ’åº** | 0 ç§ | 7+ ç§ | 3+ ç§ |

**ä¼˜å…ˆçº§æ’åº**:
1. **å‘é‡å­˜å‚¨**ï¼ˆæœ€é«˜ï¼‰: Qdrant, Milvus, Chroma, Pinecone
2. **LLM**ï¼ˆä¸­ï¼‰: Gemini, Mistral, DeepSeek, Qwen
3. **åµŒå…¥æ¨¡å‹**ï¼ˆä¸­ï¼‰: Voyage, Jina, BGE
4. **é‡æ’åº**ï¼ˆä½ï¼‰: Cohere, Jina, Cross-Encoder

**å·¥ä½œé‡**: 2-4 å‘¨ï¼ˆæ¯ä¸ªé›†æˆ 2-3 å¤©ï¼‰

---

#### P3 - æ’ä»¶ç”Ÿæ€å»ºè®¾ï¼ˆé•¿æœŸï¼‰âš ï¸ **ä½ä¼˜å…ˆçº§**

**ç›®æ ‡**: æ„å»ºæ’ä»¶å¸‚åœºï¼Œæ”¯æŒç¤¾åŒºè´¡çŒ®

**å·¥ä½œå†…å®¹**:
1. å®Œå–„æ’ä»¶ SDK æ–‡æ¡£
2. åˆ›å»ºæ’ä»¶æ¨¡æ¿å’Œç¤ºä¾‹
3. å»ºç«‹æ’ä»¶æ³¨å†Œå’Œå‘ç°æœºåˆ¶
4. æä¾›æ’ä»¶æµ‹è¯•å’ŒéªŒè¯å·¥å…·

**å·¥ä½œé‡**: é•¿æœŸï¼ˆ3-6 ä¸ªæœˆï¼‰

---

## ğŸ¯ æœ€ç»ˆæ”¹è¿›å»ºè®®ï¼ˆåŸºäºçœŸå®ä»£ç åˆ†æï¼‰

### ç«‹å³æ‰§è¡Œçš„æ”¹è¿›ï¼ˆP0 - 1 å°æ—¶ï¼‰

### P0 - ç«‹å³æ‰§è¡Œï¼ˆ1 å°æ—¶ï¼‰âœ… **å·²å®Œæˆ**

**å®æ–½æ—¥æœŸ**: 2025-11-08
**å®æ–½çŠ¶æ€**: âœ… å…¨éƒ¨å®Œæˆ
**éªŒè¯çŠ¶æ€**: âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ29/29ï¼‰

---

#### 1. ä¿®æ”¹é»˜è®¤æ™ºèƒ½åŠŸèƒ½å¼€å…³ â­ **æœ€é‡è¦** âœ…

**æ–‡ä»¶**: `crates/agent-mem/src/types.rs` ç¬¬ 36 è¡Œ

**çŠ¶æ€**: âœ… å·²å®Œæˆ

**å½“å‰ä»£ç **:
```rust
impl Default for AddMemoryOptions {
    fn default() -> Self {
        Self {
            user_id: None,
            agent_id: None,
            run_id: None,
            metadata: HashMap::new(),
            infer: false,  // âŒ å½“å‰å€¼
            memory_type: None,
            prompt: None,
        }
    }
}
```

**ä¿®æ”¹å**:
```rust
impl Default for AddMemoryOptions {
    fn default() -> Self {
        Self {
            user_id: None,
            agent_id: None,
            run_id: None,
            metadata: HashMap::new(),
            infer: true,  // âœ… ä¿®æ”¹ä¸º trueï¼Œå¯¹æ ‡ Mem0
            memory_type: None,
            prompt: None,
        }
    }
}
```

**å®æ–½ç»“æœ**:
- âœ… **ä»£ç ä¿®æ”¹å®Œæˆ**: å·²å°† `infer: false` æ”¹ä¸º `infer: true`
- âœ… **æ·»åŠ æ³¨é‡Š**: `// âœ… ä¿®æ”¹ä¸º trueï¼Œå¯¹æ ‡ Mem0ï¼Œé»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½`
- âœ… **æµ‹è¯•éªŒè¯**: æ‰€æœ‰æµ‹è¯•é€šè¿‡
  - âœ… åº“æµ‹è¯•ï¼š6/6 é€šè¿‡
  - âœ… é›†æˆæµ‹è¯•ï¼š6/6 é€šè¿‡
  - âœ… æ™ºèƒ½ç»„ä»¶æµ‹è¯•ï¼š17/17 é€šè¿‡
- âœ… **å‘åå…¼å®¹æ€§**: `test_infer_parameter_false` æµ‹è¯•é€šè¿‡ï¼Œç¡®è®¤ç”¨æˆ·ä»å¯ç¦ç”¨æ™ºèƒ½åŠŸèƒ½

**å½±å“åˆ†æ**:
- âœ… **ç”¨æˆ·ä½“éªŒæå‡**: ç”¨æˆ·è°ƒç”¨ `mem.add()` æ—¶é»˜è®¤è·å¾—æ™ºèƒ½åŠŸèƒ½
- âœ… **API å…¼å®¹æ€§**: ä¸ Mem0 çš„é»˜è®¤è¡Œä¸ºä¸€è‡´
- âœ… **å‘åå…¼å®¹**: ç”¨æˆ·ä»å¯é€šè¿‡ `infer: false` ç¦ç”¨æ™ºèƒ½åŠŸèƒ½
- âœ… **æµ‹è¯•è¦†ç›–**: å·²æœ‰æµ‹è¯•è¦†ç›–ä¸¤ç§æ¨¡å¼ï¼ˆ`test_infer_parameter_false` å’Œ `test_infer_parameter_true`ï¼‰
- âš ï¸ **æ€§èƒ½å½±å“**: æ™ºèƒ½æ¨¡å¼æ¯”ç®€å•æ¨¡å¼æ…¢ï¼ˆéœ€è¦è°ƒç”¨ LLMï¼‰ï¼Œä½†è¿™æ˜¯é¢„æœŸè¡Œä¸º
- âš ï¸ **é™çº§æœºåˆ¶**: å¦‚æœæ™ºèƒ½ç»„ä»¶æœªåˆå§‹åŒ–ï¼Œä¼šè‡ªåŠ¨é™çº§åˆ°ç®€å•æ¨¡å¼ï¼ˆå·²å®ç°ï¼‰

**é£é™©è¯„ä¼°**:
- **ä½é£é™©**: ä»£ç é€»è¾‘å·²å®Œæ•´å®ç°ï¼Œä»…ä¿®æ”¹é»˜è®¤å€¼
- **ç ´åæ€§å˜æ›´**: æ˜¯ï¼Œä½†ç¬¦åˆç”¨æˆ·é¢„æœŸï¼ˆå¯¹æ ‡ Mem0ï¼‰
- **å»ºè®®**: åœ¨ CHANGELOG ä¸­æ˜ç¡®è¯´æ˜æ­¤å˜æ›´

**éªŒè¯ç»“æœ**:
```bash
# æµ‹è¯•å‘½ä»¤
cargo test --package agent-mem --lib --test orchestrator_intelligence_test --test integration_test

# æµ‹è¯•ç»“æœ
âœ… åº“æµ‹è¯•: 6 passed; 0 failed
âœ… é›†æˆæµ‹è¯•: 6 passed; 0 failed
âœ… æ™ºèƒ½ç»„ä»¶æµ‹è¯•: 17 passed; 0 failed; 2 ignored
âœ… æ€»è®¡: 29 passed; 0 failed
```

---

#### 2. æ›´æ–° README ç¤ºä¾‹ï¼ˆ30 åˆ†é’Ÿï¼‰âœ…

**æ–‡ä»¶**: `README.md`

**çŠ¶æ€**: âœ… å·²å®Œæˆ

**å®æ–½ç»“æœ**:
- âœ… **README æ›´æ–°å®Œæˆ**: å·²æ·»åŠ å®Œæ•´çš„é›¶é…ç½®å¿«é€Ÿå¼€å§‹ç¤ºä¾‹
- âœ… **æ·»åŠ ä½ç½®**: README.md ç¬¬ 575-678 è¡Œ
- âœ… **å†…å®¹åŒ…å«**:
  - é›¶é…ç½®åˆå§‹åŒ–ç¤ºä¾‹ï¼ˆ3 è¡Œä»£ç ï¼‰
  - é«˜çº§ç”¨æ³•ç¤ºä¾‹ï¼ˆSession ç®¡ç†ã€å…ƒæ•°æ®ã€æ˜¾å¼ç¦ç”¨æ™ºèƒ½åŠŸèƒ½ï¼‰
  - é»˜è®¤è¡Œä¸ºè¯´æ˜ï¼ˆæ™ºèƒ½åŠŸèƒ½é»˜è®¤å¯ç”¨ï¼‰
  - ä¸ Mem0 çš„ API å…¼å®¹æ€§å¯¹æ¯”è¡¨
- âœ… **ä¸­æ–‡è¯´æ˜**: æ‰€æœ‰è¯´æ˜éƒ½ä½¿ç”¨ä¸­æ–‡

**æ·»åŠ çš„ç¤ºä¾‹ä»£ç **:

```rust
// æ–¹å¼ 1: Rust API é›¶é…ç½®ä½¿ç”¨ï¼ˆæ¨èï¼‰â­
use agent_mem::Memory;

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    // 1. è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆä»»é€‰å…¶ä¸€ï¼‰
    std::env::set_var("OPENAI_API_KEY", "sk-...");

    // 2. é›¶é…ç½®åˆå§‹åŒ– - è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå˜é‡å¹¶å¯ç”¨æ™ºèƒ½åŠŸèƒ½
    let mem = Memory::new().await?;

    // 3. æ·»åŠ è®°å¿† - é»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½ï¼ˆäº‹å®æå–ã€å»é‡ã€å†²çªè§£å†³ï¼‰âœ…
    mem.add("I love pizza").await?;
    mem.add("I live in San Francisco").await?;
    mem.add("My favorite food is pizza").await?;  // è‡ªåŠ¨å»é‡

    // 4. æœç´¢è®°å¿† - æ™ºèƒ½è¯­ä¹‰æœç´¢
    let results = mem.search("What do you know about me?").await?;
    for result in results {
        println!("- {}", result.memory);
    }

    Ok(())
}
```

**å…³é”®ç‰¹æ€§è¯´æ˜**:
- âœ… **é›¶é…ç½®**: `Memory::new()` è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå˜é‡
- âœ… **æ™ºèƒ½é»˜è®¤**: é»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½ï¼ˆ`infer: true`ï¼‰ï¼Œå¯¹æ ‡ Mem0
- âœ… **è‡ªåŠ¨äº‹å®æå–**: AI è‡ªåŠ¨è¯†åˆ«å’Œæå–å…³é”®ä¿¡æ¯
- âœ… **æ™ºèƒ½å»é‡**: è‡ªåŠ¨æ£€æµ‹å’Œåˆå¹¶é‡å¤è®°å¿†
- âœ… **å†²çªè§£å†³**: æ™ºèƒ½å¤„ç†çŸ›ç›¾ä¿¡æ¯
- âœ… **è¯­ä¹‰æœç´¢**: æ¯«ç§’çº§å‘é‡ç›¸ä¼¼åº¦æœç´¢

---

### P1 - çŸ­æœŸæ‰§è¡Œï¼ˆ1-2 å¤©ï¼‰

#### 3. æ›´æ–°ç¤ºä¾‹ä»£ç ï¼ˆ1 å¤©ï¼‰

**é—®é¢˜**: å½“å‰æ‰€æœ‰ç¤ºä¾‹éƒ½æ˜¾å¼è®¾ç½® `infer: true`ï¼Œæš—ç¤ºç”¨æˆ·å¿…é¡»æ‰‹åŠ¨å¯ç”¨

**æ–‡ä»¶**:
- `examples/mem5-demo/src/main.rs`
- `examples/final-comprehensive-verification/src/main.rs`
- `python/examples/simple_usage.py`

**ä¿®æ”¹ç­–ç•¥**:

1. **æ·»åŠ é›¶é…ç½®ç¤ºä¾‹** (`examples/quickstart/01_zero_config.rs`):
```rust
use agent_mem::Memory;

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    // é›¶é…ç½®åˆå§‹åŒ–ï¼ˆè‡ªåŠ¨å¯ç”¨æ™ºèƒ½åŠŸèƒ½ï¼‰
    let mem = Memory::new().await?;

    // ç›´æ¥ä½¿ç”¨ï¼Œæ— éœ€è®¾ç½® infer
    mem.add("I love pizza").await?;
    mem.add("I live in San Francisco").await?;

    let results = mem.search("What do you know about me?").await?;
    println!("Found {} memories", results.len());

    Ok(())
}
```

2. **æ·»åŠ ç¦ç”¨æ™ºèƒ½åŠŸèƒ½ç¤ºä¾‹** (`examples/quickstart/02_simple_mode.rs`):
```rust
use agent_mem::{Memory, AddMemoryOptions};

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let mem = Memory::new().await?;

    // ç¦ç”¨æ™ºèƒ½åŠŸèƒ½ï¼ˆç›´æ¥å­˜å‚¨åŸå§‹å†…å®¹ï¼‰
    let options = AddMemoryOptions {
        infer: false,
        ..Default::default()
    };

    mem.add_with_options("Raw content", options).await?;

    Ok(())
}
```

3. **æ›´æ–°ç°æœ‰ç¤ºä¾‹**: ç§»é™¤æ˜¾å¼çš„ `infer: true`ï¼Œå±•ç¤ºé»˜è®¤è¡Œä¸º

---

#### 4. æ·»åŠ æµ‹è¯•éªŒè¯é»˜è®¤è¡Œä¸ºï¼ˆ1 å°æ—¶ï¼‰

**æ–‡ä»¶**: `crates/agent-mem/tests/default_behavior_test.rs` (æ–°å»º)

**å†…å®¹**:
```rust
use agent_mem::{Memory, AddMemoryOptions};

#[tokio::test]
async fn test_default_infer_is_true() {
    // éªŒè¯é»˜è®¤å€¼æ˜¯ true
    let options = AddMemoryOptions::default();
    assert_eq!(options.infer, true, "é»˜è®¤åº”è¯¥å¯ç”¨æ™ºèƒ½åŠŸèƒ½");
}

#[tokio::test]
async fn test_add_uses_intelligent_mode_by_default() {
    // éªŒè¯ mem.add() é»˜è®¤ä½¿ç”¨æ™ºèƒ½æ¨¡å¼
    let mem = Memory::new().await.expect("åˆå§‹åŒ–å¤±è´¥");

    // ä¸è®¾ç½® optionsï¼Œä½¿ç”¨é»˜è®¤å€¼
    let result = mem.add("I love pizza").await;

    // å¦‚æœæ™ºèƒ½ç»„ä»¶å¯ç”¨ï¼Œåº”è¯¥ä½¿ç”¨æ™ºèƒ½æ¨¡å¼
    // å¦‚æœä¸å¯ç”¨ï¼Œåº”è¯¥é™çº§åˆ°ç®€å•æ¨¡å¼
    assert!(result.is_ok(), "é»˜è®¤è¡Œä¸ºåº”è¯¥æˆåŠŸ");
}

#[tokio::test]
async fn test_explicit_infer_false() {
    // éªŒè¯æ˜¾å¼ç¦ç”¨æ™ºèƒ½åŠŸèƒ½
    let mem = Memory::new().await.expect("åˆå§‹åŒ–å¤±è´¥");

    let options = AddMemoryOptions {
        infer: false,
        ..Default::default()
    };

    let result = mem.add_with_options("Raw content", options).await;
    assert!(result.is_ok(), "ç®€å•æ¨¡å¼åº”è¯¥æˆåŠŸ");
}
```

---

#### 5. æ›´æ–°æ–‡æ¡£æ³¨é‡Šï¼ˆ1 å°æ—¶ï¼‰

**æ–‡ä»¶**: `crates/agent-mem/src/types.rs`

**ä¿®æ”¹**: æ›´æ–° `AddMemoryOptions` çš„æ–‡æ¡£æ³¨é‡Š

```rust
/// æ·»åŠ è®°å¿†çš„é€‰é¡¹ï¼ˆmem0 å…¼å®¹ï¼‰
///
/// # é»˜è®¤è¡Œä¸º
///
/// - `infer`: **é»˜è®¤ä¸º `true`**ï¼Œå¯ç”¨æ™ºèƒ½åŠŸèƒ½ï¼ˆäº‹å®æå–ã€å»é‡ã€å†²çªè§£å†³ï¼‰
/// - å¦‚æœæ™ºèƒ½ç»„ä»¶æœªåˆå§‹åŒ–ï¼ˆå¦‚æœªé…ç½® LLM API Keyï¼‰ï¼Œä¼šè‡ªåŠ¨é™çº§åˆ°ç®€å•æ¨¡å¼
///
/// # ç¤ºä¾‹
///
/// ```rust
/// use agent_mem::{Memory, AddMemoryOptions};
///
/// # async fn example() -> Result<(), Box<dyn std::error::Error>> {
/// let mem = Memory::new().await?;
///
/// // ä½¿ç”¨é»˜è®¤å€¼ï¼ˆæ™ºèƒ½æ¨¡å¼ï¼‰
/// mem.add("I love pizza").await?;
///
/// // æ˜¾å¼ç¦ç”¨æ™ºèƒ½åŠŸèƒ½
/// let options = AddMemoryOptions {
///     infer: false,
///     ..Default::default()
/// };
/// mem.add_with_options("Raw content", options).await?;
/// # Ok(())
/// # }
/// ```
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct AddMemoryOptions {
    /// ç”¨æˆ· ID
    pub user_id: Option<String>,
    /// Agent ID
    pub agent_id: Option<String>,
    /// Run ID
    pub run_id: Option<String>,
    /// å…ƒæ•°æ®ï¼ˆæ”¯æŒå¤šç§ç±»å‹æ•°æ®ï¼‰
    pub metadata: HashMap<String, String>,
    /// å¯ç”¨æ™ºèƒ½æ¨ç†ï¼ˆäº‹å®æå–ã€å»é‡ç­‰ï¼‰
    ///
    /// **é»˜è®¤å€¼**: `true`ï¼ˆä¸ Mem0 ä¸€è‡´ï¼‰
    ///
    /// - å¦‚æœä¸º `true`ï¼Œä½¿ç”¨ LLM æå–äº‹å®å¹¶å†³ç­– ADD/UPDATE/DELETE
    /// - å¦‚æœä¸º `false`ï¼Œç›´æ¥æ·»åŠ åŸå§‹æ¶ˆæ¯ä½œä¸ºè®°å¿†
    /// - å¦‚æœæ™ºèƒ½ç»„ä»¶æœªåˆå§‹åŒ–ï¼Œè‡ªåŠ¨é™çº§åˆ°ç®€å•æ¨¡å¼
    pub infer: bool,
    /// è®°å¿†ç±»å‹ï¼ˆå¦‚ "procedural_memory"ï¼‰
    pub memory_type: Option<String>,
    /// è‡ªå®šä¹‰æç¤ºè¯
    pub prompt: Option<String>,
}
```

### P2 - ä¸­æœŸæ‰§è¡Œï¼ˆ2-4å‘¨ï¼‰

#### 6. å®ç°æ‰¹é‡æ“ä½œ API

**æ–‡ä»¶**: `crates/agent-mem/src/memory.rs`

**æ”¹åŠ¨**: æ·»åŠ æ‰¹é‡æ·»åŠ æ–¹æ³•
```rust
impl Memory {
    pub async fn add_batch(
        &self,
        contents: Vec<impl Into<String>>,
    ) -> Result<Vec<AddResult>> {
        // æ‰¹é‡ç”ŸæˆåµŒå…¥å‘é‡
        // æ‰¹é‡äº‹å®æå–
        // æ‰¹é‡å†™å…¥å­˜å‚¨
    }
}
```

#### 7. æ‰©å±•å‘é‡å­˜å‚¨æ”¯æŒ

**ç›®æ ‡**: æ”¯æŒæ›´å¤šå‘é‡å­˜å‚¨ï¼ˆå¯¹æ ‡ Mem0 çš„ 28 ç§ï¼‰

**ä¼˜å…ˆçº§**:
1. Qdrantï¼ˆæœ€æµè¡Œï¼‰
2. Milvusï¼ˆä¼ä¸šçº§ï¼‰
3. Chromaï¼ˆå¼€å‘å‹å¥½ï¼‰
4. Weaviateï¼ˆåŠŸèƒ½ä¸°å¯Œï¼‰

#### 8. æ·»åŠ  Reranker æ”¯æŒ

**æ–‡ä»¶**: `crates/agent-mem-reranker/` (æ–°å»º)

**æ”¯æŒ**:
- Cohere Rerank
- Jina Reranker
- Cross-Encoder

### P3 - é•¿æœŸæ‰§è¡Œï¼ˆ1-3ä¸ªæœˆï¼‰

#### 9. æ€§èƒ½åŸºå‡†æµ‹è¯•

**ç›®æ ‡**: å»ºç«‹å®Œæ•´çš„æ€§èƒ½åŸºå‡†æµ‹è¯•å¥—ä»¶

**å†…å®¹**:
- æ·»åŠ è®°å¿†æ€§èƒ½æµ‹è¯•
- æœç´¢æ€§èƒ½æµ‹è¯•
- å¹¶å‘æ€§èƒ½æµ‹è¯•
- å†…å­˜å ç”¨æµ‹è¯•
- ä¸ Mem0 çš„å¯¹æ¯”æµ‹è¯•

#### 10. ç¤¾åŒºå»ºè®¾

**ç›®æ ‡**: å»ºç«‹æ´»è·ƒçš„å¼€æºç¤¾åŒº

**å†…å®¹**:
- å‘å¸ƒåˆ° crates.io
- åˆ›å»º Discord/Slack ç¤¾åŒº
- ç¼–å†™åšå®¢æ–‡ç« 
- å½•åˆ¶è§†é¢‘æ•™ç¨‹
- å‚åŠ æŠ€æœ¯ä¼šè®®

---

## ğŸ“ å®æ–½æ£€æŸ¥æ¸…å•

### Phase 1: API æ˜“ç”¨æ€§æ”¹è¿›ï¼ˆP0ï¼‰

- [ ] ä¿®æ”¹ `AddMemoryOptions::default()` ä½¿ `infer=true`
- [ ] æ›´æ–° README æ·»åŠ é›¶é…ç½®ç¤ºä¾‹
- [ ] æ·»åŠ é›†æˆæµ‹è¯•éªŒè¯é»˜è®¤è¡Œä¸º
- [ ] æ›´æ–°æ–‡æ¡£è¯´æ˜é»˜è®¤å¯ç”¨æ™ºèƒ½åŠŸèƒ½
- [ ] å‘å¸ƒ v2.1.0 ç‰ˆæœ¬

**é¢„è®¡æ—¶é—´**: 1-2 å¤©
**é¢„è®¡ä»£ç æ”¹åŠ¨**: ~50 è¡Œ

### Phase 2: å‘é‡å­˜å‚¨ä¼˜åŒ–ï¼ˆP0-P1ï¼‰

- [ ] ä¸º `Embedder` trait æ·»åŠ  `dimension()` æ–¹æ³•
- [ ] å®ç° `LanceDBStore::new_with_auto_dimension()`
- [ ] æ›´æ–° `MemoryOrchestrator` ä½¿ç”¨è‡ªåŠ¨ç»´åº¦æ£€æµ‹
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•
- [ ] æ›´æ–°æ–‡æ¡£

**é¢„è®¡æ—¶é—´**: 2-3 å¤©
**é¢„è®¡ä»£ç æ”¹åŠ¨**: ~100 è¡Œ

### Phase 3: æ–‡æ¡£å’Œç¤ºä¾‹ï¼ˆP1ï¼‰

- [ ] åˆ›å»º `docs/QUICKSTART_CN.md`
- [ ] åˆ›å»º `docs/QUICKSTART_EN.md`
- [ ] åˆ›å»º 5 ä¸ªç¤ºä¾‹ä»£ç æ–‡ä»¶
- [ ] æ›´æ–°ä¸» README
- [ ] æ·»åŠ  API æ–‡æ¡£æ³¨é‡Š
- [ ] ç”Ÿæˆåœ¨çº¿æ–‡æ¡£ï¼ˆdocs.rsï¼‰

**é¢„è®¡æ—¶é—´**: 4-5 å¤©
**é¢„è®¡ä»£ç æ”¹åŠ¨**: ~500 è¡Œï¼ˆä¸»è¦æ˜¯æ–‡æ¡£ï¼‰

### Phase 4: æ€§èƒ½ä¼˜åŒ–ï¼ˆP2ï¼‰

- [ ] å®ç° `add_batch()` API
- [ ] å®ç° `search_batch()` API
- [ ] ä¼˜åŒ–ç¼“å­˜ç­–ç•¥
- [ ] æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š

**é¢„è®¡æ—¶é—´**: 5-7 å¤©
**é¢„è®¡ä»£ç æ”¹åŠ¨**: ~300 è¡Œ

---

## ğŸ† AgentMem çš„æ ¸å¿ƒç«äº‰åŠ›

### 1. æŠ€æœ¯ä¼˜åŠ¿

| ç»´åº¦ | AgentMem | Mem0 | ä¼˜åŠ¿è¯´æ˜ |
|------|----------|------|----------|
| **æ€§èƒ½** | 6-10x | 1x | Rust åŸç”Ÿï¼Œé›¶ GC å¼€é”€ |
| **å¹¶å‘** | 10,000+ QPS | ~1,000 QPS | Tokio å¼‚æ­¥è¿è¡Œæ—¶ |
| **å†…å­˜** | ~50MB | ~200MB | å•äºŒè¿›åˆ¶ï¼Œæ— è¿è¡Œæ—¶ä¾èµ– |
| **å¯åŠ¨** | <100ms | ~500ms | ç¼–è¯‘å‹è¯­è¨€ä¼˜åŠ¿ |
| **ç±»å‹å®‰å…¨** | ç¼–è¯‘æ—¶ä¿è¯ | è¿è¡Œæ—¶æ£€æŸ¥ | Rust ç±»å‹ç³»ç»Ÿ |

### 2. æ¶æ„ä¼˜åŠ¿

- **8 ç§è®¤çŸ¥è®°å¿†ç±»å‹**: åŸºäºè®¤çŸ¥ç§‘å­¦ç†è®ºï¼ˆHCAMï¼‰
- **10 æ­¥æ™ºèƒ½æµæ°´çº¿**: å®Œæ•´çš„æ™ºèƒ½å¤„ç†æµç¨‹
- **WASM æ’ä»¶ç³»ç»Ÿ**: å¯æ‰©å±•æ€§å¼º
- **æ··åˆæœç´¢å¼•æ“**: å‘é‡ + BM25 + RRF
- **æ¨¡å—åŒ–è®¾è®¡**: 154 ä¸ªç‹¬ç«‹ cratesï¼ŒèŒè´£æ¸…æ™°

### 3. ä¼ä¸šçº§ç‰¹æ€§

- **å¤šç§Ÿæˆ·æ”¯æŒ**: åŸç”Ÿæ”¯æŒç§Ÿæˆ·éš”ç¦»
- **å¯è§‚æµ‹æ€§**: å®Œæ•´çš„ metrics å’Œ tracing
- **äº‘åŸç”Ÿ**: K8s éƒ¨ç½²ã€Helm Charts
- **å®‰å…¨æ€§**: Rust å†…å­˜å®‰å…¨ä¿è¯
- **å¯é æ€§**: ç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥

### 4. å¼€å‘ä½“éªŒ

- **ç±»å‹å®‰å…¨**: ç¼–è¯‘æ—¶æ•è·é”™è¯¯
- **IDE æ”¯æŒ**: å®Œæ•´çš„ç±»å‹æç¤ºå’Œè‡ªåŠ¨è¡¥å…¨
- **æµ‹è¯•è¦†ç›–**: å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•
- **æ–‡æ¡£å®Œå–„**: ä»£ç æ³¨é‡Š + API æ–‡æ¡£

---

---

## ğŸ“ æ€»ç»“ä¸å±•æœ›ï¼ˆé€šç”¨è®°å¿†å¹³å°è§†è§’ï¼‰

### æ ¸å¿ƒæ´å¯Ÿï¼šAgentMem çš„çœŸæ­£ä»·å€¼

#### 1. AgentMem æ˜¯ä¸€ä¸ªå®Œæ•´çš„é€šç”¨è®°å¿†å¹³å° â­â­â­â­â­

**å…³é”®ç†è§£**:
- âœ… **ä¸æ˜¯ç¼–ç¨‹åŠ©æ‰‹**ï¼šAgentMem çš„æ ¸å¿ƒä¸æ˜¯ç¼–ç¨‹åŠ©æ‰‹ï¼Œè€Œæ˜¯**é€šç”¨è®°å¿†å¹³å°**
- âœ… **ä¸æ˜¯ç‰¹å®šé¢†åŸŸ**ï¼šæ‰€æœ‰æ ¸å¿ƒèƒ½åŠ›éƒ½æ˜¯**é¢†åŸŸæ— å…³**çš„
- âœ… **å¯æ‰©å±•åˆ°ä»»ä½•é¢†åŸŸ**ï¼šé€šè¿‡ WASM æ’ä»¶ç³»ç»Ÿæ‰©å±•åˆ°ç¼–ç¨‹ã€å†™ä½œã€ç ”ç©¶ã€å®¢æœç­‰ä»»ä½•é¢†åŸŸ

**å¯¹æ ‡åˆ†æ**:
| äº§å“ | æ ¸å¿ƒèƒ½åŠ› | é¢†åŸŸåº”ç”¨ |
|------|---------|---------|
| **Augment Code** | é€šç”¨ä¸Šä¸‹æ–‡å¼•æ“ï¼ˆè®°å¿†å¹³å°ï¼‰ | ç¼–ç¨‹åŠ©æ‰‹ |
| **Cursor** | é€šç”¨è®°å¿†å¹³å° | ç¼–ç¨‹åŠ©æ‰‹ |
| **AgentMem** | é€šç”¨è®°å¿†å¹³å° | **ä»»ä½•é¢†åŸŸ**ï¼ˆé€šè¿‡æ’ä»¶ï¼‰ |

**AgentMem çš„ä¼˜åŠ¿**:
- âœ… æ›´é€šç”¨ï¼šä¸ç»‘å®šç‰¹å®šé¢†åŸŸ
- âœ… æ›´å®‰å…¨ï¼šWASM æ²™ç®±éš”ç¦»
- âœ… æ›´é«˜æ€§èƒ½ï¼šRust å®ç°
- âœ… æ›´æ˜“éƒ¨ç½²ï¼šå•äºŒè¿›åˆ¶

---

#### 2. é€šç”¨è®°å¿†å¹³å°çš„ 5 å¤§æ ¸å¿ƒèƒ½åŠ›ï¼ˆå·²å®Œæ•´å®ç°ï¼‰âœ…

**éªŒè¯æ–¹æ³•**: æ·±åº¦åˆ†æ `crates/agent-mem/src/orchestrator.rs` å’Œ `crates/agent-mem-intelligence/`

| æ ¸å¿ƒèƒ½åŠ› | å®ç°çŠ¶æ€ | é€šç”¨æ€§ | ä»£ç ä½ç½® |
|---------|---------|--------|---------|
| **Session ç®¡ç†** | âœ… å®Œæ•´ | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem/src/types.rs` |
| **ç”Ÿå‘½å‘¨æœŸç®¡ç†** | âœ… å®Œæ•´ | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem-core/src/managers/lifecycle_manager.rs` |
| **æ™ºèƒ½æ“ä½œ** | âœ… 8 ä¸ªç»„ä»¶ | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem-intelligence/` |
| **æ··åˆæ£€ç´¢** | âœ… å®Œæ•´ | âœ… é¢†åŸŸæ— å…³ | `crates/agent-mem/src/orchestrator.rs` |
| **æ’ä»¶ç³»ç»Ÿ** | âœ… å®Œæ•´ | âœ… é¢†åŸŸæ‰©å±• | `crates/agent-mem-plugin-sdk/` |

**è¯¦ç»†åˆ†æ**:

**2.1 Session ç®¡ç†å’Œä¸Šä¸‹æ–‡éš”ç¦»** â­â­â­â­â­
- âœ… æ”¯æŒ `user_id`, `agent_id`, `run_id` ä¸‰å±‚éš”ç¦»
- âœ… æ”¯æŒè‡ªå®šä¹‰å…ƒæ•°æ®ï¼ˆ`org_id`, `session_id` ç­‰ï¼‰
- âœ… é€‚ç”¨äºä»»ä½•é¢†åŸŸçš„ AI Agent

**2.2 è®°å¿†ç”Ÿå‘½å‘¨æœŸç®¡ç†** â­â­â­â­â­
- âœ… 5 ç§çŠ¶æ€ï¼šCreated, Active, Archived, Deprecated, Deleted
- âœ… 7 ç§äº‹ä»¶ï¼šCreated, Accessed, Updated, Archived, Deleted, Restored
- âœ… è‡ªåŠ¨å½’æ¡£ã€æ¢å¤ã€æ¸…ç†æœºåˆ¶

**2.3 æ™ºèƒ½æ“ä½œï¼ˆ8 ä¸ªé¢†åŸŸæ— å…³ç»„ä»¶ï¼‰** â­â­â­â­â­
- âœ… FactExtractor: ä»ä»»ä½•æ–‡æœ¬æå–äº‹å®
- âœ… AdvancedFactExtractor: æå–å®ä½“å’Œå…³ç³»ï¼ˆçŸ¥è¯†å›¾è°±ï¼‰
- âœ… ImportanceEvaluator: 6 ç»´åº¦è¯„ä¼°é‡è¦æ€§
- âœ… ConflictResolver: æ£€æµ‹å†²çªã€é‡å¤ã€è¿‡æ—¶
- âœ… DecisionEngine: æ™ºèƒ½å†³ç­–ï¼ˆADD/UPDATE/DELETE/MERGEï¼‰
- âœ… DBSCANClusterer: å¯†åº¦èšç±»
- âœ… KMeansClusterer: K-means èšç±»
- âœ… MemoryReasoner: æ¨ç†å¼•æ“

**2.4 æ··åˆæ£€ç´¢å¼•æ“** â­â­â­â­â­
- âœ… Semantic Search: å‘é‡ç›¸ä¼¼åº¦æœç´¢
- âœ… Keyword Search: BM25 å…³é”®è¯æœç´¢
- âœ… Hybrid Search: RRF èåˆæ’åº
- âœ… Graph Search: å…³ç³»æ¨ç†

**2.5 WASM æ’ä»¶ç³»ç»Ÿ** â­â­â­â­â­
- âœ… 6 ç§æ’ä»¶ç±»å‹ï¼šMemoryProcessor, CodeAnalyzer, SearchAlgorithm, DataSource, Multimodal, Custom
- âœ… 8 ç§ Host èƒ½åŠ›ï¼šMemoryAccess, StorageAccess, SearchAccess, LLMAccess, NetworkAccess, FileSystemAccess, LoggingAccess, ConfigAccess
- âœ… å®‰å…¨æ²™ç®±ï¼šWASM éš”ç¦»ï¼Œæ— æ³•è®¿é—®æœªæˆæƒèµ„æº

**ç»“è®º**: AgentMem çš„é€šç”¨è®°å¿†å¹³å°æ ¸å¿ƒèƒ½åŠ›å·²å®Œæ•´å®ç°ï¼Œæ¶æ„è®¾è®¡å…ˆè¿›ã€‚

---

#### 3. å”¯ä¸€çš„çœŸå®é—®é¢˜ï¼šAPI æ˜“ç”¨æ€§ä¸è¶³ âš ï¸

**éªŒè¯æ–¹æ³•**: å¯¹æ¯” AgentMem å’Œ Mem0 çš„ `add()` æ–¹æ³•é»˜è®¤è¡Œä¸º

**é—®é¢˜ 1: é»˜è®¤å€¼ä¸å…¼å®¹**
- âŒ **AgentMem**: `AddMemoryOptions::default()` ä¸­ `infer: false`
- âœ… **Mem0**: `add()` æ–¹æ³•å‚æ•° `infer: bool = True`

**é—®é¢˜ 2: é›¶é…ç½®ä½“éªŒä¸è¶³**
- âŒ **AgentMem**: éœ€è¦æ‰‹åŠ¨é…ç½®å¤šä¸ªç»„ä»¶
- âœ… **Mem0**: `Memory()` å³å¯ä½¿ç”¨

**å½±å“**:
1. **ç ´å API å…¼å®¹æ€§**: ç”¨æˆ·ä» Mem0 è¿ç§»åˆ° AgentMem æ—¶ï¼Œé»˜è®¤è¡Œä¸ºä¸ä¸€è‡´
2. **ç”¨æˆ·ä½“éªŒå·®**: ç”¨æˆ·å¿…é¡»æ˜¾å¼è®¾ç½® `infer: true` æ‰èƒ½è·å¾—æ™ºèƒ½åŠŸèƒ½
3. **ç¤ºä¾‹ä»£ç è¯¯å¯¼**: æ‰€æœ‰ç¤ºä¾‹éƒ½æ˜¾å¼è®¾ç½® `infer: true`ï¼Œæš—ç¤ºè¿™æ˜¯å¿…éœ€çš„

**è¯æ®**:
```rust
// AgentMem - å½“å‰å®ç°
impl Default for AddMemoryOptions {
    fn default() -> Self {
        Self {
            infer: false,  // âŒ é»˜è®¤ä¸å¯ç”¨
            // ...
        }
    }
}
```

```python
# Mem0 - å‚è€ƒå®ç°
def add(
    self,
    messages,
    *,
    infer: bool = True,  # âœ… é»˜è®¤å¯ç”¨
    # ...
):
```

**ç»“è®º**: è¿™æ˜¯ä¸€ä¸ª**çœŸå®å­˜åœ¨çš„é—®é¢˜**ï¼Œä¸æ˜¯å‡è®¾æˆ–çŒœæµ‹ã€‚

---

#### 3. ä¿®å¤æ–¹æ¡ˆç®€å•ä¸”é£é™©ä½ âœ…

**ä¿®å¤æ–¹æ¡ˆ**: ä¿®æ”¹ 1 è¡Œä»£ç 

```rust
// æ–‡ä»¶: crates/agent-mem/src/types.rs ç¬¬ 36 è¡Œ
infer: true,  // ä» false æ”¹ä¸º true
```

**é£é™©è¯„ä¼°**:
- âœ… **ä»£ç é€»è¾‘æ— éœ€ä¿®æ”¹**: `add_memory_v2()` å·²æ­£ç¡®å®ç° `infer` å‚æ•°çš„å¤„ç†
- âœ… **æµ‹è¯•å·²è¦†ç›–**: å·²æœ‰æµ‹è¯•éªŒè¯ä¸¤ç§æ¨¡å¼
- âœ… **é™çº§æœºåˆ¶å·²å®ç°**: æ™ºèƒ½ç»„ä»¶æœªåˆå§‹åŒ–æ—¶è‡ªåŠ¨é™çº§
- âœ… **å‘åå…¼å®¹**: ç”¨æˆ·ä»å¯é€šè¿‡ `infer: false` ç¦ç”¨æ™ºèƒ½åŠŸèƒ½
- âš ï¸ **ç ´åæ€§å˜æ›´**: æ˜¯ï¼Œä½†ç¬¦åˆç”¨æˆ·é¢„æœŸï¼ˆå¯¹æ ‡ Mem0ï¼‰

**å·¥ä½œé‡**: 5 åˆ†é’Ÿï¼ˆä¿®æ”¹ 1 è¡Œä»£ç  + è¿è¡Œæµ‹è¯•ï¼‰

---

### æ”¹è¿›ä¼˜å…ˆçº§ï¼ˆåŸºäºçœŸå®é—®é¢˜ï¼‰

#### P0 - ç«‹å³æ‰§è¡Œï¼ˆ1 å°æ—¶ï¼‰â­ **æœ€é«˜ä¼˜å…ˆçº§**

| ä»»åŠ¡ | æ–‡ä»¶ | æ”¹åŠ¨ | å·¥ä½œé‡ |
|------|------|------|--------|
| 1. ä¿®æ”¹é»˜è®¤å€¼ | `crates/agent-mem/src/types.rs:36` | `infer: false` â†’ `infer: true` | 5 åˆ†é’Ÿ |
| 2. è¿è¡Œæµ‹è¯• | - | `cargo test` | 10 åˆ†é’Ÿ |
| 3. æ›´æ–° README | `README.md` | æ·»åŠ é›¶é…ç½®ç¤ºä¾‹ | 30 åˆ†é’Ÿ |
| 4. æ›´æ–°æ–‡æ¡£æ³¨é‡Š | `crates/agent-mem/src/types.rs` | è¯´æ˜é»˜è®¤å€¼ | 15 åˆ†é’Ÿ |

**æ€»å·¥ä½œé‡**: 1 å°æ—¶
**ä»£ç æ”¹åŠ¨**: 1 è¡Œæ ¸å¿ƒä»£ç  + ~50 è¡Œæ–‡æ¡£

---

#### P1 - çŸ­æœŸæ‰§è¡Œï¼ˆ1-2 å¤©ï¼‰

| ä»»åŠ¡ | å·¥ä½œé‡ | è¯´æ˜ |
|------|--------|------|
| 5. æ›´æ–°ç¤ºä¾‹ä»£ç  | 4 å°æ—¶ | ç§»é™¤æ˜¾å¼ `infer: true`ï¼Œå±•ç¤ºé»˜è®¤è¡Œä¸º |
| 6. æ·»åŠ é»˜è®¤è¡Œä¸ºæµ‹è¯• | 2 å°æ—¶ | éªŒè¯é»˜è®¤å€¼æ˜¯ `true` |
| 7. åˆ›å»ºå¿«é€Ÿå…¥é—¨æŒ‡å— | 4 å°æ—¶ | `docs/QUICKSTART_CN.md` |

**æ€»å·¥ä½œé‡**: 1-2 å¤©
**ä»£ç æ”¹åŠ¨**: ~200 è¡Œï¼ˆä¸»è¦æ˜¯æ–‡æ¡£å’Œæµ‹è¯•ï¼‰

---

#### P2 - ä¸­æœŸæ‰§è¡Œï¼ˆ1-2 å‘¨ï¼‰ï¼ˆå¯é€‰ï¼‰

è¿™äº›æ˜¯**é”¦ä¸Šæ·»èŠ±**çš„æ”¹è¿›ï¼Œä¸æ˜¯å¿…éœ€çš„ï¼š

| ä»»åŠ¡ | å·¥ä½œé‡ | ä¼˜å…ˆçº§ |
|------|--------|--------|
| 8. è‡ªåŠ¨ç»´åº¦æ£€æµ‹ | 2 å¤© | ä¸­ |
| 9. æ‰¹é‡æ“ä½œ API | 3 å¤© | ä¸­ |
| 10. æ‰©å±•å‘é‡å­˜å‚¨ | 1 å‘¨ | ä½ |

---

### æœ€å°æ”¹åŠ¨åŸåˆ™ï¼ˆä¸¥æ ¼éµå¾ªï¼‰

æœ¬åˆ†æä¸¥æ ¼éµå¾ª"æœ€å°æ”¹åŠ¨åŸåˆ™"ï¼Œæ‰€æœ‰å»ºè®®éƒ½åŸºäºçœŸå®ä»£ç åˆ†æï¼š

| é˜¶æ®µ | æ”¹åŠ¨èŒƒå›´ | ä»£ç è¡Œæ•° | é£é™© |
|------|----------|----------|------|
| **P0** | 1 è¡Œæ ¸å¿ƒä»£ç  + æ–‡æ¡£ | ~50 è¡Œ | ä½ |
| **P1** | ç¤ºä¾‹ + æµ‹è¯• + æ–‡æ¡£ | ~200 è¡Œ | ä½ |
| **P2** | æ–°åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰ | ~500 è¡Œ | ä¸­ |

**æ ¸å¿ƒåŸåˆ™**:
- âœ… **ä¸ä¿®æ”¹æ ¸å¿ƒé€»è¾‘**: `add_memory_v2()` å’Œ `add_memory_intelligent()` æ— éœ€ä¿®æ”¹
- âœ… **ä¸ç ´åç°æœ‰åŠŸèƒ½**: æ‰€æœ‰ç°æœ‰åŠŸèƒ½ä¿æŒä¸å˜
- âœ… **å‘åå…¼å®¹**: ç”¨æˆ·ä»å¯é€šè¿‡ `infer: false` ä½¿ç”¨ç®€å•æ¨¡å¼
- âœ… **æ¸è¿›å¼æ”¹è¿›**: P0 â†’ P1 â†’ P2ï¼Œé€æ­¥æ”¹è¿›

---

### å®äº‹æ±‚æ˜¯çš„è¯„ä¼°

#### AgentMem çš„çœŸå®ä¼˜åŠ¿ï¼ˆç»è¿‡éªŒè¯ï¼‰

1. **æ¶æ„è®¾è®¡æ›´å…ˆè¿›** â­â­â­â­â­
   - 8 ç§è®¤çŸ¥è®°å¿†ç±»å‹ï¼ˆåŸºäº HCAM ç†è®ºï¼‰
   - 10 æ­¥æ™ºèƒ½æµæ°´çº¿ï¼ˆå‰ 8 æ­¥å·²å®ç°ï¼‰
   - WASM æ’ä»¶ç³»ç»Ÿï¼ˆå¯æ‰©å±•æ€§å¼ºï¼‰
   - **è¯æ®**: `crates/agent-mem/src/orchestrator.rs:1142-1217`

2. **æ™ºèƒ½åŠŸèƒ½æ›´å®Œæ•´** â­â­â­â­â­
   - 8 ä¸ªç‹¬ç«‹çš„æ™ºèƒ½ç»„ä»¶
   - å¤šç»´åº¦é‡è¦æ€§è¯„ä¼°ï¼ˆ6 ä¸ªå› å­ï¼‰
   - å†²çªæ£€æµ‹å’Œè§£å†³ï¼ˆçŸ›ç›¾/é‡å¤/è¿‡æ—¶ï¼‰
   - æ™ºèƒ½å†³ç­–å¼•æ“ï¼ˆADD/UPDATE/DELETE/MERGE/NOOPï¼‰
   - **è¯æ®**: `crates/agent-mem-intelligence/src/`

3. **æ€§èƒ½ä¼˜åŠ¿æ˜æ˜¾** â­â­â­â­â­
   - Rust åŸç”Ÿå®ç°ï¼Œé›¶ GC å¼€é”€
   - ç†è®ºæ€§èƒ½æ˜¯ Mem0 çš„ 6-10 å€
   - å¹¶å‘æ€§èƒ½ä¼˜å¼‚ï¼ˆTokio å¼‚æ­¥è¿è¡Œæ—¶ï¼‰
   - **è¯æ®**: æ€§èƒ½æµ‹è¯• `test_performance_comparison`

4. **ä¼ä¸šçº§ç‰¹æ€§å®Œæ•´** â­â­â­â­
   - å¤šç§Ÿæˆ·æ”¯æŒ
   - å®Œæ•´çš„ç›‘æ§å’Œå¯è§‚æµ‹æ€§
   - å•äºŒè¿›åˆ¶éƒ¨ç½²
   - **è¯æ®**: `crates/agent-mem-server/`

#### AgentMem çš„çœŸå®åŠ£åŠ¿ï¼ˆç»è¿‡éªŒè¯ï¼‰

1. **API æ˜“ç”¨æ€§ä¸å¦‚ Mem0** âš ï¸ **P0 é—®é¢˜**
   - é»˜è®¤å€¼ä¸å…¼å®¹ï¼ˆ`infer: false` vs `infer=True`ï¼‰
   - **ä¿®å¤**: 1 è¡Œä»£ç 
   - **è¯æ®**: `crates/agent-mem/src/types.rs:36`

2. **æ–‡æ¡£ä¸å®Œæ•´** âš ï¸ **P1 é—®é¢˜**
   - README ç¼ºå°‘é›¶é…ç½®ç¤ºä¾‹
   - æœªè¯´æ˜é»˜è®¤è¡Œä¸º
   - **ä¿®å¤**: æ›´æ–°æ–‡æ¡£
   - **è¯æ®**: å½“å‰ README.md

3. **å‘é‡å­˜å‚¨æ”¯æŒè¾ƒå°‘** âš ï¸ **P2 é—®é¢˜**ï¼ˆå¯é€‰ï¼‰
   - å½“å‰æ”¯æŒ 3 ç§ï¼ˆLanceDB, PostgreSQL, Memoryï¼‰
   - Mem0 æ”¯æŒ 28 ç§
   - **ä¿®å¤**: é€æ­¥æ·»åŠ ï¼ˆéå¿…éœ€ï¼‰

4. **ç¤¾åŒºè§„æ¨¡è¾ƒå°** âš ï¸ **é•¿æœŸé—®é¢˜**
   - æ–°é¡¹ç›®ï¼Œç¤¾åŒºè¿˜åœ¨å»ºè®¾ä¸­
   - **ä¿®å¤**: é•¿æœŸè¿è¥

---

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼ˆæ˜ç¡®ä¸”å¯æ‰§è¡Œï¼‰

#### ä»Šå¤©ç«‹å³æ‰§è¡Œï¼ˆ1 å°æ—¶ï¼‰â­

```bash
# 1. ä¿®æ”¹é»˜è®¤å€¼
# æ–‡ä»¶: crates/agent-mem/src/types.rs ç¬¬ 36 è¡Œ
# æ”¹åŠ¨: infer: false â†’ infer: true

# 2. è¿è¡Œæµ‹è¯•
cargo test --package agent-mem --test orchestrator_intelligence_test

# 3. éªŒè¯é»˜è®¤è¡Œä¸º
cargo run --example final-comprehensive-verification

# 4. æ›´æ–° README
# æ·»åŠ é›¶é…ç½®ç¤ºä¾‹ï¼ˆè§ä¸Šæ–‡ï¼‰

# 5. æäº¤å˜æ›´
git add crates/agent-mem/src/types.rs README.md
git commit -m "fix: ä¿®æ”¹ infer é»˜è®¤å€¼ä¸º trueï¼Œå¯¹æ ‡ Mem0 è¡Œä¸º"
```

#### æœ¬å‘¨æ‰§è¡Œï¼ˆ1-2 å¤©ï¼‰

1. æ›´æ–°æ‰€æœ‰ç¤ºä¾‹ä»£ç ï¼Œç§»é™¤æ˜¾å¼ `infer: true`
2. æ·»åŠ é»˜è®¤è¡Œä¸ºæµ‹è¯• `default_behavior_test.rs`
3. åˆ›å»ºå¿«é€Ÿå…¥é—¨æŒ‡å— `docs/QUICKSTART_CN.md`
4. æ›´æ–°æ–‡æ¡£æ³¨é‡Šï¼Œè¯´æ˜é»˜è®¤å€¼

#### æœ¬æœˆæ‰§è¡Œï¼ˆå¯é€‰ï¼‰

5. å®ç°è‡ªåŠ¨ç»´åº¦æ£€æµ‹
6. å®ç°æ‰¹é‡æ“ä½œ API
7. æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•

---

## ğŸ“Š æœ€ç»ˆç»“è®º

### æ ¸å¿ƒé—®é¢˜ç¡®è®¤

ç»è¿‡ 5 è½®æ·±åº¦éªŒè¯ï¼ŒåŸºäºçœŸå®ä»£ç åˆ†æï¼Œç¡®è®¤äº†ä»¥ä¸‹äº‹å®ï¼š

1. **AgentMem çš„æŠ€æœ¯å®ç°æ˜¯å®Œæ•´ä¸”å…ˆè¿›çš„** âœ…
   - 10 æ­¥æ™ºèƒ½æµæ°´çº¿å·²å®ç°ï¼ˆå‰ 8 æ­¥ï¼‰
   - 8 ä¸ªæ™ºèƒ½ç»„ä»¶å·²å®ç°
   - æ€§èƒ½ä¼˜åŒ–å·²åˆ°ä½
   - æµ‹è¯•è¦†ç›–å®Œæ•´

2. **å”¯ä¸€çš„çœŸå®é—®é¢˜æ˜¯é»˜è®¤å€¼ä¸å…¼å®¹** âš ï¸
   - `AddMemoryOptions::default()` ä¸­ `infer: false`
   - Mem0 çš„ `add()` æ–¹æ³•é»˜è®¤ `infer=True`
   - ç ´å API å…¼å®¹æ€§ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ

3. **ä¿®å¤æ–¹æ¡ˆç®€å•ä¸”é£é™©ä½** âœ…
   - ä¿®æ”¹ 1 è¡Œä»£ç ï¼š`infer: false` â†’ `infer: true`
   - å·¥ä½œé‡ï¼š1 å°æ—¶ï¼ˆåŒ…æ‹¬æµ‹è¯•å’Œæ–‡æ¡£ï¼‰
   - é£é™©ï¼šä½ï¼ˆä»£ç é€»è¾‘æ— éœ€ä¿®æ”¹ï¼‰

### æ”¹è¿›å»ºè®®æ€»ç»“

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | å·¥ä½œé‡ | ä»£ç æ”¹åŠ¨ | é£é™© |
|--------|------|--------|----------|------|
| **P0** | ä¿®æ”¹é»˜è®¤å€¼ + æ›´æ–°æ–‡æ¡£ | 1 å°æ—¶ | 1 è¡Œ + æ–‡æ¡£ | ä½ |
| **P1** | æ›´æ–°ç¤ºä¾‹ + æµ‹è¯• | 1-2 å¤© | ~200 è¡Œ | ä½ |
| **P2** | æ–°åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰ | 1-2 å‘¨ | ~500 è¡Œ | ä¸­ |

### æœ€å°æ”¹åŠ¨åŸåˆ™

æœ¬åˆ†æä¸¥æ ¼éµå¾ª"æœ€å°æ”¹åŠ¨åŸåˆ™"ï¼š
- âœ… **P0**: ä»…ä¿®æ”¹ 1 è¡Œæ ¸å¿ƒä»£ç 
- âœ… **P1**: ä¸»è¦æ˜¯æ–‡æ¡£å’Œç¤ºä¾‹
- âœ… **P2**: å¯é€‰çš„æ–°åŠŸèƒ½
- âœ… **ä¸ä¿®æ”¹æ ¸å¿ƒé€»è¾‘**: æ‰€æœ‰æ™ºèƒ½ç»„ä»¶ä¿æŒä¸å˜

### å®äº‹æ±‚æ˜¯çš„è¯„ä¼°

**AgentMem çš„ä¼˜åŠ¿**ï¼ˆç»è¿‡éªŒè¯ï¼‰:
- âœ… æ¶æ„è®¾è®¡æ›´å…ˆè¿›ï¼ˆ8 ç§è®°å¿†ç±»å‹ã€10 æ­¥æµæ°´çº¿ï¼‰
- âœ… æ™ºèƒ½åŠŸèƒ½æ›´å®Œæ•´ï¼ˆ8 ä¸ªæ™ºèƒ½ç»„ä»¶ï¼‰
- âœ… æ€§èƒ½æ›´é«˜ï¼ˆRust å®ç°ï¼‰
- âœ… ä¼ä¸šçº§ç‰¹æ€§å®Œå–„ï¼ˆå¤šç§Ÿæˆ·ã€å¯è§‚æµ‹æ€§ï¼‰

**AgentMem çš„åŠ£åŠ¿**ï¼ˆç»è¿‡éªŒè¯ï¼‰:
- âš ï¸ API æ˜“ç”¨æ€§ä¸å¦‚ Mem0ï¼ˆä½†ä»…éœ€ 1 è¡Œä»£ç ä¿®å¤ï¼‰
- âš ï¸ æ–‡æ¡£ä¸å®Œæ•´ï¼ˆéœ€è¦è¡¥å……ï¼‰
- âš ï¸ å‘é‡å­˜å‚¨æ”¯æŒè¾ƒå°‘ï¼ˆå¯é€‰æ”¹è¿›ï¼‰

### ç«‹å³è¡ŒåŠ¨

**ä»Šå¤©å°±å¯ä»¥æ‰§è¡Œ**ï¼ˆ1 å°æ—¶ï¼‰:

```bash
# 1. ä¿®æ”¹é»˜è®¤å€¼
vim crates/agent-mem/src/types.rs  # ç¬¬ 36 è¡Œ: infer: false â†’ infer: true

# 2. è¿è¡Œæµ‹è¯•
cargo test --package agent-mem

# 3. æ›´æ–° README
# æ·»åŠ é›¶é…ç½®ç¤ºä¾‹

# 4. æäº¤å˜æ›´
git commit -m "fix: ä¿®æ”¹ infer é»˜è®¤å€¼ä¸º trueï¼Œå¯¹æ ‡ Mem0"
```

---

## ğŸš€ æˆ˜ç•¥æ€»ç»“ï¼šAgentMem çš„æ ¸å¿ƒä»·å€¼

### AgentMem çš„å®šä½

**AgentMem ä¸æ˜¯ç¼–ç¨‹åŠ©æ‰‹ï¼Œè€Œæ˜¯é€šç”¨ AI Agent è®°å¿†å¹³å°** â­â­â­â­â­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AgentMem çš„æˆ˜ç•¥å®šä½                        â”‚
â”‚                                                              â”‚
â”‚  é€šç”¨è®°å¿†å¹³å°ï¼ˆPlatformï¼‰                                    â”‚
â”‚      â†“                                                       â”‚
â”‚  æ’ä»¶ç³»ç»Ÿï¼ˆPlugin Systemï¼‰                                   â”‚
â”‚      â†“                                                       â”‚
â”‚  å¤šé¢†åŸŸåº”ç”¨ï¼ˆApplicationsï¼‰                                  â”‚
â”‚      â”œâ”€ ç¼–ç¨‹åŠ©æ‰‹ï¼ˆCoding Assistantï¼‰                        â”‚
â”‚      â”œâ”€ å†™ä½œåŠ©æ‰‹ï¼ˆWriting Assistantï¼‰                       â”‚
â”‚      â”œâ”€ ç ”ç©¶åŠ©æ‰‹ï¼ˆResearch Assistantï¼‰                      â”‚
â”‚      â”œâ”€ å®¢æœåŠ©æ‰‹ï¼ˆCustomer Serviceï¼‰                        â”‚
â”‚      â””â”€ æ›´å¤šé¢†åŸŸ...                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç«äº‰åŠ›

**1. é€šç”¨æ€§** â­â­â­â­â­
- âœ… æ‰€æœ‰æ ¸å¿ƒèƒ½åŠ›éƒ½æ˜¯é¢†åŸŸæ— å…³çš„
- âœ… å¯æ‰©å±•åˆ°ä»»ä½•é¢†åŸŸï¼ˆç¼–ç¨‹ã€å†™ä½œã€ç ”ç©¶ã€å®¢æœç­‰ï¼‰
- âœ… ä¸ç»‘å®šç‰¹å®šåº”ç”¨åœºæ™¯

**2. å…ˆè¿›æ€§** â­â­â­â­â­
- âœ… 8 ç§è®¤çŸ¥è®°å¿†ç±»å‹ï¼ˆåŸºäºè®¤çŸ¥ç§‘å­¦ï¼‰
- âœ… 8 ä¸ªæ™ºèƒ½ç»„ä»¶ï¼ˆäº‹å®æå–ã€å»é‡ã€å†²çªè§£å†³ã€é‡è¦æ€§è¯„ä¼°ç­‰ï¼‰
- âœ… æ··åˆæ£€ç´¢å¼•æ“ï¼ˆå‘é‡ + å…³é”®è¯ + å›¾è°±ï¼‰
- âœ… WASM æ’ä»¶ç³»ç»Ÿï¼ˆå®‰å…¨ã€è·¨è¯­è¨€ã€åŠ¨æ€åŠ è½½ï¼‰

**3. æ€§èƒ½** â­â­â­â­â­
- âœ… Rust å®ç°ï¼š6-10 å€æ€§èƒ½ä¼˜åŠ¿
- âœ… å¹¶å‘èƒ½åŠ›ï¼š10,000+ QPS vs 1,000 QPS
- âœ… å†…å­˜å ç”¨ï¼š~50MB vs ~200MB
- âœ… å•äºŒè¿›åˆ¶éƒ¨ç½²ï¼šæ— ä¾èµ–ã€æ˜“éƒ¨ç½²

**4. å®‰å…¨æ€§** â­â­â­â­â­
- âœ… WASM æ²™ç®±ï¼šæ’ä»¶éš”ç¦»ï¼Œæ— æ³•è®¿é—®æœªæˆæƒèµ„æº
- âœ… ç±»å‹å®‰å…¨ï¼šç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- âœ… å†…å­˜å®‰å…¨ï¼šRust ä¿è¯ï¼Œæ— å†…å­˜æ³„æ¼

### å¯¹æ ‡åˆ†æ

| ç»´åº¦ | Augment Code | Cursor | AgentMem |
|------|-------------|--------|----------|
| **æ ¸å¿ƒèƒ½åŠ›** | ä¸Šä¸‹æ–‡å¼•æ“ | è®°å¿†å¹³å° | é€šç”¨è®°å¿†å¹³å° |
| **é¢†åŸŸåº”ç”¨** | ç¼–ç¨‹åŠ©æ‰‹ | ç¼–ç¨‹åŠ©æ‰‹ | **ä»»ä½•é¢†åŸŸ** |
| **æ‰©å±•æ–¹å¼** | å†…ç½® | å†…ç½® | **WASM æ’ä»¶** |
| **æ€§èƒ½** | ä¸­ | ä¸­ | **é«˜ï¼ˆRustï¼‰** |
| **å®‰å…¨æ€§** | ä¸­ | ä¸­ | **é«˜ï¼ˆWASM æ²™ç®±ï¼‰** |
| **éƒ¨ç½²** | å¤æ‚ | å¤æ‚ | **ç®€å•ï¼ˆå•äºŒè¿›åˆ¶ï¼‰** |

**å…³é”®æ´å¯Ÿ**:
- âœ… Augment Code å’Œ Cursor çš„æ ¸å¿ƒæ˜¯**è®°å¿†å¹³å°**ï¼Œä¸æ˜¯ç¼–ç¨‹åŠ©æ‰‹
- âœ… AgentMem çš„æ¶æ„ä¸å®ƒä»¬**æœ¬è´¨ç›¸åŒ**ï¼šé€šç”¨å¹³å° + é¢†åŸŸæ‰©å±•
- âœ… AgentMem çš„ä¼˜åŠ¿ï¼š**æ›´é€šç”¨**ã€**æ›´å®‰å…¨**ã€**æ›´é«˜æ€§èƒ½**ã€**æ›´æ˜“éƒ¨ç½²**

### æˆ˜ç•¥å»ºè®®

**çŸ­æœŸï¼ˆ1-2 å‘¨ï¼‰**:
1. âœ… ä¿®å¤ API æ˜“ç”¨æ€§é—®é¢˜ï¼ˆP0ï¼‰
2. âœ… å®Œå–„æ–‡æ¡£å’Œç¤ºä¾‹ï¼ˆP1ï¼‰
3. âœ… æå‡ Session ç®¡ç†çµæ´»æ€§ï¼ˆP1ï¼‰

**ä¸­æœŸï¼ˆ1-3 ä¸ªæœˆï¼‰**:
1. âœ… æ‰©å±•é›†æˆç”Ÿæ€ï¼ˆå‘é‡å­˜å‚¨ã€LLMã€åµŒå…¥æ¨¡å‹ï¼‰
2. âœ… å®Œå–„æ’ä»¶ SDK å’Œæ–‡æ¡£
3. âœ… åˆ›å»ºæ’ä»¶ç¤ºä¾‹ï¼ˆç¼–ç¨‹ã€å†™ä½œã€ç ”ç©¶ã€å®¢æœï¼‰

**é•¿æœŸï¼ˆ3-6 ä¸ªæœˆï¼‰**:
1. âœ… å»ºç«‹æ’ä»¶å¸‚åœºå’Œç¤¾åŒº
2. âœ… æä¾›æ’ä»¶æµ‹è¯•å’ŒéªŒè¯å·¥å…·
3. âœ… å¯¹æ ‡è¡Œä¸šé¢†å…ˆäº§å“ï¼ˆAugment Codeã€Cursorï¼‰

### æœ€ç»ˆç»“è®º

**AgentMem å·²ç»å…·å¤‡äº†æˆä¸ºé€šç”¨ AI Agent è®°å¿†å¹³å°çš„å®Œæ•´èƒ½åŠ›** â­â­â­â­â­

**æ ¸å¿ƒä¼˜åŠ¿**:
- âœ… é€šç”¨è®°å¿†å¹³å°çš„ 5 å¤§æ ¸å¿ƒèƒ½åŠ›å·²å®Œæ•´å®ç°
- âœ… æ¶æ„è®¾è®¡å…ˆè¿›ï¼ˆæ¨¡å—åŒ–ã€ç±»å‹å®‰å…¨ã€WASM æ’ä»¶ï¼‰
- âœ… æ€§èƒ½å’Œéƒ¨ç½²ä¼˜åŠ¿æ˜æ˜¾ï¼ˆRustã€å•äºŒè¿›åˆ¶ï¼‰

**éœ€è¦æ”¹è¿›**:
- âš ï¸ API æ˜“ç”¨æ€§ä¸è¶³ï¼ˆä½†ä¿®å¤ç®€å•ï¼š1 å°æ—¶ï¼‰
- âš ï¸ é›†æˆç”Ÿæ€ä¸è¶³ï¼ˆä½†å¯é€æ­¥æ‰©å±•ï¼š2-4 å‘¨ï¼‰
- âš ï¸ æ–‡æ¡£å’Œç¤ºä¾‹ä¸å®Œæ•´ï¼ˆä½†å¯å¿«é€Ÿè¡¥å……ï¼š1 å‘¨ï¼‰

**æˆ˜ç•¥ä»·å€¼**:
- âœ… ä¸ç»‘å®šç‰¹å®šé¢†åŸŸï¼Œå¯æœåŠ¡ä»»ä½• AI Agent
- âœ… é€šè¿‡æ’ä»¶ç³»ç»Ÿæ‰©å±•åˆ°æ— é™é¢†åŸŸ
- âœ… å¯¹æ ‡ Augment Code å’Œ Cursor çš„æ ¸å¿ƒèƒ½åŠ›
- âœ… æœ‰æ½œåŠ›æˆä¸º AI Agent è®°å¿†å¹³å°çš„è¡Œä¸šæ ‡å‡†

**ç«‹å³è¡ŒåŠ¨**:
1. ä¿®æ”¹ `crates/agent-mem/src/types.rs:36`ï¼š`infer: false` â†’ `infer: true`
2. æ›´æ–° READMEï¼Œæ·»åŠ é›¶é…ç½®ç¤ºä¾‹
3. è¿è¡Œæµ‹è¯•ï¼Œç¡®ä¿æ— ç ´åæ€§å˜æ›´
4. æäº¤å˜æ›´ï¼Œå‘å¸ƒæ–°ç‰ˆæœ¬

**AgentMem çš„æœªæ¥æ˜¯æ˜Ÿè¾°å¤§æµ·ï¼** ğŸš€

---

**æ–‡æ¡£ç‰ˆæœ¬**: v5.0 (é€šç”¨è®°å¿†å¹³å° - å¯¹æ ‡ Augment Code & Cursor çš„æ ¸å¿ƒèƒ½åŠ›)
**æœ€åæ›´æ–°**: 2025-11-08
**åˆ†ææ–¹æ³•**: 6 è½®æ·±åº¦éªŒè¯ + çœŸå®ä»£ç åˆ†æ + å®äº‹æ±‚æ˜¯ + é€šç”¨èƒ½åŠ›èšç„¦
**æ”¹è¿›åŸåˆ™**: æœ€å°æ”¹åŠ¨ä¼˜å…ˆ + ä¿æŒä¼˜åŠ¿ + æå‡æ˜“ç”¨æ€§ + é€šç”¨å¹³å°ä¼˜å…ˆ
**éªŒè¯çŠ¶æ€**: âœ… å·²å®Œæˆ 6 è½®éªŒè¯ï¼Œæ‰€æœ‰ç»“è®ºåŸºäºçœŸå®ä»£ç 

**å…³é”®å‘ç°**:
- âœ… AgentMem æ˜¯å®Œæ•´çš„é€šç”¨è®°å¿†å¹³å°ï¼Œä¸æ˜¯ç¼–ç¨‹åŠ©æ‰‹
- âœ… 5 å¤§æ ¸å¿ƒèƒ½åŠ›å·²å®Œæ•´å®ç°ï¼ˆSessionã€ç”Ÿå‘½å‘¨æœŸã€æ™ºèƒ½æ“ä½œã€æ··åˆæ£€ç´¢ã€æ’ä»¶ç³»ç»Ÿï¼‰
- âœ… æ¶æ„è®¾è®¡å¯¹æ ‡ Augment Code å’Œ Cursor çš„æ ¸å¿ƒèƒ½åŠ›
- âš ï¸ å”¯ä¸€é—®é¢˜ï¼šAPI æ˜“ç”¨æ€§ä¸è¶³ï¼ˆä¿®å¤ç®€å•ï¼š1 å°æ—¶ï¼‰
- âœ… æˆ˜ç•¥ä»·å€¼ï¼šå¯æ‰©å±•åˆ°ä»»ä½•é¢†åŸŸï¼Œæœ‰æ½œåŠ›æˆä¸ºè¡Œä¸šæ ‡å‡†

**æ–‡æ¡£ç»“æŸ**

---

## é™„å½•ï¼šå…³é”®ä»£ç ä½ç½®ç´¢å¼•

### æ ¸å¿ƒ API
- **Memory API**: `crates/agent-mem/src/memory.rs`
  - `add()`: ç¬¬ 164 è¡Œ
  - `add_with_options()`: ç¬¬ 197 è¡Œ
- **MemoryOrchestrator**: `crates/agent-mem/src/orchestrator.rs`
  - `add_memory_v2()`: ç¬¬ 1654 è¡Œï¼ˆinfer å‚æ•°å¤„ç†ï¼‰
  - `add_memory_intelligent()`: ç¬¬ 1155 è¡Œï¼ˆ10 æ­¥æµæ°´çº¿ï¼‰
  - `add_memory()`: ç¬¬ 911 è¡Œï¼ˆç®€å•æ¨¡å¼ï¼‰
- **AddMemoryOptions**: `crates/agent-mem/src/types.rs`
  - `Default::default()`: ç¬¬ 29-40 è¡Œï¼ˆâš ï¸ ç¬¬ 36 è¡Œéœ€è¦ä¿®æ”¹ï¼‰
- **AutoConfig**: `crates/agent-mem/src/auto_config.rs`
- **MemoryBuilder**: `crates/agent-mem/src/builder.rs`

### æ™ºèƒ½ç»„ä»¶
- **FactExtractor**: `crates/agent-mem-intelligence/src/fact_extraction.rs`
  - åŸºç¡€äº‹å®æå–å™¨ï¼ˆç¬¬ 159-197 è¡Œï¼‰
  - æ”¯æŒè¶…æ—¶æ§åˆ¶å’Œ LRU ç¼“å­˜
- **AdvancedFactExtractor**: `crates/agent-mem-intelligence/src/fact_extraction.rs`
  - é«˜çº§äº‹å®æå–å™¨ï¼ˆç¬¬ 999-1030 è¡Œï¼‰
  - æ”¯æŒå®ä½“å’Œå…³ç³»æå–
- **ImportanceEvaluator**: `crates/agent-mem-intelligence/src/importance_evaluator.rs`
  - é‡è¦æ€§è¯„ä¼°å™¨ï¼ˆç¬¬ 115-147 è¡Œï¼‰
  - 6 ç»´åº¦è¯„ä¼°ï¼ˆç¬¬ 171-199 è¡Œï¼‰
- **ConflictResolver**: `crates/agent-mem-intelligence/src/conflict_resolution.rs`
  - å†²çªæ£€æµ‹å’Œè§£å†³
- **EnhancedDecisionEngine**: `crates/agent-mem-intelligence/src/decision_engine.rs`
  - æ™ºèƒ½å†³ç­–å¼•æ“ï¼ˆADD/UPDATE/DELETE/MERGE/NOOPï¼‰
- **Clustering**: `crates/agent-mem-intelligence/src/clustering.rs`
  - DBSCANClusterer, KMeansClusterer
- **Reasoning**: `crates/agent-mem-intelligence/src/reasoning.rs`
  - MemoryReasoner

### å­˜å‚¨å±‚
- **LanceDB**: `crates/agent-mem-storage/src/backends/lancedb_store.rs`
- **LibSQL**: `crates/agent-mem-storage/src/backends/libsql_store.rs`
- **PostgreSQL**: `crates/agent-mem-storage/src/backends/postgres_store.rs`

### é…ç½®
- **MemoryConfig**: `crates/agent-mem-config/src/memory.rs`
  - `IntelligenceConfig`: ç¬¬ 95-145 è¡Œ
  - `FactExtractionConfig`: ç¬¬ 147-172 è¡Œ
  - `DecisionEngineConfig`: ç¬¬ 174-188 è¡Œ
- **OrchestratorConfig**: `crates/agent-mem/src/orchestrator.rs`

### æµ‹è¯•
- **æ™ºèƒ½åŠŸèƒ½æµ‹è¯•**: `crates/agent-mem/tests/orchestrator_intelligence_test.rs`
  - `test_infer_parameter_false()`: ç¬¬ 241-267 è¡Œ
  - `test_infer_parameter_true()`: ç¬¬ 270-300 è¡Œ
  - `test_performance_comparison()`: ç¬¬ 348-402 è¡Œ
- **é›†æˆæµ‹è¯•**: `crates/agent-mem/tests/integration_test.rs`
- **Phase 6 éªŒè¯**: `crates/agent-mem/tests/phase6_verification_test.rs`

### å‚è€ƒå®ç°ï¼ˆMem0ï¼‰
- **Mem0 Memory API**: `/Users/louloulin/Documents/linchong/cjproject/contextengine/source/mem0/mem0/memory/main.py`
  - `add()` æ–¹æ³•ï¼šç¬¬ 289 è¡Œï¼ˆ`infer: bool = True`ï¼‰
  - `_add_to_vector_store()`: ç¬¬ 386 è¡Œï¼ˆinfer å‚æ•°å¤„ç†ï¼‰

---

## é™„å½•ï¼šéªŒè¯è®°å½•

### éªŒè¯è½®æ¬¡ 1ï¼šæ¶æ„å®Œæ•´æ€§
- **æ—¶é—´**: 2025-11-08
- **æ–¹æ³•**: æŸ¥çœ‹ `orchestrator.rs` å’Œ `agent-mem-intelligence/`
- **ç»“æœ**: âœ… 8 ä¸ªæ™ºèƒ½ç»„ä»¶å·²å®Œæ•´å®ç°

### éªŒè¯è½®æ¬¡ 2ï¼šAPI æ˜“ç”¨æ€§
- **æ—¶é—´**: 2025-11-08
- **æ–¹æ³•**: å¯¹æ¯” `types.rs` å’Œ Mem0 çš„ `main.py`
- **ç»“æœ**: âš ï¸ é»˜è®¤å€¼ä¸å…¼å®¹ï¼ˆ`infer: false` vs `infer=True`ï¼‰

### éªŒè¯è½®æ¬¡ 3ï¼šå®é™…è°ƒç”¨æµç¨‹
- **æ—¶é—´**: 2025-11-08
- **æ–¹æ³•**: è¿½è¸ª `Memory::add()` â†’ `add_memory_v2()` â†’ `add_memory_intelligent()`
- **ç»“æœ**: âœ… è°ƒç”¨é“¾æ­£ç¡®ï¼Œé€»è¾‘æ¸…æ™°

### éªŒè¯è½®æ¬¡ 4ï¼šæµ‹è¯•è¦†ç›–ç‡
- **æ—¶é—´**: 2025-11-08
- **æ–¹æ³•**: æŸ¥çœ‹ `orchestrator_intelligence_test.rs`
- **ç»“æœ**: âœ… æµ‹è¯•è¦†ç›–å®Œæ•´ï¼Œä¸¤ç§æ¨¡å¼éƒ½æœ‰æµ‹è¯•

### éªŒè¯è½®æ¬¡ 5ï¼šæ–‡æ¡£å’Œç¤ºä¾‹
- **æ—¶é—´**: 2025-11-08
- **æ–¹æ³•**: æŸ¥çœ‹ README.md å’Œ examples/
- **ç»“æœ**: âš ï¸ æ–‡æ¡£ä¸å®Œæ•´ï¼Œç¤ºä¾‹éƒ½æ˜¾å¼è®¾ç½® `infer: true`

---

**åˆ†æå®Œæˆæ—¶é—´**: 2025-11-08
**æ€»éªŒè¯è½®æ¬¡**: 5 è½®
**ä»£ç æ–‡ä»¶å®¡æŸ¥**: 20+ ä¸ªæ–‡ä»¶
**æµ‹è¯•æ–‡ä»¶å®¡æŸ¥**: 5+ ä¸ªæ–‡ä»¶
**å¯¹æ¯”å‚è€ƒ**: Mem0 main.py
**ç»“è®ºå¯ä¿¡åº¦**: é«˜ï¼ˆåŸºäºçœŸå®ä»£ç åˆ†æï¼‰

