# AgentMem 环境变量配置示例
#
# 使用方法:
#   1. 复制此文件: cp .env.example .env
#   2. 编辑 .env 文件，填入实际的配置值
#   3. 确保 .env 已添加到 .gitignore（不要提交敏感信息！）
#   4. 启动服务: just dev
#
# ⚠️  警告: 绝对不要将包含真实 API Key 的 .env 文件提交到 Git！

# ============================================================================
# LLM 配置（智能功能需要）
# ============================================================================

# OpenAI API Key（用于 GPT-4, GPT-3.5 等）
# 获取方式: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-your-openai-api-key-here

# 智谱 AI API Key（用于 GLM-4 等国产模型）
# 获取方式: https://open.bigmodel.cn/usercenter/apikeys
# ZHIPU_API_KEY=your-zhipu-api-key-here

# Anthropic API Key（用于 Claude 系列）
# 获取方式: https://console.anthropic.com/
# ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# LLM 提供商（可选，默认自动检测）
# 可选值: "openai", "zhipu", "anthropic", "auto"
# LLM_PROVIDER=auto

# LLM 模型（可选）
# OpenAI: "gpt-4", "gpt-4-turbo", "gpt-3.5-turbo"
# 智谱: "glm-4", "glm-3-turbo"
# Anthropic: "claude-3-opus-20240229", "claude-3-sonnet-20240229"
# LLM_MODEL=gpt-4

# ============================================================================
# 数据库配置（可选）
# ============================================================================

# 数据库 URL（可选，默认使用文件数据库）
# LibSQL: "file:./data/agentmem.db"
# PostgreSQL: "postgres://user:password@localhost/agentmem"
# DATABASE_URL=file:./data/agentmem.db

# 数据库连接池大小（可选，默认 10）
# DB_POOL_SIZE=10

# ============================================================================
# 服务器配置（可选）
# ============================================================================

# 服务器监听地址（可选，默认 127.0.0.1）
# SERVER_HOST=127.0.0.1

# 服务器端口（可选，默认 8080）
# SERVER_PORT=8080

# 工作线程数（可选，默认 0 = 自动）
# SERVER_WORKERS=0

# ============================================================================
# 认证配置（生产环境必需）
# ============================================================================

# JWT 密钥（生产环境必须设置，至少 32 字节）
# 生成方式: openssl rand -base64 32
# JWT_SECRET=your-jwt-secret-at-least-32-bytes-long

# Token 过期时间（小时，可选，默认 24）
# TOKEN_EXPIRATION=24

# ============================================================================
# 向量嵌入配置（可选）
# ============================================================================

# 嵌入模型提供商（可选，默认 "fastembed"）
# 可选值: "fastembed", "openai"
# EMBEDDER_PROVIDER=fastembed

# 嵌入模型名称（可选）
# FastEmbed: "BAAI/bge-small-en-v1.5", "BAAI/bge-base-en-v1.5"
# OpenAI: "text-embedding-3-small", "text-embedding-ada-002"
# EMBEDDER_MODEL=BAAI/bge-small-en-v1.5

# OpenAI API Key for embeddings（如果使用 OpenAI embeddings）
# OPENAI_EMBEDDINGS_API_KEY=sk-your-openai-api-key-here

# ============================================================================
# 向量存储配置（可选）
# ============================================================================

# 向量数据库 URL（可选，默认 LanceDB 文件存储）
# LanceDB: "lancedb://./data/vectors.lance"
# Qdrant: "http://localhost:6333"
# VECTOR_STORE_URL=lancedb://./data/vectors.lance

# ============================================================================
# 缓存配置（可选）
# ============================================================================

# Redis URL（可选，用于 L2 缓存）
# REDIS_URL=redis://localhost:6379

# Redis 密码（如果需要）
# REDIS_PASSWORD=your-redis-password

# ============================================================================
# 日志配置（可选）
# ============================================================================

# 日志级别（可选，默认 "info"）
# 可选值: "trace", "debug", "info", "warn", "error"
# LOG_LEVEL=info

# 日志格式（可选，默认 "pretty"）
# 可选值: "pretty", "json"
# LOG_FORMAT=pretty

# 日志文件路径（可选，默认输出到控制台）
# LOG_FILE=./logs/agentmem.log

# ============================================================================
# CORS 配置（可选）
# ============================================================================

# 允许的源（多个用逗号分隔）
# CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================================
# 性能配置（可选）
# ============================================================================

# 默认查询限制（可选，默认 10）
# DEFAULT_LIMIT=10

# 最大查询限制（可选，默认 100）
# MAX_LIMIT=100

# 请求超时（秒，可选，默认 30）
# REQUEST_TIMEOUT=30

# ============================================================================
# 开发模式配置
# ============================================================================

# 开发模式（可选，默认 true）
# 开发模式: 认证可选，日志详细，CORS 宽松
# 生产模式: 认证必需，日志简洁，CORS 严格
# DEVELOPMENT_MODE=true

# 启用认证（开发模式可选，生产模式必需）
# ENABLE_AUTH=false

# ============================================================================
# 监控配置（可选）
# ============================================================================

# 启用 Prometheus 指标（可选，默认 true）
# ENABLE_METRICS=true

# 指标端点路径（可选，默认 /metrics）
# METRICS_PATH=/metrics

# 启用 Swagger UI（可选，默认 true）
# ENABLE_SWAGGER=true

# Swagger UI 路径（可选，默认 /swagger-ui）
# SWAGGER_PATH=/swagger-ui

# ============================================================================
# 插件配置（可选）
# ============================================================================

# 启用插件系统（可选，默认 false）
# ENABLE_PLUGINS=false

# 插件目录（可选）
# PLUGIN_DIR=./plugins

# ============================================================================
# 其他配置
# ============================================================================

# 时区（可选，默认 UTC）
# TZ=UTC

# 语言（可选，默认 en）
# LANG=en

# 最大文件上传大小（字节，可选，默认 1MB）
# MAX_UPLOAD_SIZE=1048576
