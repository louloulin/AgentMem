# AgentMem é¡¶çº§è®°å¿†å¹³å°æ”¹é€ è®¡åˆ’ v6.0

**åˆ†ææ—¥æœŸ**: 2025-12-10  
**åˆ†æèŒƒå›´**: å…¨é¢åˆ†æè®°å¿†ç³»ç»Ÿï¼Œå¯¹æ ‡é¡¶çº§äº§å“ï¼Œåˆ¶å®šå®Œå–„æ”¹é€ è®¡åˆ’  
**ç›®æ ‡**: æ„å»ºé¡¶çº§è®°å¿†å¹³å°ï¼Œè¾¾åˆ°ä¸šç•Œé¢†å…ˆæ°´å¹³  
**å‚è€ƒæ ‡å‡†**: PISAã€O-Memã€SHIMIã€KARMAã€MemoryOSã€Mem0ã€MemOSã€Claude Codeç­‰2025æœ€æ–°ç ”ç©¶

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

### æ ¸å¿ƒç›®æ ‡

åŸºäº2025å¹´æœ€æ–°è®°å¿†ç³»ç»Ÿç ”ç©¶å’Œå¯¹æ ‡é¡¶çº§äº§å“ï¼ˆMem0ã€MemOSã€Claude Codeï¼‰ï¼Œå…¨é¢æ”¹é€ AgentMemï¼Œå®ç°ï¼š

1. **å‡†ç¡®æ€§**: è®°å¿†æ£€ç´¢å‡†ç¡®ç‡ >95%ï¼Œæ”¯æŒå› æœæ¨ç†å’Œä¸Šä¸‹æ–‡ç†è§£
2. **æ€§èƒ½**: æ‰¹é‡æ“ä½œ >10,000 ops/sï¼Œå»¶è¿ŸP99 <100ms
3. **æ˜“ç”¨æ€§**: é›¶é…ç½®å¯åŠ¨ï¼ŒAPIç®€æ´ç›´è§‚ï¼Œæ–‡æ¡£å®Œå–„

### å…³é”®å‘ç°

| ç»´åº¦ | å½“å‰çŠ¶æ€ | ç›®æ ‡çŠ¶æ€ | å·®è· |
|------|---------|---------|------|
| **å‡†ç¡®æ€§** | ~70% | >95% | éœ€è¦å› æœæ¨ç†ã€é‡æ’åºã€ä¸Šä¸‹æ–‡ç†è§£ |
| **æ€§èƒ½** | 473 ops/s | 10,000+ ops/s | 21xæå‡ï¼ˆæ‰¹é‡ä¼˜åŒ–ã€ç¼“å­˜ã€å¹¶å‘ï¼‰ |
| **æ˜“ç”¨æ€§** | ä¸­ç­‰ | é¡¶çº§ | éœ€è¦ç®€åŒ–APIã€å®Œå–„æ–‡æ¡£ã€æä¾›ç¤ºä¾‹ |

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„è®¾è®¡

### æ¶æ„å…¨æ™¯å›¾ï¼ˆASCII Artï¼‰

```
graph TB
    subgraph "æ¥å£å±‚ (Interface Layer)"
        API[REST API<br/>Axum Server]
        MCP[MCP Tools<br/>CLI Interface]
        UI[Web UI<br/>Next.js]
        SDK[SDK & Examples]
    end

    subgraph "ç¼–æ’å±‚ (Orchestration Layer)"
        ORCH[MemoryOrchestrator<br/>ç»Ÿä¸€ç¼–æ’å™¨]
        WM[Working Memory<br/>ä¼šè¯ç®¡ç†]
        TOOL[Tool Executor<br/>å·¥å…·è°ƒç”¨]
    end

    subgraph "æ™ºèƒ½å±‚ (Intelligence Layer)"
        subgraph "è®°å¿†å¼•æ“"
            ME[Memory Engine<br/>æ ¸å¿ƒå¼•æ“]
            MI[Memory Integration<br/>è®°å¿†æ•´åˆ]
            HS[Hierarchical Service<br/>å±‚æ¬¡æœåŠ¡]
        end
        subgraph "æ™ºèƒ½æ¨ç†"
            IE[Intelligence Engine<br/>AIæ¨ç†å¼•æ“]
            EX[Extraction<br/>è®°å¿†æå–]
            IMP[Importance Scorer<br/>é‡è¦æ€§è¯„åˆ†]
            CON[Conflict Resolver<br/>å†²çªå¤„ç†]
        end
        subgraph "æ£€ç´¢ç³»ç»Ÿ"
            VS[Vector Search<br/>å‘é‡æœç´¢]
            HS2[Hybrid Search<br/>æ··åˆæœç´¢]
            RERANK[Reranker<br/>é‡æ’åº]
            CA[Context Aware<br/>ä¸Šä¸‹æ–‡æ„ŸçŸ¥]
        end
        LLM[LLM Adapter<br/>20+ Providers]
    end

    subgraph "å­˜å‚¨å±‚ (Storage Layer)"
        subgraph "ç»“æ„åŒ–å­˜å‚¨"
            SQL[LibSQL Repository<br/>ä¸»å­˜å‚¨]
            PG[PostgreSQL<br/>å¯é€‰]
        end
        subgraph "å‘é‡å­˜å‚¨"
            LANCE[LanceDB<br/>å‘é‡ç´¢å¼•]
            QDRANT[Qdrant<br/>å¯é€‰]
            PGVEC[pgvector<br/>å¯é€‰]
        end
        subgraph "ç¼“å­˜ç³»ç»Ÿ"
            L1[L1 Cache<br/>å†…å­˜LRU]
            L2[L2 Cache<br/>Redis]
        end
        HIST[History Manager<br/>å®¡è®¡æ—¥å¿—]
    end

    subgraph "è®°å¿†ç±»å‹ (Memory Types)"
        EPI[Episodic<br/>æƒ…èŠ‚è®°å¿†]
        SEM[Semantic<br/>è¯­ä¹‰è®°å¿†]
        PROC[Procedural<br/>ç¨‹åºè®°å¿†]
        WORK[Working<br/>å·¥ä½œè®°å¿†]
        CORE[Core<br/>æ ¸å¿ƒè®°å¿†]
        RES[Resource<br/>èµ„æºè®°å¿†]
        KNOW[Knowledge<br/>çŸ¥è¯†è®°å¿†]
        CTX[Contextual<br/>ä¸Šä¸‹æ–‡è®°å¿†]
    end

    subgraph "è®°å¿†å±‚æ¬¡ (Memory Hierarchy)"
        GLOBAL[Global Scope<br/>å…¨å±€]
        AGENT[Agent Scope<br/>ä»£ç†çº§]
        USER[User Scope<br/>ç”¨æˆ·çº§]
        SESSION[Session Scope<br/>ä¼šè¯çº§]
    end

    API --> ORCH
    MCP --> ORCH
    UI --> ORCH
    SDK --> ORCH

    ORCH --> ME
    ORCH --> WM
    ORCH --> TOOL

    ME --> IE
    ME --> VS
    ME --> SQL
    MI --> HS
    HS --> EPI
    HS --> SEM
    HS --> PROC
    HS --> WORK

    IE --> EX
    IE --> IMP
    IE --> CON
    IE --> LLM

    VS --> LANCE
    VS --> HS2
    HS2 --> RERANK
    RERANK --> CA

    SQL --> L1
    L1 --> L2
    SQL --> HIST

    HS --> GLOBAL
    HS --> AGENT
    HS --> USER
    HS --> SESSION

    style API fill:#e1f5ff
    style ORCH fill:#fff4e1
    style ME fill:#e8f5e9
    style IE fill:#f3e5f5
    style SQL fill:#fff9c4
    style LANCE fill:#fff9c4
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ¥å£å±‚ (Interface Layer)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  REST API (Axum)  â”‚  MCP Tools  â”‚  Web UI (Next.js)  â”‚  SDK & Examples     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç¼–æ’å±‚ (Orchestration Layer)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  MemoryOrchestrator (ç»Ÿä¸€ç¼–æ’å™¨)  â”‚  Working Memory  â”‚  Tool Executor      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         æ™ºèƒ½å±‚ (Intelligence Layer)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   è®°å¿†å¼•æ“            â”‚  â”‚   æ™ºèƒ½æ¨ç†            â”‚  â”‚   æ£€ç´¢ç³»ç»Ÿ        â”‚ â”‚
â”‚  â”‚  - Memory Engine     â”‚  â”‚  - Intelligence       â”‚  â”‚  - Vector Search â”‚ â”‚
â”‚  â”‚  - Memory Integrationâ”‚  â”‚  - Extraction         â”‚  â”‚  - Hybrid Search â”‚ â”‚
â”‚  â”‚  - Hierarchical Svc â”‚  â”‚  - Importance Scorer  â”‚  â”‚  - Reranker      â”‚ â”‚
â”‚  â”‚                      â”‚  â”‚  - Conflict Resolver  â”‚  â”‚  - Context Aware â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  LLM Adapter (20+ Providers: OpenAI, DeepSeek, Zhipu, Ollama...)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å­˜å‚¨å±‚ (Storage Layer)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ç»“æ„åŒ–å­˜å‚¨            â”‚  â”‚  å‘é‡å­˜å‚¨             â”‚  â”‚  ç¼“å­˜ç³»ç»Ÿ         â”‚ â”‚
â”‚  â”‚  - LibSQL (ä¸»å­˜å‚¨)    â”‚  â”‚  - LanceDB           â”‚  â”‚  - L1 Cache (LRU)â”‚ â”‚
â”‚  â”‚  - PostgreSQL (å¯é€‰) â”‚  â”‚  - Qdrant (å¯é€‰)    â”‚  â”‚  - L2 Cache (Redis)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  History Manager (å®¡è®¡æ—¥å¿—)                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è®°å¿†ç±»å‹ (Memory Types)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Episodic  â”‚  Semantic  â”‚  Procedural  â”‚  Working  â”‚  Core  â”‚  Resource   â”‚
â”‚  Knowledge â”‚  Contextual                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      è®°å¿†å±‚æ¬¡ (Memory Hierarchy)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Global Scope â†’ Agent Scope â†’ User Scope â†’ Session Scope                    â”‚
â”‚  (å…¨å±€)        (ä»£ç†çº§)      (ç”¨æˆ·çº§)      (ä¼šè¯çº§)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµæ¶æ„

```mermaid
sequenceDiagram
    participant User
    participant API
    participant Orchestrator
    participant Intelligence
    participant Storage
    participant Cache
    participant VectorStore

    User->>API: æ·»åŠ è®°å¿†è¯·æ±‚
    API->>Orchestrator: add_memory()
    
    Orchestrator->>Intelligence: æå–å’Œè¯„åˆ†
    Intelligence->>Intelligence: é‡è¦æ€§è¯„ä¼°
    Intelligence->>Intelligence: å†²çªæ£€æµ‹
    
    Orchestrator->>Cache: æ£€æŸ¥ç¼“å­˜
    alt ç¼“å­˜å‘½ä¸­
        Cache-->>Orchestrator: è¿”å›ç¼“å­˜ç»“æœ
    else ç¼“å­˜æœªå‘½ä¸­
        Orchestrator->>Storage: å†™å…¥LibSQL
        Orchestrator->>VectorStore: å†™å…¥å‘é‡
        Storage-->>Orchestrator: ç¡®è®¤
        VectorStore-->>Orchestrator: ç¡®è®¤
        Orchestrator->>Cache: æ›´æ–°ç¼“å­˜
    end
    
    Orchestrator-->>API: è¿”å›ç»“æœ
    API-->>User: å“åº”

    User->>API: æœç´¢è®°å¿†è¯·æ±‚
    API->>Orchestrator: search_memories()
    
    Orchestrator->>Cache: æ£€æŸ¥ç¼“å­˜
    alt ç¼“å­˜å‘½ä¸­
        Cache-->>Orchestrator: è¿”å›ç¼“å­˜ç»“æœ
    else ç¼“å­˜æœªå‘½ä¸­
        Orchestrator->>VectorStore: å‘é‡æœç´¢
        VectorStore-->>Orchestrator: å€™é€‰ç»“æœ
        Orchestrator->>Intelligence: é‡æ’åº
        Intelligence-->>Orchestrator: æ’åºç»“æœ
        Orchestrator->>Storage: è·å–å®Œæ•´æ•°æ®
        Storage-->>Orchestrator: è®°å¿†æ•°æ®
        Orchestrator->>Cache: æ›´æ–°ç¼“å­˜
    end
    
    Orchestrator-->>API: è¿”å›ç»“æœ
    API-->>User: å“åº”
```

### è®°å¿†å±‚æ¬¡æ¶æ„

```mermaid
graph TD
    subgraph "è®°å¿†å±‚æ¬¡ç³»ç»Ÿ (Memory Hierarchy)"
        subgraph "Scopeå±‚æ¬¡ (4å±‚)"
            G[Global<br/>å…¨å±€çŸ¥è¯†<br/>æ°¸ä¹…å­˜å‚¨]
            A[Agent<br/>ä»£ç†çŸ¥è¯†<br/>é¢†åŸŸç‰¹å®š]
            U[User<br/>ç”¨æˆ·è®°å¿†<br/>ä¸ªäººåŒ–]
            S[Session<br/>ä¼šè¯è®°å¿†<br/>ä¸´æ—¶ä¸Šä¸‹æ–‡]
        end

        subgraph "Levelå±‚æ¬¡ (4å±‚)"
            ST[Strategic<br/>æˆ˜ç•¥çº§<br/>é•¿æœŸè§„åˆ’]
            TA[Tactical<br/>æˆ˜æœ¯çº§<br/>ä¸­æœŸè®¡åˆ’]
            OP[Operational<br/>æ“ä½œçº§<br/>çŸ­æœŸä»»åŠ¡]
            CT[Contextual<br/>ä¸Šä¸‹æ–‡çº§<br/>å³æ—¶å“åº”]
        end

        subgraph "è®°å¿†ç±»å‹ (8ç§)"
            EP[Episodic<br/>æƒ…èŠ‚è®°å¿†]
            SE[Semantic<br/>è¯­ä¹‰è®°å¿†]
            PR[Procedural<br/>ç¨‹åºè®°å¿†]
            WO[Working<br/>å·¥ä½œè®°å¿†]
            CO[Core<br/>æ ¸å¿ƒè®°å¿†]
            RE[Resource<br/>èµ„æºè®°å¿†]
            KN[Knowledge<br/>çŸ¥è¯†è®°å¿†]
            CX[Contextual<br/>ä¸Šä¸‹æ–‡è®°å¿†]
        end
    end

    G --> A
    A --> U
    U --> S

    ST --> TA
    TA --> OP
    OP --> CT

    G -.-> SE
    A -.-> SE
    U -.-> EP
    S -.-> WO

    style G fill:#ff6b6b
    style A fill:#4ecdc4
    style U fill:#45b7d1
    style S fill:#f9ca24
```

---

## ğŸ§® æ ¸å¿ƒç®—æ³•è®¾è®¡

### 1. å¤šç»´åº¦ç»¼åˆè¯„åˆ†ç®—æ³•

#### 1.1 ç®—æ³•å…¬å¼

```
ç»¼åˆè¯„åˆ† = wâ‚ Ã— ç›¸å…³æ€§ + wâ‚‚ Ã— é‡è¦æ€§ + wâ‚ƒ Ã— æ—¶æ•ˆæ€§ + wâ‚„ Ã— è´¨é‡

å…¶ä¸­ï¼š
- wâ‚ = 0.5 (ç›¸å…³æ€§æƒé‡)
- wâ‚‚ = 0.3 (é‡è¦æ€§æƒé‡)
- wâ‚ƒ = 0.15 (æ—¶æ•ˆæ€§æƒé‡)
- wâ‚„ = 0.05 (è´¨é‡æƒé‡)
```

#### 1.2 å„ç»´åº¦è®¡ç®—

**ç›¸å…³æ€§è¯„åˆ† (Relevance Score)**:
```
relevance = cosine_similarity(query_embedding, memory_embedding)
```

**é‡è¦æ€§è¯„åˆ† (Importance Score)**:
```
importance = LLM_based_importance(memory_content)
æˆ–
importance = heuristic_importance(memory_metadata)
```

**æ—¶æ•ˆæ€§è¯„åˆ† (Recency Score)**:
```
recency = exp(-age_days / half_life)

å…¶ä¸­ï¼š
- age_days = (now - memory.created_at).days
- half_life = 30 (å¤©)  # 30å¤©åŠè¡°æœŸ
```

**è´¨é‡è¯„åˆ† (Quality Score)**:
```
quality = f(content_length, completeness, coherence)

å…¶ä¸­ï¼š
- content_length: å†…å®¹é•¿åº¦å½’ä¸€åŒ–
- completeness: å®Œæ•´æ€§æ£€æŸ¥
- coherence: è¿è´¯æ€§æ£€æŸ¥
```

#### 1.3 è‡ªé€‚åº”æƒé‡è°ƒæ•´

```rust
// ä¼ªä»£ç 
fn adaptive_weights(query_type: QueryType, user_preferences: &UserPrefs) -> Weights {
    match query_type {
        QueryType::Factual => Weights {
            relevance: 0.6,
            importance: 0.3,
            recency: 0.05,
            quality: 0.05,
        },
        QueryType::Recent => Weights {
            relevance: 0.4,
            importance: 0.2,
            recency: 0.35,
            quality: 0.05,
        },
        QueryType::Important => Weights {
            relevance: 0.3,
            importance: 0.5,
            recency: 0.15,
            quality: 0.05,
        },
        _ => default_weights(),
    }
}
```

### 2. é‡æ’åºç®—æ³• (Reranking)

#### 2.1 Cross-Encoderé‡æ’åº

**ç®—æ³•æµç¨‹**:
```
1. åˆå§‹æ£€ç´¢: ä½¿ç”¨å‘é‡æœç´¢è·å–Top-Kå€™é€‰ (K=100)
2. Cross-Encoderè¯„åˆ†: å¯¹æ¯ä¸ªå€™é€‰è®¡ç®—ç²¾ç¡®ç›¸å…³æ€§
3. ç»¼åˆè¯„åˆ†: ç»“åˆåˆå§‹åˆ†æ•°å’ŒCross-Encoderåˆ†æ•°
4. æœ€ç»ˆæ’åº: æŒ‰ç»¼åˆè¯„åˆ†æ’åºï¼Œè¿”å›Top-N (N=10)
```

**è¯„åˆ†å…¬å¼**:
```
final_score = Î± Ã— vector_score + (1-Î±) Ã— cross_encoder_score

å…¶ä¸­ï¼š
- Î± = 0.3 (å‘é‡åˆ†æ•°æƒé‡)
- cross_encoder_score = CrossEncoder(query, memory_content)
```

#### 2.2 LLM-basedé‡æ’åº

**ç®—æ³•æµç¨‹**:
```
1. åˆå§‹æ£€ç´¢: è·å–Top-Kå€™é€‰
2. LLMè¯„åˆ†: ä½¿ç”¨LLMå¯¹æ¯ä¸ªå€™é€‰è¿›è¡Œç›¸å…³æ€§è¯„åˆ†
3. è§£é‡Šç”Ÿæˆ: ç”Ÿæˆä¸ºä»€ä¹ˆç›¸å…³çš„è§£é‡Š
4. æœ€ç»ˆæ’åº: æŒ‰LLMè¯„åˆ†æ’åº
```

**Promptæ¨¡æ¿**:
```
ç»™å®šæŸ¥è¯¢: {query}
è®°å¿†å†…å®¹: {memory_content}

è¯·è¯„åˆ†è¯¥è®°å¿†ä¸æŸ¥è¯¢çš„ç›¸å…³æ€§ (0-1åˆ†)ï¼Œå¹¶è§£é‡ŠåŸå› ã€‚
```

### 3. æ—¶é—´è¡°å‡ç®—æ³•

#### 3.1 æŒ‡æ•°è¡°å‡æ¨¡å‹

```
score(t) = score(0) Ã— exp(-Î» Ã— t)

å…¶ä¸­ï¼š
- score(0): åˆå§‹è¯„åˆ†
- Î»: è¡°å‡ç‡ (é»˜è®¤: ln(2) / half_life)
- t: æ—¶é—´å·® (å¤©)
- half_life: åŠè¡°æœŸ (é»˜è®¤: 30å¤©)
```

#### 3.2 åˆ†æ®µè¡°å‡æ¨¡å‹

```
score(t) = {
    score(0) Ã— 1.0,           if t < 1å¤©      # ä¸è¡°å‡
    score(0) Ã— exp(-Î»â‚ Ã— t), if 1å¤© â‰¤ t < 7å¤©  # å¿«é€Ÿè¡°å‡
    score(0) Ã— exp(-Î»â‚‚ Ã— t), if 7å¤© â‰¤ t < 30å¤© # ä¸­é€Ÿè¡°å‡
    score(0) Ã— exp(-Î»â‚ƒ Ã— t), if t â‰¥ 30å¤©      # æ…¢é€Ÿè¡°å‡
}
```

### 4. æ‰¹é‡åµŒå…¥ä¼˜åŒ–ç®—æ³•

#### 4.1 æ‰¹å¤„ç†é˜Ÿåˆ—ç®—æ³•

```rust
// ä¼ªä»£ç 
struct EmbeddingBatchQueue {
    queue: VecDeque<String>,
    batch_size: usize,
    max_wait_time: Duration,
    last_batch_time: Instant,
}

impl EmbeddingBatchQueue {
    async fn add(&mut self, content: String) -> Vec<f32> {
        self.queue.push_back(content);
        
        if self.queue.len() >= self.batch_size 
            || self.should_flush() {
            return self.flush().await;
        }
        
        // ç­‰å¾…æ›´å¤šå†…å®¹æˆ–è¶…æ—¶
        self.wait_for_more().await
    }
    
    fn should_flush(&self) -> bool {
        self.last_batch_time.elapsed() >= self.max_wait_time
    }
    
    async fn flush(&mut self) -> Vec<Vec<f32>> {
        let batch: Vec<String> = self.queue.drain(..).collect();
        let embeddings = embedder.embed_batch(&batch).await;
        self.last_batch_time = Instant::now();
        embeddings
    }
}
```

#### 4.2 è‡ªé€‚åº”æ‰¹å¤§å°ç®—æ³•

```
batch_size = min(
    max_batch_size,
    max(
        min_batch_size,
        queue_length / num_workers
    )
)

å…¶ä¸­ï¼š
- min_batch_size = 10
- max_batch_size = 100
- num_workers = CPUæ ¸å¿ƒæ•°
```

### 5. ç¼“å­˜ç­–ç•¥ç®—æ³•

#### 5.1 LRUç¼“å­˜æ›¿æ¢ç­–ç•¥

```rust
// ä¼ªä»£ç 
struct LRUCache<K, V> {
    cache: LinkedHashMap<K, V>,
    capacity: usize,
}

impl LRUCache {
    fn get(&mut self, key: &K) -> Option<&V> {
        if let Some(value) = self.cache.remove(key) {
            self.cache.insert(key.clone(), value);
            self.cache.get(key)
        } else {
            None
        }
    }
    
    fn put(&mut self, key: K, value: V) {
        if self.cache.len() >= self.capacity {
            self.cache.pop_front(); // ç§»é™¤æœ€ä¹…æœªä½¿ç”¨çš„
        }
        self.cache.insert(key, value);
    }
}
```

#### 5.2 ç¼“å­˜é¢„çƒ­ç®—æ³•

```
é¢„çƒ­ç­–ç•¥ï¼š
1. ç»Ÿè®¡çƒ­é—¨æŸ¥è¯¢ (Top 100)
2. é¢„åŠ è½½ç›¸å…³è®°å¿†åˆ°L1ç¼“å­˜
3. é¢„è®¡ç®—åµŒå…¥å‘é‡
4. é¢„æ„å»ºç´¢å¼•ç»“æ„
```

### 6. æ··åˆæœç´¢ç®—æ³•

#### 6.1 å‘é‡+å…³é”®è¯æ··åˆæœç´¢

```
1. å‘é‡æœç´¢: è·å–Top-Kå‘é‡ç»“æœ
2. å…³é”®è¯æœç´¢: è·å–Top-Kå…³é”®è¯ç»“æœ
3. ç»“æœèåˆ: ä½¿ç”¨RRF (Reciprocal Rank Fusion)

RRFå…¬å¼:
score = Î£(1 / (k + rank_i))

å…¶ä¸­ï¼š
- k = 60 (é»˜è®¤å‚æ•°)
- rank_i: åœ¨ç¬¬iä¸ªç»“æœé›†ä¸­çš„æ’å
```

#### 6.2 è¯­ä¹‰é‡‘å­—å¡”ç´¢å¼• (SPI)

```
1. æ„å»ºå¤šåˆ†è¾¨ç‡å‘é‡ç´¢å¼•
2. æ ¹æ®æŸ¥è¯¢ç²’åº¦é€‰æ‹©æœ€ä¼˜åˆ†è¾¨ç‡
3. æ¸è¿›å¼æ£€ç´¢: ä»ç²—åˆ°ç»†
4. åŠ¨æ€è°ƒæ•´æ£€ç´¢æ·±åº¦
```

### 7. å› æœæ¨ç†ç®—æ³•

#### 7.1 å› æœçŸ¥è¯†å›¾æ„å»º

```
1. å®ä½“æå–: ä»è®°å¿†ä¸­æå–å®ä½“
2. å…³ç³»è¯†åˆ«: è¯†åˆ«å› æœå…³ç³»
3. å›¾æ„å»º: æ„å»ºæœ‰å‘æ— ç¯å›¾ (DAG)
4. æƒé‡è®¡ç®—: è®¡ç®—å› æœå¼ºåº¦
```

#### 7.2 å› æœé“¾æ£€ç´¢

```
ç®—æ³•: å› æœè·¯å¾„æœç´¢
1. ä»æŸ¥è¯¢å®ä½“å¼€å§‹
2. æ²¿ç€å› æœè¾¹éå†
3. è®¡ç®—è·¯å¾„æƒé‡
4. è¿”å›Top-Kå› æœé“¾
```

### 8. Schemaæ¼”åŒ–ç®—æ³•

#### 8.1 Schemaæ›´æ–°æœºåˆ¶

```
1. æ£€æµ‹å˜åŒ–: ç›‘æ§è®°å¿†æ¨¡å¼å˜åŒ–
2. è¯„ä¼°å½±å“: è¯„ä¼°å¯¹ç°æœ‰è®°å¿†çš„å½±å“
3. æ¸è¿›æ›´æ–°: é€æ­¥æ›´æ–°Schema
4. éªŒè¯ä¸€è‡´æ€§: ç¡®ä¿æ›´æ–°åçš„ä¸€è‡´æ€§
```

#### 8.2 Schemaæ¼”åŒ–ç­–ç•¥

```
æ¼”åŒ–ç±»å‹ï¼š
- Schemaæ›´æ–°: ä¿®æ”¹ç°æœ‰Schema
- Schemaæ¼”åŒ–: æ·»åŠ æ–°å­—æ®µ/å…³ç³»
- Schemaåˆ›å»º: åˆ›å»ºå…¨æ–°Schema
```

---

## ğŸ“š ç†è®ºæ¶æ„åˆ†æ

### 1. è®¤çŸ¥å¿ƒç†å­¦ç†è®ºåŸºç¡€

#### 1.1 Atkinson-Shiffrinè®°å¿†æ¨¡å‹

**ä¸‰å±‚è®°å¿†ç»“æ„**:
```
æ„Ÿè§‰è®°å¿† (Sensory Memory)
    â†“
çŸ­æœŸè®°å¿† (Short-term Memory / Working Memory)
    â†“
é•¿æœŸè®°å¿† (Long-term Memory)
    â”œâ”€ æƒ…èŠ‚è®°å¿† (Episodic Memory)
    â”œâ”€ è¯­ä¹‰è®°å¿† (Semantic Memory)
    â””â”€ ç¨‹åºè®°å¿† (Procedural Memory)
```

**AgentMemæ˜ å°„**:
- **æ„Ÿè§‰è®°å¿†** â†’ å®æ—¶è¾“å…¥å¤„ç†
- **å·¥ä½œè®°å¿†** â†’ Session Scope (7Â±2é¡¹)
- **æƒ…èŠ‚è®°å¿†** â†’ User Scope + Episodic Memory
- **è¯­ä¹‰è®°å¿†** â†’ Agent/Global Scope + Semantic Memory
- **ç¨‹åºè®°å¿†** â†’ Procedural Memory

#### 1.2 PISAè®¤çŸ¥å‘å±•ç†è®º

**Piagetè®¤çŸ¥å‘å±•é˜¶æ®µ**:
1. **æ„ŸçŸ¥è¿åŠ¨é˜¶æ®µ** (0-2å²) â†’ åŸºç¡€æ“ä½œè®°å¿†
2. **å‰è¿ç®—é˜¶æ®µ** (2-7å²) â†’ ç¬¦å·è®°å¿†
3. **å…·ä½“è¿ç®—é˜¶æ®µ** (7-12å²) â†’ é€»è¾‘è®°å¿†
4. **å½¢å¼è¿ç®—é˜¶æ®µ** (12+å²) â†’ æŠ½è±¡æ¨ç†è®°å¿†

**AgentMemåº”ç”¨**:
- **Schemaæ¼”åŒ–**: å¯¹åº”è®¤çŸ¥å‘å±•é˜¶æ®µ
- **ä¸‰æ¨¡æ€é€‚åº”**: Schemaæ›´æ–°ã€æ¼”åŒ–ã€åˆ›å»º
- **æŒç»­å­¦ä¹ **: æ”¯æŒè®¤çŸ¥å‘å±•

#### 1.3 HCAMåˆ†å±‚è®¤çŸ¥æ¶æ„æ¨¡å‹

**å››å±‚è®¤çŸ¥æ¶æ„**:
```
Level 4: å…ƒè®¤çŸ¥å±‚ (Metacognitive)
    â†“
Level 3: è®¤çŸ¥å±‚ (Cognitive)
    â†“
Level 2: æ„ŸçŸ¥å±‚ (Perceptual)
    â†“
Level 1: ååº”å±‚ (Reactive)
```

**AgentMemæ˜ å°„**:
- **Level 4** â†’ Strategic Level (æˆ˜ç•¥è§„åˆ’)
- **Level 3** â†’ Tactical Level (æˆ˜æœ¯å†³ç­–)
- **Level 2** â†’ Operational Level (æ“ä½œæ‰§è¡Œ)
- **Level 1** â†’ Contextual Level (å³æ—¶å“åº”)

### 2. è®°å¿†ç³»ç»Ÿç†è®ºæ¨¡å‹

#### 2.1 è®°å¿†ç¼–ç ç†è®º

**ç¼–ç å±‚æ¬¡**:
1. **æµ…å±‚ç¼–ç **: è¡¨é¢ç‰¹å¾ (å…³é”®è¯åŒ¹é…)
2. **æ·±å±‚ç¼–ç **: è¯­ä¹‰ç†è§£ (å‘é‡ç›¸ä¼¼åº¦)
3. **æƒ…å¢ƒç¼–ç **: ä¸Šä¸‹æ–‡å…³è” (å¤šæ¨¡æ€)

**AgentMemå®ç°**:
- **æµ…å±‚**: å…³é”®è¯æœç´¢
- **æ·±å±‚**: å‘é‡åµŒå…¥æœç´¢
- **æƒ…å¢ƒ**: ä¸Šä¸‹æ–‡æ„ŸçŸ¥æœç´¢

#### 2.2 è®°å¿†æ£€ç´¢ç†è®º

**æ£€ç´¢æœºåˆ¶**:
1. **ç›´æ¥æ£€ç´¢**: ç²¾ç¡®åŒ¹é…
2. **å…³è”æ£€ç´¢**: è¯­ä¹‰å…³è”
3. **é‡æ„æ£€ç´¢**: æ¨ç†é‡æ„

**AgentMemå®ç°**:
- **ç›´æ¥æ£€ç´¢**: ID/å…ƒæ•°æ®æŸ¥è¯¢
- **å…³è”æ£€ç´¢**: å‘é‡ç›¸ä¼¼åº¦æœç´¢
- **é‡æ„æ£€ç´¢**: å› æœæ¨ç†æ£€ç´¢

#### 2.3 è®°å¿†å·©å›ºç†è®º

**å·©å›ºè¿‡ç¨‹**:
1. **å¿«é€Ÿå·©å›º**: çŸ­æœŸâ†’ä¸­æœŸ (åˆ†é’Ÿ-å°æ—¶)
2. **æ…¢é€Ÿå·©å›º**: ä¸­æœŸâ†’é•¿æœŸ (å¤©-å‘¨)
3. **ç³»ç»Ÿå·©å›º**: é•¿æœŸä¼˜åŒ– (å‘¨-æœˆ)

**AgentMemå®ç°**:
- **å¿«é€Ÿå·©å›º**: Session â†’ User (è‡ªåŠ¨)
- **æ…¢é€Ÿå·©å›º**: User â†’ Agent (é‡è¦æ€§é©±åŠ¨)
- **ç³»ç»Ÿå·©å›º**: Agent â†’ Global (Schemaæ¼”åŒ–)

### 3. ä¿¡æ¯æ£€ç´¢ç†è®º

#### 3.1 å‘é‡ç©ºé—´æ¨¡å‹ (VSM)

**æ ¸å¿ƒæ€æƒ³**:
- æ–‡æ¡£å’ŒæŸ¥è¯¢è¡¨ç¤ºä¸ºå‘é‡
- ç›¸ä¼¼åº¦ = ä½™å¼¦ç›¸ä¼¼åº¦
- æƒé‡ = TF-IDF

**AgentMemåº”ç”¨**:
- è®°å¿†å‘é‡åŒ–
- ç›¸ä¼¼åº¦è®¡ç®—
- ç›¸å…³æ€§æ’åº

#### 3.2 æ¦‚ç‡æ£€ç´¢æ¨¡å‹

**BM25ç®—æ³•**:
```
score(D, Q) = Î£ IDF(qi) Ã— f(qi, D) Ã— (k1 + 1) / (f(qi, D) + k1 Ã— (1 - b + b Ã— |D|/avgdl))

å…¶ä¸­ï¼š
- IDF: é€†æ–‡æ¡£é¢‘ç‡
- f: è¯é¢‘
- k1, b: è°ƒä¼˜å‚æ•°
```

**AgentMemåº”ç”¨**:
- å…³é”®è¯æœç´¢
- æ··åˆæœç´¢
- ç›¸å…³æ€§è¯„åˆ†

#### 3.3 å­¦ä¹ æ’åº (Learning to Rank)

**æ’åºç®—æ³•**:
1. **Pointwise**: ç‹¬ç«‹è¯„åˆ†
2. **Pairwise**: æˆå¯¹æ¯”è¾ƒ
3. **Listwise**: åˆ—è¡¨ä¼˜åŒ–

**AgentMemåº”ç”¨**:
- å¤šç»´åº¦è¯„åˆ† (Pointwise)
- é‡æ’åº (Pairwise)
- åˆ—è¡¨ä¼˜åŒ– (Listwise)

### 4. å› æœæ¨ç†ç†è®º

#### 4.1 å› æœå›¾æ¨¡å‹

**æœ‰å‘æ— ç¯å›¾ (DAG)**:
```
èŠ‚ç‚¹: å®ä½“/äº‹ä»¶
è¾¹: å› æœå…³ç³»
æƒé‡: å› æœå¼ºåº¦
```

**AgentMemåº”ç”¨**:
- å› æœçŸ¥è¯†å›¾
- å› æœé“¾æ£€ç´¢
- å› æœè§£é‡Šç”Ÿæˆ

#### 4.2 ç»“æ„å› æœæ¨¡å‹ (SCM)

**æ ¸å¿ƒç»„ä»¶**:
1. **ç»“æ„æ–¹ç¨‹**: Y = f(X, U)
2. **å› æœå›¾**: å¯è§†åŒ–å› æœå…³ç³»
3. **å¹²é¢„**: do(X=x) æ“ä½œ

**AgentMemåº”ç”¨**:
- å› æœæ¨ç†å¼•æ“
- å¹²é¢„åˆ†æ
- åäº‹å®æ¨ç†

### 5. åˆ†å¸ƒå¼ç³»ç»Ÿç†è®º

#### 5.1 CAPå®šç†

**ä¸€è‡´æ€§ (Consistency)**:
- æ‰€æœ‰èŠ‚ç‚¹åŒæ—¶çœ‹åˆ°ç›¸åŒæ•°æ®

**å¯ç”¨æ€§ (Availability)**:
- æ¯ä¸ªè¯·æ±‚éƒ½èƒ½å¾—åˆ°å“åº”

**åˆ†åŒºå®¹é”™æ€§ (Partition Tolerance)**:
- ç³»ç»Ÿåœ¨åˆ†åŒºæ—¶ä»èƒ½å·¥ä½œ

**AgentMemé€‰æ‹©**:
- **CPæ¨¡å¼**: ä¸€è‡´æ€§ä¼˜å…ˆ (ä¸»å­˜å‚¨)
- **APæ¨¡å¼**: å¯ç”¨æ€§ä¼˜å…ˆ (ç¼“å­˜å±‚)

#### 5.2 æœ€ç»ˆä¸€è‡´æ€§

**ä¸€è‡´æ€§æ¨¡å‹**:
1. **å¼ºä¸€è‡´æ€§**: ç«‹å³ä¸€è‡´
2. **å¼±ä¸€è‡´æ€§**: æœ€ç»ˆä¸€è‡´
3. **æœ€ç»ˆä¸€è‡´æ€§**: ä¿è¯æœ€ç»ˆä¸€è‡´

**AgentMemåº”ç”¨**:
- ä¸»å­˜å‚¨: å¼ºä¸€è‡´æ€§
- å‘é‡å­˜å‚¨: æœ€ç»ˆä¸€è‡´æ€§
- ç¼“å­˜: å¼±ä¸€è‡´æ€§

### 6. æ€§èƒ½ä¼˜åŒ–ç†è®º

#### 6.1 æ‰¹é‡å¤„ç†ç†è®º

**æ‰¹é‡å¤§å°ä¼˜åŒ–**:
```
æœ€ä¼˜æ‰¹é‡å¤§å° = âˆš(2 Ã— å›ºå®šæˆæœ¬ / å•ä½æˆæœ¬)

å…¶ä¸­ï¼š
- å›ºå®šæˆæœ¬: æ‰¹æ¬¡å¤„ç†å¼€é”€
- å•ä½æˆæœ¬: å•æ¡å¤„ç†æˆæœ¬
```

**AgentMemåº”ç”¨**:
- åµŒå…¥æ‰¹é‡å¤„ç†
- æ•°æ®åº“æ‰¹é‡å†™å…¥
- å‘é‡æ‰¹é‡ç´¢å¼•

#### 6.2 ç¼“å­˜ç†è®º

**ç¼“å­˜æ›¿æ¢ç­–ç•¥**:
1. **LRU**: æœ€è¿‘æœ€å°‘ä½¿ç”¨
2. **LFU**: æœ€ä¸ç»å¸¸ä½¿ç”¨
3. **FIFO**: å…ˆè¿›å…ˆå‡º
4. **éšæœº**: éšæœºæ›¿æ¢

**AgentMemé€‰æ‹©**:
- **L1ç¼“å­˜**: LRU (å†…å­˜)
- **L2ç¼“å­˜**: LRU + TTL (Redis)

#### 6.3 å¹¶å‘æ§åˆ¶ç†è®º

**å¹¶å‘æ¨¡å‹**:
1. **é”æœºåˆ¶**: Mutex, RwLock
2. **æ— é”ç¼–ç¨‹**: Atomic, Lock-free
3. **Actoræ¨¡å‹**: æ¶ˆæ¯ä¼ é€’

**AgentMemåº”ç”¨**:
- å­˜å‚¨å±‚: RwLock
- ç¼“å­˜å±‚: Atomic
- ç¼–æ’å±‚: Actoræ¨¡å‹

---

## ğŸ”¬ ç¬¬ä¸€éƒ¨åˆ†ï¼šæœ€æ–°ç ”ç©¶åˆ†æ

### 1.1 è®°å¿†ç³»ç»Ÿç ”ç©¶è®ºæ–‡ï¼ˆ2024-2025ï¼‰

#### 1.1.1 PISA: Pragmatic Psych-Inspired Unified Memory System

**æ ¸å¿ƒåˆ›æ–°**:
- **ä¸‰æ¨¡æ€é€‚åº”æœºåˆ¶**: Schemaæ›´æ–°ã€æ¼”åŒ–ã€åˆ›å»º
- **æ··åˆè®°å¿†è®¿é—®æ¶æ„**: ç¬¦å·æ¨ç† + ç¥ç»æ£€ç´¢
- **æŒç»­å­¦ä¹ å’Œé€‚åº”æ€§**: æ”¯æŒé•¿æœŸçŸ¥è¯†ä¿ç•™

**å¯¹AgentMemçš„å¯ç¤º**:
- âœ… å·²æœ‰åˆ†å±‚è®°å¿†æ¶æ„ï¼ˆGlobal/Agent/User/Sessionï¼‰
- âŒ **ç¼ºå¤±**: Schemaæ¼”åŒ–æœºåˆ¶ã€ç¬¦å·æ¨ç†å±‚
- âŒ **ç¼ºå¤±**: è‡ªé€‚åº”å­¦ä¹ æœºåˆ¶

**æ”¹é€ å»ºè®®**:
- å®ç°Schemaæ¼”åŒ–ç³»ç»Ÿï¼ˆPhase 3ï¼‰
- é›†æˆç¬¦å·æ¨ç†å¼•æ“ï¼ˆPhase 4ï¼‰
- æ·»åŠ è‡ªé€‚åº”å­¦ä¹ æ¨¡å—ï¼ˆPhase 5ï¼‰

#### 1.1.2 O-Mem: Omni Memory System

**æ ¸å¿ƒåˆ›æ–°**:
- **åŠ¨æ€æå–å’Œæ›´æ–°**: ä»äº¤äº’ä¸­æå–ç”¨æˆ·ç‰¹å¾å’Œäº‹ä»¶è®°å½•
- **åˆ†å±‚æ£€ç´¢**: Personaå±æ€§ + ä¸»é¢˜ç›¸å…³ä¸Šä¸‹æ–‡
- **ä¸ªæ€§åŒ–å“åº”**: è‡ªé€‚åº”å’Œè¿è´¯çš„ä¸ªæ€§åŒ–å“åº”

**å¯¹AgentMemçš„å¯ç¤º**:
- âœ… å·²æœ‰ç”¨æˆ·è®°å¿†å’Œä¸ªæ€§åŒ–æ”¯æŒ
- âŒ **ç¼ºå¤±**: åŠ¨æ€Personaæå–
- âŒ **ç¼ºå¤±**: ä¸»é¢˜ç›¸å…³ä¸Šä¸‹æ–‡æ£€ç´¢

**æ”¹é€ å»ºè®®**:
- å®ç°PersonaåŠ¨æ€æå–ï¼ˆPhase 2ï¼‰
- å¢å¼ºä¸»é¢˜ç›¸å…³æ£€ç´¢ï¼ˆPhase 2ï¼‰
- ä¼˜åŒ–ä¸ªæ€§åŒ–å“åº”ç”Ÿæˆï¼ˆPhase 3ï¼‰

#### 1.1.3 SHIMI: Semantic Hierarchical Memory Index

**æ ¸å¿ƒåˆ›æ–°**:
- **è¯­ä¹‰å±‚æ¬¡ç»“æ„**: çŸ¥è¯†å»ºæ¨¡ä¸ºåŠ¨æ€ç»“æ„åŒ–çš„æ¦‚å¿µå±‚æ¬¡
- **åŸºäºæ„ä¹‰çš„æ£€ç´¢**: è€Œéè¡¨é¢ç›¸ä¼¼åº¦
- **å»ä¸­å¿ƒåŒ–åŒæ­¥**: å¼‚æ­¥ç½‘ç»œåŒæ­¥

**å¯¹AgentMemçš„å¯ç¤º**:
- âœ… å·²æœ‰å±‚æ¬¡è®°å¿†ç³»ç»Ÿ
- âŒ **ç¼ºå¤±**: è¯­ä¹‰å±‚æ¬¡ç´¢å¼•
- âŒ **ç¼ºå¤±**: å»ä¸­å¿ƒåŒ–åŒæ­¥

**æ”¹é€ å»ºè®®**:
- å®ç°è¯­ä¹‰å±‚æ¬¡ç´¢å¼•ï¼ˆPhase 3ï¼‰
- ä¼˜åŒ–åŸºäºæ„ä¹‰çš„æ£€ç´¢ï¼ˆPhase 2ï¼‰
- æ”¯æŒå»ä¸­å¿ƒåŒ–æ¶æ„ï¼ˆPhase 5ï¼‰

#### 1.1.4 KARMA: Long-and-Short Term Memory Systems

**æ ¸å¿ƒåˆ›æ–°**:
- **åŒè®°å¿†ç»“æ„**: é•¿æœŸè®°å¿†ï¼ˆ3Dåœºæ™¯å›¾ï¼‰+ çŸ­æœŸè®°å¿†ï¼ˆåŠ¨æ€å˜åŒ–ï¼‰
- **ç»éªŒæ£€ç´¢**: æ£€ç´¢ç›¸å…³è¿‡å»ç»éªŒ
- **ä»»åŠ¡è§„åˆ’**: æå‡ä»»åŠ¡è§„åˆ’å‡†ç¡®æ€§å’Œæ•ˆç‡

**å¯¹AgentMemçš„å¯ç¤º**:
- âœ… å·²æœ‰é•¿æœŸ/çŸ­æœŸè®°å¿†åŒºåˆ†
- âŒ **ç¼ºå¤±**: 3Dåœºæ™¯å›¾æ”¯æŒ
- âŒ **ç¼ºå¤±**: ç»éªŒæ£€ç´¢ä¼˜åŒ–

**æ”¹é€ å»ºè®®**:
- å¢å¼ºç»éªŒæ£€ç´¢èƒ½åŠ›ï¼ˆPhase 2ï¼‰
- ä¼˜åŒ–ä»»åŠ¡è§„åˆ’é›†æˆï¼ˆPhase 3ï¼‰

#### 1.1.5 MemoryOS: Memory Operating System

**æ ¸å¿ƒåˆ›æ–°**:
- **å†…å­˜æ“ä½œç³»ç»Ÿ**: å°†å†…å­˜è§†ä¸ºä¸€ç­‰è®¡ç®—èµ„æº
- **åˆ†å±‚å­˜å‚¨æ¶æ„**: çŸ­æœŸã€ä¸­æœŸã€é•¿æœŸä¸ªäººè®°å¿†å•å…ƒ
- **KV-cacheå†…å­˜æ³¨å…¥**: 94%å»¶è¿Ÿé™ä½

**å¯¹AgentMemçš„å¯ç¤º**:
- âœ… å·²æœ‰åˆ†å±‚å­˜å‚¨
- âŒ **ç¼ºå¤±**: KV-cacheä¼˜åŒ–
- âŒ **ç¼ºå¤±**: æ“ä½œç³»ç»Ÿçº§å†…å­˜ç®¡ç†

**æ”¹é€ å»ºè®®**:
- å®ç°KV-cacheå†…å­˜æ³¨å…¥ï¼ˆPhase 1ï¼‰
- ä¼˜åŒ–å†…å­˜ç®¡ç†ç­–ç•¥ï¼ˆPhase 1ï¼‰

### 1.2 å› æœæ¨ç†åœ¨è®°å¿†ç³»ç»Ÿä¸­çš„åº”ç”¨

#### 1.2.1 å› æœæ¨ç†çš„é‡è¦æ€§

**æ ¸å¿ƒä»·å€¼**:
- **ç†è§£å› æœå…³ç³»**: è¯†åˆ«åŸå› å’Œç»“æœä¹‹é—´çš„å…³ç³»
- **é¢„æµ‹å’Œå¹²é¢„**: ç†è§£ä¸åŒå› ç´ å¦‚ä½•å½±å“ç»“æœ
- **è§£é‡Šæ€§**: æä¾›å¯è§£é‡Šçš„å†³ç­–è¿‡ç¨‹

**å½“å‰AgentMemçŠ¶æ€**:
- âŒ **ç¼ºå¤±**: å› æœæ¨ç†å¼•æ“
- âŒ **ç¼ºå¤±**: å› æœå…³ç³»å»ºæ¨¡
- âŒ **ç¼ºå¤±**: å› æœé“¾æ£€ç´¢

#### 1.2.2 REMIæ¶æ„å‚è€ƒ

**æ ¸å¿ƒç»„ä»¶**:
- **ä¸ªäººå› æœçŸ¥è¯†å›¾**: å­˜å‚¨å› æœå…³ç³»
- **å› æœæ¨ç†å¼•æ“**: æ‰§è¡Œå› æœæ¨ç†
- **Schema-basedè§„åˆ’æ¨¡å—**: åŸºäºSchemaçš„è§„åˆ’

**æ”¹é€ å»ºè®®**:
- å®ç°å› æœçŸ¥è¯†å›¾ï¼ˆPhase 4ï¼‰
- é›†æˆå› æœæ¨ç†å¼•æ“ï¼ˆPhase 4ï¼‰
- æ”¯æŒå› æœé“¾æ£€ç´¢ï¼ˆPhase 4ï¼‰

### 1.3 Claude Codeè®°å¿†åŠŸèƒ½åˆ†æ

#### 1.3.1 æ ¸å¿ƒç‰¹æ€§

**1. æŒä¹…åŒ–è®°å¿†ï¼ˆCLAUDE.mdæ–‡ä»¶ï¼‰**:
- é¡¹ç›®ç‰¹å®šç»†èŠ‚
- ç¼–ç æ ‡å‡†
- ä¸ªäººåå¥½

**2. è®°å¿†å±‚æ¬¡ç»“æ„**:
- **ä¼ä¸šçº§**: ç»„ç»‡èŒƒå›´å†…
- **é¡¹ç›®çº§**: é¡¹ç›®ç›®å½•å†…
- **ç”¨æˆ·çº§**: ç”¨æˆ·ä¸»ç›®å½•

**3. è‡ªåŠ¨åŠ è½½å’Œå¯¼å…¥ç³»ç»Ÿ**:
- è‡ªåŠ¨åŠ è½½è®°å¿†æ–‡ä»¶
- `@path/to/import` è¯­æ³•æ”¯æŒ
- æ¨¡å—åŒ–å’Œå¯é‡ç”¨é…ç½®

**4. å¼€å‘å·¥ä½œæµé›†æˆ**:
- `#` å¿«æ·æ–¹å¼å¿«é€Ÿæ·»åŠ è®°å¿†
- `/memory` å‘½ä»¤ç®¡ç†è®°å¿†æ–‡ä»¶
- `/init` å‘½ä»¤åˆå§‹åŒ–é¡¹ç›®è®°å¿†

#### 1.3.2 å¯¹AgentMemçš„å¯ç¤º

**å½“å‰çŠ¶æ€**:
- âœ… å·²æœ‰åˆ†å±‚è®°å¿†ï¼ˆGlobal/Agent/User/Sessionï¼‰
- âŒ **ç¼ºå¤±**: æ–‡ä»¶ç³»ç»Ÿçº§è®°å¿†æ–‡ä»¶
- âŒ **ç¼ºå¤±**: è‡ªåŠ¨å¯¼å…¥ç³»ç»Ÿ
- âŒ **ç¼ºå¤±**: CLIå·¥å…·é›†æˆ

**æ”¹é€ å»ºè®®**:
- å®ç°CLAUDE.mdå…¼å®¹æ ¼å¼ï¼ˆPhase 3ï¼‰
- æ”¯æŒæ–‡ä»¶ç³»ç»Ÿçº§è®°å¿†ï¼ˆPhase 3ï¼‰
- æä¾›CLIå·¥å…·ï¼ˆPhase 3ï¼‰

---

## ğŸ† ç¬¬äºŒéƒ¨åˆ†ï¼šå¯¹æ ‡é¡¶çº§äº§å“

### 2.1 Mem0 vs AgentMem

| ç‰¹æ€§ | Mem0 | AgentMemå½“å‰ | AgentMemç›®æ ‡ |
|------|------|-------------|-------------|
| **å‡†ç¡®æ€§** | 26%é«˜äºOpenAI Memory | ~70% | >95% |
| **å»¶è¿Ÿ** | 91%é™ä½p95å»¶è¿Ÿ | ~300ms | <100ms |
| **Tokenä½¿ç”¨** | 90%å‡å°‘ | é«˜ | ä½ |
| **æ¶æ„** | ç®€å•ç»Ÿä¸€ | å¤æ‚ä½†æœªå……åˆ†åˆ©ç”¨ | å¤æ‚ä¸”å……åˆ†åˆ©ç”¨ |
| **æ€§èƒ½** | ~10,000 ops/s | 473 ops/s | 10,000+ ops/s |
| **å›¾å¢å¼º** | Mem0gæ”¯æŒ | âŒ | âœ… (Phase 4) |

**å…³é”®å·®è·**:
1. **æ€§èƒ½**: 21xå·®è·ï¼ˆéœ€è¦æ‰¹é‡ä¼˜åŒ–ã€ç¼“å­˜ã€å¹¶å‘ï¼‰
2. **å‡†ç¡®æ€§**: éœ€è¦é‡æ’åºã€å› æœæ¨ç†
3. **æ˜“ç”¨æ€§**: éœ€è¦ç®€åŒ–API

### 2.2 MemOS vs AgentMem

| ç‰¹æ€§ | MemOS | AgentMemå½“å‰ | AgentMemç›®æ ‡ |
|------|-------|-------------|-------------|
| **æ•´ä½“æ”¹è¿›** | 38.98% vs OpenAI | - | å¯¹æ ‡MemOS |
| **å¤æ‚æ¨ç†** | å¤šè½®ä¿¡æ¯æ•´åˆ | éƒ¨åˆ†æ”¯æŒ | å®Œæ•´æ”¯æŒ |
| **å»¶è¿Ÿä¼˜åŒ–** | 94%é™ä½ | - | KV-cacheæ³¨å…¥ |
| **å†…å­˜ç®¡ç†** | æ“ä½œç³»ç»Ÿçº§ | åº”ç”¨çº§ | æ“ä½œç³»ç»Ÿçº§ |

**å…³é”®å·®è·**:
1. **KV-cacheä¼˜åŒ–**: ç¼ºå¤±ï¼ˆPhase 1ï¼‰
2. **å¤æ‚æ¨ç†**: éœ€è¦å¢å¼ºï¼ˆPhase 4ï¼‰
3. **å†…å­˜ç®¡ç†**: éœ€è¦ä¼˜åŒ–ï¼ˆPhase 1ï¼‰

### 2.3 Claude Code vs AgentMem

| ç‰¹æ€§ | Claude Code | AgentMemå½“å‰ | AgentMemç›®æ ‡ |
|------|-------------|-------------|-------------|
| **æ–‡ä»¶ç³»ç»Ÿé›†æˆ** | âœ… CLAUDE.md | âŒ | âœ… (Phase 3) |
| **è‡ªåŠ¨åŠ è½½** | âœ… | âŒ | âœ… (Phase 3) |
| **CLIå·¥å…·** | âœ… | éƒ¨åˆ† | âœ… (Phase 3) |
| **å±‚æ¬¡è®°å¿†** | âœ… ä¼ä¸š/é¡¹ç›®/ç”¨æˆ· | âœ… Global/Agent/User/Session | âœ… å¢å¼º |

**å…³é”®å·®è·**:
1. **æ–‡ä»¶ç³»ç»Ÿé›†æˆ**: ç¼ºå¤±ï¼ˆPhase 3ï¼‰
2. **CLIå·¥å…·**: éœ€è¦å®Œå–„ï¼ˆPhase 3ï¼‰
3. **è‡ªåŠ¨å¯¼å…¥**: ç¼ºå¤±ï¼ˆPhase 3ï¼‰

---

## ğŸ” ç¬¬ä¸‰éƒ¨åˆ†ï¼šAgentMemé—®é¢˜å…¨é¢åˆ†æ

### 3.1 å‡†ç¡®æ€§é—®é¢˜

#### 3.1.1 è®°å¿†æ£€ç´¢å‡†ç¡®æ€§

**å½“å‰é—®é¢˜**:
- âŒ **ç›¸å…³æ€§è¯„åˆ†å•ä¸€**: ä»…åŸºäºå‘é‡ç›¸ä¼¼åº¦
- âŒ **ç¼ºå°‘é‡æ’åº**: æ²¡æœ‰äºŒæ¬¡ç²¾æ’
- âŒ **ä¸Šä¸‹æ–‡ç†è§£ä¸è¶³**: æ— æ³•ç†è§£å¤æ‚ä¸Šä¸‹æ–‡
- âŒ **å› æœæ¨ç†ç¼ºå¤±**: æ— æ³•ç†è§£å› æœå…³ç³»

**å½±å“**:
- æ£€ç´¢å‡†ç¡®ç‡ ~70%ï¼ˆç›®æ ‡ >95%ï¼‰
- ç”¨æˆ·æ»¡æ„åº¦ä½
- è®°å¿†ç›¸å…³æ€§å·®

**è§£å†³æ–¹æ¡ˆ**:
1. **å¤šç»´åº¦è¯„åˆ†ç³»ç»Ÿ** (Phase 1)
   - ç›¸å…³æ€§ + é‡è¦æ€§ + æ—¶æ•ˆæ€§ + è´¨é‡
   - æƒé‡è‡ªé€‚åº”è°ƒæ•´
2. **é‡æ’åºæœºåˆ¶** (Phase 2)
   - Cross-encoderé‡æ’åº
   - LLM-basedé‡æ’åº
3. **ä¸Šä¸‹æ–‡ç†è§£** (Phase 2)
   - ä¸Šä¸‹æ–‡çª—å£æ‰©å±•
   - å¤šè½®å¯¹è¯ç†è§£
4. **å› æœæ¨ç†** (Phase 4)
   - å› æœçŸ¥è¯†å›¾
   - å› æœé“¾æ£€ç´¢

#### 3.1.2 æ•°æ®ä¸€è‡´æ€§é—®é¢˜

**å½“å‰é—®é¢˜**:
- âš ï¸ **å­˜å‚¨ä¸ä¸€è‡´**: VectorStoreå’ŒRepositoryå¯èƒ½ä¸ä¸€è‡´
- âš ï¸ **ç¼ºå°‘è¡¥å¿æœºåˆ¶**: éƒ¨åˆ†å¤±è´¥æ—¶æ— æ³•å›æ»š
- âš ï¸ **ç¼ºå°‘ä¸€è‡´æ€§æ£€æŸ¥**: æ— æ³•å‘ç°ä¸ä¸€è‡´

**å½±å“**:
- æ•°æ®ä¸¢å¤±é£é™©
- æ£€ç´¢ç»“æœä¸å®Œæ•´
- ç³»ç»Ÿå¯é æ€§ä½

**è§£å†³æ–¹æ¡ˆ**:
1. **äº‹åŠ¡ä¿è¯** (Phase 1)
   - å®ç°åˆ†å¸ƒå¼äº‹åŠ¡
   - è¡¥å¿æœºåˆ¶
2. **ä¸€è‡´æ€§æ£€æŸ¥** (Phase 1)
   - å®šæœŸéªŒè¯
   - è‡ªåŠ¨ä¿®å¤
3. **æ•°æ®åŒæ­¥** (Phase 1)
   - å¢é‡åŒæ­¥
   - å†²çªè§£å†³

### 3.2 æ€§èƒ½é—®é¢˜

#### 3.2.1 æ‰¹é‡æ“ä½œæ€§èƒ½

**å½“å‰çŠ¶æ€**:
- æ‰¹é‡æ“ä½œ: 473 ops/s
- ç›®æ ‡: 10,000+ ops/s
- **å·®è·: 21x**

**ç“¶é¢ˆåˆ†æ**:
1. **åµŒå…¥ç”Ÿæˆ**: æ¯ä¸ªæ“ä½œç‹¬ç«‹è°ƒç”¨ `embed()`ï¼Œæœªå……åˆ†åˆ©ç”¨æ‰¹é‡
2. **æ•°æ®åº“å†™å…¥**: è™½ç„¶å·²ä¼˜åŒ–ï¼Œä½†ä»æœ‰æå‡ç©ºé—´
3. **å¹¶å‘å¤„ç†**: æœªå……åˆ†åˆ©ç”¨å¤šæ ¸CPU
4. **ç¼“å­˜ç¼ºå¤±**: Redisç¼“å­˜æœªå¯ç”¨

**è§£å†³æ–¹æ¡ˆ**:
1. **æ‰¹é‡åµŒå…¥ä¼˜åŒ–** (Phase 1)
   - å®ç°åµŒå…¥æ‰¹å¤„ç†é˜Ÿåˆ—
   - æ‰¹é‡å¤§å°è‡ªé€‚åº”
2. **å¼‚æ­¥æ‰¹å¤„ç†** (Phase 1)
   - åå°å¤„ç†é˜Ÿåˆ—
   - æ‰¹é‡æäº¤
3. **Redisç¼“å­˜** (Phase 1)
   - å¯ç”¨L2ç¼“å­˜
   - ç¼“å­˜é¢„çƒ­
4. **å¹¶å‘ä¼˜åŒ–** (Phase 1)
   - å¤šæ¨¡å‹å®ä¾‹æ± 
   - å¹¶è¡Œå¤„ç†

#### 3.2.2 å»¶è¿Ÿé—®é¢˜

**å½“å‰çŠ¶æ€**:
- P95å»¶è¿Ÿ: ~300ms
- ç›®æ ‡: <100ms
- **å·®è·: 3x**

**ç“¶é¢ˆåˆ†æ**:
1. **LLMè°ƒç”¨å»¶è¿Ÿ**: 54.5sï¼ˆç›®æ ‡ <3sï¼‰
2. **è®°å¿†æ£€ç´¢å»¶è¿Ÿ**: 1-2s
3. **Promptæ„å»ºå»¶è¿Ÿ**: 50ms
4. **ç¼ºå°‘KV-cache**: æœªä½¿ç”¨KV-cacheä¼˜åŒ–

**è§£å†³æ–¹æ¡ˆ**:
1. **KV-cacheæ³¨å…¥** (Phase 1)
   - å®ç°KV-cacheæœºåˆ¶
   - å†…å­˜æ³¨å…¥ä¼˜åŒ–
2. **Promptä¼˜åŒ–** (Phase 1)
   - ä»4606å­—ç¬¦é™è‡³<500å­—ç¬¦
   - ç²¾ç®€ä¸Šä¸‹æ–‡
3. **æ£€ç´¢ä¼˜åŒ–** (Phase 1)
   - ç¼“å­˜çƒ­é—¨æŸ¥è¯¢
   - é¢„å–ç­–ç•¥
4. **LLMä¼˜åŒ–** (Phase 2)
   - æµå¼å“åº”
   - å¹¶è¡Œè°ƒç”¨

### 3.3 æ˜“ç”¨æ€§é—®é¢˜

#### 3.3.1 APIè®¾è®¡

**å½“å‰é—®é¢˜**:
- âŒ **APIå¤æ‚**: éœ€è¦å¤šä¸ªæ­¥éª¤æ‰èƒ½å®Œæˆç®€å•æ“ä½œ
- âŒ **é…ç½®ç¹ç**: éœ€è¦å¤§é‡é…ç½®æ‰èƒ½å¯åŠ¨
- âŒ **é”™è¯¯ä¿¡æ¯ä¸å‹å¥½**: é”™è¯¯ä¿¡æ¯ä¸å¤Ÿæ¸…æ™°

**è§£å†³æ–¹æ¡ˆ**:
1. **ç®€åŒ–API** (Phase 2)
   - é›¶é…ç½®å¯åŠ¨
   - æ™ºèƒ½é»˜è®¤å€¼
   - é“¾å¼è°ƒç”¨
2. **æ”¹è¿›é”™è¯¯å¤„ç†** (Phase 2)
   - æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯
   - é”™è¯¯æ¢å¤å»ºè®®
   - å †æ ˆè·Ÿè¸ª

#### 3.3.2 æ–‡æ¡£å’Œç¤ºä¾‹

**å½“å‰é—®é¢˜**:
- âŒ **æ–‡æ¡£ä¸å®Œæ•´**: ç¼ºå°‘å…³é”®åŠŸèƒ½æ–‡æ¡£
- âŒ **ç¤ºä¾‹ä¸è¶³**: ç¼ºå°‘å®é™…ä½¿ç”¨ç¤ºä¾‹
- âŒ **æ•™ç¨‹ç¼ºå¤±**: æ²¡æœ‰å®Œæ•´çš„æ•™ç¨‹

**è§£å†³æ–¹æ¡ˆ**:
1. **å®Œå–„æ–‡æ¡£** (Phase 2)
   - APIå‚è€ƒæ–‡æ¡£
   - æ¶æ„æ–‡æ¡£
   - æœ€ä½³å®è·µ
2. **ä¸°å¯Œç¤ºä¾‹** (Phase 2)
   - åŸºç¡€ç¤ºä¾‹
   - é«˜çº§ç¤ºä¾‹
   - é›†æˆç¤ºä¾‹
3. **åˆ›å»ºæ•™ç¨‹** (Phase 2)
   - å¿«é€Ÿå…¥é—¨
   - è¿›é˜¶æ•™ç¨‹
   - æ•…éšœæ’é™¤

#### 3.3.3 å¼€å‘ä½“éªŒ

**å½“å‰é—®é¢˜**:
- âŒ **CLIå·¥å…·ä¸å®Œå–„**: ç¼ºå°‘å…³é”®åŠŸèƒ½
- âŒ **è°ƒè¯•å›°éš¾**: ç¼ºå°‘è°ƒè¯•å·¥å…·
- âŒ **ç›‘æ§ä¸è¶³**: ç¼ºå°‘æ€§èƒ½ç›‘æ§

**è§£å†³æ–¹æ¡ˆ**:
1. **å®Œå–„CLI** (Phase 3)
   - è®°å¿†ç®¡ç†å‘½ä»¤
   - æ€§èƒ½æµ‹è¯•å·¥å…·
   - è°ƒè¯•å·¥å…·
2. **è°ƒè¯•å·¥å…·** (Phase 3)
   - è®°å¿†å¯è§†åŒ–
   - æ£€ç´¢è·¯å¾„è¿½è¸ª
   - æ€§èƒ½åˆ†æ
3. **ç›‘æ§ç³»ç»Ÿ** (Phase 3)
   - å®æ—¶æŒ‡æ ‡
   - å‘Šè­¦ç³»ç»Ÿ
   - æ€§èƒ½åˆ†æ

---

## ğŸ¯ ç¬¬å››éƒ¨åˆ†ï¼šæ”¹é€ è®¡åˆ’

### Phase 1: æ ¸å¿ƒæ€§èƒ½ä¼˜åŒ–ï¼ˆ2-3å‘¨ï¼‰

**ç›®æ ‡**: æ€§èƒ½æå‡10xï¼Œå»¶è¿Ÿé™ä½3x

#### 1.1 æ‰¹é‡æ“ä½œä¼˜åŒ–

**ä»»åŠ¡**:
- [ ] å®ç°åµŒå…¥æ‰¹å¤„ç†é˜Ÿåˆ—
- [ ] æ‰¹é‡å¤§å°è‡ªé€‚åº”ï¼ˆ10-100æ¡ï¼‰
- [ ] å¼‚æ­¥æ‰¹å¤„ç†åå°ä»»åŠ¡
- [ ] æ‰¹é‡æ•°æ®åº“å†™å…¥ä¼˜åŒ–

**é¢„æœŸæ•ˆæœ**:
- æ‰¹é‡æ“ä½œ: 473 â†’ 5,000 ops/s (10x)
- å»¶è¿Ÿ: 300ms â†’ 150ms (2x)

**å·¥ä½œé‡**: 5-7å¤©

#### 1.2 Redisç¼“å­˜é›†æˆ

**ä»»åŠ¡**:
- [ ] å¯ç”¨L2 Redisç¼“å­˜
- [ ] å®ç°ç¼“å­˜é¢„çƒ­æœºåˆ¶
- [ ] ç¼“å­˜å¤±æ•ˆç­–ç•¥
- [ ] ç¼“å­˜ç›‘æ§å’Œç»Ÿè®¡

**é¢„æœŸæ•ˆæœ**:
- ç¼“å­˜å‘½ä¸­ç‡ >80%
- ç¼“å­˜å»¶è¿Ÿ <10ms
- æ•´ä½“å»¶è¿Ÿé™ä½ 30-50%

**å·¥ä½œé‡**: 3-5å¤©

#### 1.3 KV-cacheå†…å­˜æ³¨å…¥

**ä»»åŠ¡**:
- [ ] å®ç°KV-cacheæœºåˆ¶
- [ ] å†…å­˜æ³¨å…¥ä¼˜åŒ–
- [ ] ç¼“å­˜ç®¡ç†ç­–ç•¥

**é¢„æœŸæ•ˆæœ**:
- LLMå»¶è¿Ÿé™ä½ 50-70%
- é¦–æ¬¡tokenå»¶è¿Ÿé™ä½ 90%+

**å·¥ä½œé‡**: 5-7å¤©

#### 1.4 æ•°æ®ä¸€è‡´æ€§ä¿è¯

**ä»»åŠ¡**:
- [ ] å®ç°è¡¥å¿æœºåˆ¶
- [ ] æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥
- [ ] è‡ªåŠ¨ä¿®å¤æœºåˆ¶
- [ ] å¢é‡åŒæ­¥

**é¢„æœŸæ•ˆæœ**:
- æ•°æ®ä¸€è‡´æ€§ 100%
- æ•°æ®ä¸¢å¤±é£é™© 0%

**å·¥ä½œé‡**: 3-5å¤©

**Phase 1 æ€»è®¡**: 16-24å¤©

---

### Phase 2: å‡†ç¡®æ€§æå‡ï¼ˆ2-3å‘¨ï¼‰

**ç›®æ ‡**: æ£€ç´¢å‡†ç¡®ç‡ 70% â†’ 95%

#### 2.1 å¤šç»´åº¦è¯„åˆ†ç³»ç»Ÿ

**ä»»åŠ¡**:
- [ ] å®ç°ç»¼åˆè¯„åˆ†ï¼ˆç›¸å…³æ€§+é‡è¦æ€§+æ—¶æ•ˆæ€§+è´¨é‡ï¼‰
- [ ] æƒé‡è‡ªé€‚åº”è°ƒæ•´
- [ ] è¯„åˆ†ç¼“å­˜ä¼˜åŒ–

**é¢„æœŸæ•ˆæœ**:
- æ£€ç´¢å‡†ç¡®ç‡æå‡ 10-15%

**å·¥ä½œé‡**: 3-5å¤©

#### 2.2 é‡æ’åºæœºåˆ¶

**ä»»åŠ¡**:
- [ ] Cross-encoderé‡æ’åº
- [ ] LLM-basedé‡æ’åºï¼ˆå¯é€‰ï¼‰
- [ ] é‡æ’åºç¼“å­˜

**é¢„æœŸæ•ˆæœ**:
- æ£€ç´¢å‡†ç¡®ç‡æå‡ 10-15%

**å·¥ä½œé‡**: 5-7å¤©

#### 2.3 ä¸Šä¸‹æ–‡ç†è§£å¢å¼º

**ä»»åŠ¡**:
- [ ] ä¸Šä¸‹æ–‡çª—å£æ‰©å±•
- [ ] å¤šè½®å¯¹è¯ç†è§£
- [ ] ä¸Šä¸‹æ–‡å‹ç¼©

**é¢„æœŸæ•ˆæœ**:
- æ£€ç´¢å‡†ç¡®ç‡æå‡ 5-10%

**å·¥ä½œé‡**: 5-7å¤©

#### 2.4 PersonaåŠ¨æ€æå–

**ä»»åŠ¡**:
- [ ] å®ç°Personaæå–å¼•æ“
- [ ] åŠ¨æ€æ›´æ–°æœºåˆ¶
- [ ] Personaæ£€ç´¢ä¼˜åŒ–

**é¢„æœŸæ•ˆæœ**:
- ä¸ªæ€§åŒ–å‡†ç¡®ç‡æå‡ 15-20%

**å·¥ä½œé‡**: 5-7å¤©

**Phase 2 æ€»è®¡**: 18-26å¤©

---

### Phase 3: æ˜“ç”¨æ€§æå‡ï¼ˆ2-3å‘¨ï¼‰

**ç›®æ ‡**: é›¶é…ç½®å¯åŠ¨ï¼ŒAPIç®€æ´ï¼Œæ–‡æ¡£å®Œå–„

#### 3.1 APIç®€åŒ–

**ä»»åŠ¡**:
- [ ] é›¶é…ç½®å¯åŠ¨
- [ ] æ™ºèƒ½é»˜è®¤å€¼
- [ ] é“¾å¼è°ƒç”¨æ”¯æŒ
- [ ] é”™è¯¯å¤„ç†æ”¹è¿›

**é¢„æœŸæ•ˆæœ**:
- ä¸Šæ‰‹æ—¶é—´å‡å°‘ 80%
- APIè°ƒç”¨ä»£ç å‡å°‘ 50%

**å·¥ä½œé‡**: 5-7å¤©

#### 3.2 æ–‡æ¡£å’Œç¤ºä¾‹

**ä»»åŠ¡**:
- [ ] APIå‚è€ƒæ–‡æ¡£
- [ ] æ¶æ„æ–‡æ¡£
- [ ] æœ€ä½³å®è·µæŒ‡å—
- [ ] 10+å®é™…ç¤ºä¾‹

**é¢„æœŸæ•ˆæœ**:
- æ–‡æ¡£å®Œæ•´æ€§ 100%
- ç”¨æˆ·æ»¡æ„åº¦æå‡ 50%

**å·¥ä½œé‡**: 7-10å¤©

#### 3.3 CLIå·¥å…·å®Œå–„

**ä»»åŠ¡**:
- [ ] è®°å¿†ç®¡ç†å‘½ä»¤
- [ ] æ€§èƒ½æµ‹è¯•å·¥å…·
- [ ] è°ƒè¯•å·¥å…·
- [ ] å¯è§†åŒ–å·¥å…·

**é¢„æœŸæ•ˆæœ**:
- å¼€å‘æ•ˆç‡æå‡ 40%
- è°ƒè¯•æ—¶é—´å‡å°‘ 60%

**å·¥ä½œé‡**: 5-7å¤©

#### 3.4 æ–‡ä»¶ç³»ç»Ÿé›†æˆ

**ä»»åŠ¡**:
- [ ] CLAUDE.mdå…¼å®¹æ ¼å¼
- [ ] è‡ªåŠ¨åŠ è½½æœºåˆ¶
- [ ] å¯¼å…¥ç³»ç»Ÿ

**é¢„æœŸæ•ˆæœ**:
- ä¸Claude Codeå…¼å®¹
- å¼€å‘ä½“éªŒæå‡ 30%

**å·¥ä½œé‡**: 5-7å¤©

**Phase 3 æ€»è®¡**: 22-31å¤©

---

### Phase 4: é«˜çº§åŠŸèƒ½ï¼ˆ3-4å‘¨ï¼‰

**ç›®æ ‡**: å› æœæ¨ç†ã€å›¾å¢å¼ºã€è¯­ä¹‰å±‚æ¬¡

#### 4.1 å› æœæ¨ç†å¼•æ“

**ä»»åŠ¡**:
- [ ] å› æœçŸ¥è¯†å›¾æ„å»º
- [ ] å› æœæ¨ç†å¼•æ“
- [ ] å› æœé“¾æ£€ç´¢
- [ ] å› æœè§£é‡Šç”Ÿæˆ

**é¢„æœŸæ•ˆæœ**:
- æ¨ç†å‡†ç¡®ç‡æå‡ 20-30%
- å¯è§£é‡Šæ€§æå‡ 50%

**å·¥ä½œé‡**: 10-14å¤©

#### 4.2 å›¾å¢å¼ºè®°å¿†ï¼ˆMem0gé£æ ¼ï¼‰

**ä»»åŠ¡**:
- [ ] å®ä½“å…³ç³»å›¾æ„å»º
- [ ] å›¾éå†ç®—æ³•
- [ ] å›¾æŸ¥è¯¢ä¼˜åŒ–

**é¢„æœŸæ•ˆæœ**:
- å¤æ‚æ¨ç†èƒ½åŠ›æå‡ 40%
- å¤šè·³æŸ¥è¯¢å‡†ç¡®ç‡æå‡ 30%

**å·¥ä½œé‡**: 10-14å¤©

#### 4.3 è¯­ä¹‰å±‚æ¬¡ç´¢å¼•ï¼ˆSHIMIé£æ ¼ï¼‰

**ä»»åŠ¡**:
- [ ] è¯­ä¹‰å±‚æ¬¡ç»“æ„æ„å»º
- [ ] åŸºäºæ„ä¹‰çš„æ£€ç´¢
- [ ] å±‚æ¬¡éå†ä¼˜åŒ–

**é¢„æœŸæ•ˆæœ**:
- è¯­ä¹‰æ£€ç´¢å‡†ç¡®ç‡æå‡ 25%
- æ£€ç´¢æ•ˆç‡æå‡ 20%

**å·¥ä½œé‡**: 10-14å¤©

**Phase 4 æ€»è®¡**: 30-42å¤©

---

### Phase 5: ç³»ç»Ÿä¼˜åŒ–ï¼ˆ2-3å‘¨ï¼‰

**ç›®æ ‡**: è‡ªé€‚åº”å­¦ä¹ ã€å»ä¸­å¿ƒåŒ–ã€Schemaæ¼”åŒ–

#### 5.1 è‡ªé€‚åº”å­¦ä¹ æœºåˆ¶

**ä»»åŠ¡**:
- [ ] å­¦ä¹ ç­–ç•¥ä¼˜åŒ–
- [ ] è‡ªé€‚åº”å‚æ•°è°ƒæ•´
- [ ] åœ¨çº¿å­¦ä¹ æ”¯æŒ

**é¢„æœŸæ•ˆæœ**:
- ç³»ç»Ÿæ€§èƒ½æŒç»­æå‡
- ç”¨æˆ·æ»¡æ„åº¦æå‡ 20%

**å·¥ä½œé‡**: 7-10å¤©

#### 5.2 å»ä¸­å¿ƒåŒ–æ¶æ„

**ä»»åŠ¡**:
- [ ] åˆ†å¸ƒå¼åŒæ­¥æœºåˆ¶
- [ ] å†²çªè§£å†³ç­–ç•¥
- [ ] ç½‘ç»œä¼˜åŒ–

**é¢„æœŸæ•ˆæœ**:
- å¯æ‰©å±•æ€§æå‡ 100%
- å¯ç”¨æ€§æå‡ 50%

**å·¥ä½œé‡**: 10-14å¤©

#### 5.3 Schemaæ¼”åŒ–ç³»ç»Ÿ

**ä»»åŠ¡**:
- [ ] Schemaæ›´æ–°æœºåˆ¶
- [ ] Schemaæ¼”åŒ–ç®—æ³•
- [ ] Schemaåˆ›å»ºæ”¯æŒ

**é¢„æœŸæ•ˆæœ**:
- é€‚åº”æ€§æå‡ 40%
- é•¿æœŸçŸ¥è¯†ä¿ç•™æå‡ 30%

**å·¥ä½œé‡**: 7-10å¤©

**Phase 5 æ€»è®¡**: 24-34å¤©

---

## ğŸ“Š ç¬¬äº”éƒ¨åˆ†ï¼šå®æ–½è·¯çº¿å›¾

### æ€»ä½“æ—¶é—´çº¿

```
Week 1-3:  Phase 1 - æ ¸å¿ƒæ€§èƒ½ä¼˜åŒ–
Week 4-6:  Phase 2 - å‡†ç¡®æ€§æå‡
Week 7-9:  Phase 3 - æ˜“ç”¨æ€§æå‡
Week 10-13: Phase 4 - é«˜çº§åŠŸèƒ½
Week 14-16: Phase 5 - ç³»ç»Ÿä¼˜åŒ–
Week 17-18: æµ‹è¯•ã€ä¼˜åŒ–ã€å‘å¸ƒ
```

### ä¼˜å…ˆçº§æ’åº

**P0 (å¿…é¡»ç«‹å³å®ç°)**:
- Phase 1.1: æ‰¹é‡æ“ä½œä¼˜åŒ–
- Phase 1.2: Redisç¼“å­˜é›†æˆ
- Phase 1.4: æ•°æ®ä¸€è‡´æ€§ä¿è¯

**P1 (1å‘¨å†…å®ç°)**:
- Phase 1.3: KV-cacheå†…å­˜æ³¨å…¥
- Phase 2.1: å¤šç»´åº¦è¯„åˆ†ç³»ç»Ÿ
- Phase 2.2: é‡æ’åºæœºåˆ¶

**P2 (2å‘¨å†…å®ç°)**:
- Phase 2.3: ä¸Šä¸‹æ–‡ç†è§£å¢å¼º
- Phase 2.4: PersonaåŠ¨æ€æå–
- Phase 3.1: APIç®€åŒ–

**P3 (1ä¸ªæœˆå†…å®ç°)**:
- Phase 3.2-3.4: æ–‡æ¡£ã€CLIã€æ–‡ä»¶ç³»ç»Ÿ
- Phase 4.1-4.3: é«˜çº§åŠŸèƒ½

**P4 (é•¿æœŸè§„åˆ’)**:
- Phase 5: ç³»ç»Ÿä¼˜åŒ–

---

## ğŸ¯ ç¬¬å…­éƒ¨åˆ†ï¼šæˆåŠŸæ ‡å‡†

### 6.1 å‡†ç¡®æ€§æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æµ‹é‡æ–¹æ³• |
|------|------|------|---------|
| **æ£€ç´¢å‡†ç¡®ç‡** | ~70% | >95% | äººå·¥è¯„ä¼° + è‡ªåŠ¨åŒ–æµ‹è¯• |
| **ç›¸å…³æ€§è¯„åˆ†** | å•ä¸€ç»´åº¦ | å¤šç»´åº¦ | ç»¼åˆè¯„åˆ†ç³»ç»Ÿ |
| **é‡æ’åºæ•ˆæœ** | âŒ | âœ… | MRR@10æå‡ |
| **å› æœæ¨ç†** | âŒ | âœ… | æ¨ç†å‡†ç¡®ç‡ >90% |

### 6.2 æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æµ‹é‡æ–¹æ³• |
|------|------|------|---------|
| **æ‰¹é‡æ“ä½œ** | 473 ops/s | 10,000+ ops/s | å‹åŠ›æµ‹è¯• |
| **å»¶è¿ŸP99** | ~300ms | <100ms | å»¶è¿Ÿç›‘æ§ |
| **ç¼“å­˜å‘½ä¸­ç‡** | ~0% | >80% | ç¼“å­˜ç»Ÿè®¡ |
| **LLMå»¶è¿Ÿ** | 54.5s | <3s | å»¶è¿Ÿç›‘æ§ |

### 6.3 æ˜“ç”¨æ€§æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æµ‹é‡æ–¹æ³• |
|------|------|------|---------|
| **é›¶é…ç½®å¯åŠ¨** | âŒ | âœ… | åŠŸèƒ½æµ‹è¯• |
| **APIç®€æ´åº¦** | ä¸­ç­‰ | é«˜ | ä»£ç è¡Œæ•°ç»Ÿè®¡ |
| **æ–‡æ¡£å®Œæ•´æ€§** | 60% | 100% | æ–‡æ¡£å®¡æŸ¥ |
| **ç¤ºä¾‹æ•°é‡** | 5ä¸ª | 20+ä¸ª | ç¤ºä¾‹ç»Ÿè®¡ |

---

## ğŸ“ ç¬¬ä¸ƒéƒ¨åˆ†ï¼šé£é™©ä¸åº”å¯¹

### 7.1 æŠ€æœ¯é£é™©

**é£é™©1: æ€§èƒ½ä¼˜åŒ–æ•ˆæœä¸è¾¾é¢„æœŸ**
- **æ¦‚ç‡**: ä¸­
- **å½±å“**: é«˜
- **åº”å¯¹**: åˆ†é˜¶æ®µéªŒè¯ï¼ŒåŠæ—¶è°ƒæ•´ç­–ç•¥

**é£é™©2: å› æœæ¨ç†å®ç°å¤æ‚**
- **æ¦‚ç‡**: é«˜
- **å½±å“**: ä¸­
- **åº”å¯¹**: å…ˆå®ç°ç®€åŒ–ç‰ˆæœ¬ï¼Œé€æ­¥å®Œå–„

**é£é™©3: æ•°æ®ä¸€è‡´æ€§ä¿è¯å›°éš¾**
- **æ¦‚ç‡**: ä¸­
- **å½±å“**: é«˜
- **åº”å¯¹**: é‡‡ç”¨æˆç†Ÿæ–¹æ¡ˆï¼Œå……åˆ†æµ‹è¯•

### 7.2 æ—¶é—´é£é™©

**é£é™©1: å¼€å‘æ—¶é—´è¶…æœŸ**
- **æ¦‚ç‡**: ä¸­
- **å½±å“**: ä¸­
- **åº”å¯¹**: é¢„ç•™ç¼“å†²æ—¶é—´ï¼Œä¼˜å…ˆçº§è°ƒæ•´

**é£é™©2: æµ‹è¯•æ—¶é—´ä¸è¶³**
- **æ¦‚ç‡**: ä¸­
- **å½±å“**: é«˜
- **åº”å¯¹**: æŒç»­é›†æˆæµ‹è¯•ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•

### 7.3 èµ„æºé£é™©

**é£é™©1: äººåŠ›ä¸è¶³**
- **æ¦‚ç‡**: ä½
- **å½±å“**: é«˜
- **åº”å¯¹**: åˆç†åˆ†é…ä»»åŠ¡ï¼Œå¤–éƒ¨æ”¯æŒ

**é£é™©2: è®¡ç®—èµ„æºä¸è¶³**
- **æ¦‚ç‡**: ä½
- **å½±å“**: ä¸­
- **åº”å¯¹**: äº‘èµ„æºæ‰©å±•ï¼Œèµ„æºä¼˜åŒ–

---

## ğŸš€ ç¬¬å…«éƒ¨åˆ†ï¼šç«‹å³è¡ŒåŠ¨

### æœ¬å‘¨ä»»åŠ¡ï¼ˆWeek 1ï¼‰

**Day 1-2: æ‰¹é‡æ“ä½œä¼˜åŒ–**
- [ ] å®ç°åµŒå…¥æ‰¹å¤„ç†é˜Ÿåˆ—
- [ ] æ‰¹é‡å¤§å°è‡ªé€‚åº”
- [ ] æ€§èƒ½æµ‹è¯•éªŒè¯

**Day 3-4: Redisç¼“å­˜é›†æˆ**
- [ ] å¯ç”¨L2ç¼“å­˜
- [ ] å®ç°ç¼“å­˜é¢„çƒ­
- [ ] ç¼“å­˜ç›‘æ§

**Day 5: æ•°æ®ä¸€è‡´æ€§ä¿è¯**
- [ ] å®ç°è¡¥å¿æœºåˆ¶
- [ ] ä¸€è‡´æ€§æ£€æŸ¥
- [ ] æµ‹è¯•éªŒè¯

### ä¸‹å‘¨ä»»åŠ¡ï¼ˆWeek 2ï¼‰

**Day 1-3: KV-cacheå†…å­˜æ³¨å…¥**
- [ ] å®ç°KV-cacheæœºåˆ¶
- [ ] å†…å­˜æ³¨å…¥ä¼˜åŒ–
- [ ] æ€§èƒ½æµ‹è¯•

**Day 4-5: å¤šç»´åº¦è¯„åˆ†ç³»ç»Ÿ**
- [ ] å®ç°ç»¼åˆè¯„åˆ†
- [ ] æƒé‡è‡ªé€‚åº”
- [ ] æµ‹è¯•éªŒè¯

---

## ğŸ“š ç¬¬ä¹éƒ¨åˆ†ï¼šå‚è€ƒèµ„æº

### 9.1 ç ”ç©¶è®ºæ–‡

#### æ ¸å¿ƒè®°å¿†ç³»ç»Ÿè®ºæ–‡

1. **PISA**: A Pragmatic Psych-Inspired Unified Memory System (2025)
   - ä½œè€…: Shian Jia et al.
   - æ ¸å¿ƒ: ä¸‰æ¨¡æ€é€‚åº”æœºåˆ¶ã€Schemaæ¼”åŒ–ã€æ··åˆè®°å¿†è®¿é—®
   - URL: https://arxiv.org/abs/2510.15966

2. **O-Mem**: Omni Memory System for Personalized, Long Horizon, Self-Evolving Agents (2025)
   - ä½œè€…: æœªæŒ‡å®š
   - æ ¸å¿ƒ: åŠ¨æ€Personaæå–ã€åˆ†å±‚æ£€ç´¢ã€ä¸ªæ€§åŒ–å“åº”
   - URL: https://arxiv.org/abs/2511.13593

3. **SHIMI**: Decentralizing AI Memory: Semantic Hierarchical Memory Index (2025)
   - ä½œè€…: Tooraj Helmi
   - æ ¸å¿ƒ: è¯­ä¹‰å±‚æ¬¡ç»“æ„ã€åŸºäºæ„ä¹‰çš„æ£€ç´¢ã€å»ä¸­å¿ƒåŒ–åŒæ­¥
   - URL: https://arxiv.org/abs/2504.06135

4. **KARMA**: Augmenting Embodied AI Agents with Long-and-Short Term Memory Systems (2024)
   - ä½œè€…: æœªæŒ‡å®š
   - æ ¸å¿ƒ: åŒè®°å¿†ç»“æ„ã€3Dåœºæ™¯å›¾ã€ç»éªŒæ£€ç´¢
   - URL: https://arxiv.org/abs/2409.14908

5. **MemoryOS**: Memory OS of AI Agent (2025)
   - ä½œè€…: Mingming Ji et al.
   - æ ¸å¿ƒ: åˆ†å±‚å­˜å‚¨æ¶æ„ã€KV-cacheä¼˜åŒ–ã€æ“ä½œç³»ç»Ÿçº§å†…å­˜ç®¡ç†
   - URL: https://aclanthology.org/2025.emnlp-main.1318

6. **REMI**: Causal Reasoning Architecture (2025)
   - ä½œè€…: æœªæŒ‡å®š
   - æ ¸å¿ƒ: å› æœçŸ¥è¯†å›¾ã€å› æœæ¨ç†å¼•æ“ã€Schema-basedè§„åˆ’
   - URL: https://arxiv.org/abs/2509.06269

#### æ£€ç´¢ç®—æ³•è®ºæ–‡

7. **SPI**: Semantic Pyramid Indexing (2025)
   - æ ¸å¿ƒ: å¤šåˆ†è¾¨ç‡å‘é‡ç´¢å¼•ã€æ¸è¿›å¼æ£€ç´¢
   - æ€§èƒ½: æœç´¢é€Ÿåº¦æå‡5.7xï¼Œå†…å­˜æ•ˆç‡æå‡1.8x
   - URL: https://arxiv.org/abs/2511.16681

8. **LevelRAG**: High-level Searcher with Sparse Search (2025)
   - æ ¸å¿ƒ: æŸ¥è¯¢åˆ†è§£ã€ç¨€ç–æœç´¢ã€æ··åˆæ£€ç´¢
   - æ€§èƒ½: è¶…è¶ŠGPT-4o
   - URL: https://arxiv.org/abs/2502.18139

9. **Cosmos**: CXL-based In-Memory ANNS (2025)
   - æ ¸å¿ƒ: å…¨å†…å­˜ç³»ç»Ÿã€è·ç¦»è®¡ç®—å¹¶è¡ŒåŒ–
   - æ€§èƒ½: ååé‡æå‡6.72x
   - URL: https://arxiv.org/abs/2505.16096

#### åˆ†å¸ƒå¼å’Œå®‰å…¨æ€§è®ºæ–‡

10. **Merkle Automaton**: Immutable Memory Systems (2025)
    - ä½œè€…: Craig Steven Wright
    - æ ¸å¿ƒ: åŒºå—é“¾ç´¢å¼•ã€ä¸å¯å˜å†…å­˜ã€å¯éªŒè¯æ¨ç†
    - URL: https://arxiv.org/abs/2506.13246

11. **Emergent Collective Memory**: Decentralized Multi-Agent Systems (2025)
    - ä½œè€…: Khushiyant
    - æ ¸å¿ƒ: é›†ä½“è®°å¿†æ¶Œç°ã€å»ä¸­å¿ƒåŒ–ã€è®¤çŸ¥åŸºç¡€è®¾æ–½
    - URL: https://arxiv.org/abs/2512.10166

#### è®¤çŸ¥æ¶æ„è®ºæ–‡

12. **Agentic Episodic Control (AEC)**: Reinforcement Learning + LLM (2025)
    - æ ¸å¿ƒ: æƒ…èŠ‚è®°å¿†ã€è¯­è¨€æ¥åœ°åµŒå…¥ã€å¿«é€Ÿæ£€ç´¢
    - URL: https://arxiv.org/abs/2506.01442

### 9.2 äº§å“å‚è€ƒ

1. **Mem0**: https://mem0.ai
2. **MemOS**: Memory Operating System
3. **Claude Code**: Anthropic Claude Code Memory

### 9.3 æŠ€æœ¯æ–‡æ¡£

1. AgentMemç°æœ‰æ–‡æ¡£: `docs/`
2. æ¶æ„åˆ†æ: `docs/architecture/`
3. æ€§èƒ½åˆ†æ: `docs/performance/`

---

## âœ… ç¬¬åéƒ¨åˆ†ï¼šéªŒæ”¶æ ‡å‡†

### 10.1 Phase 1 éªŒæ”¶

- [ ] æ‰¹é‡æ“ä½œ >5,000 ops/s
- [ ] å»¶è¿ŸP99 <150ms
- [ ] Redisç¼“å­˜å‘½ä¸­ç‡ >80%
- [ ] æ•°æ®ä¸€è‡´æ€§ 100%

### 10.2 Phase 2 éªŒæ”¶

- [ ] æ£€ç´¢å‡†ç¡®ç‡ >90%
- [ ] é‡æ’åºMRR@10æå‡ >15%
- [ ] ä¸Šä¸‹æ–‡ç†è§£å‡†ç¡®ç‡ >85%

### 10.3 Phase 3 éªŒæ”¶

- [ ] é›¶é…ç½®å¯åŠ¨æˆåŠŸ
- [ ] APIè°ƒç”¨ä»£ç å‡å°‘ 50%
- [ ] æ–‡æ¡£å®Œæ•´æ€§ 100%
- [ ] ç¤ºä¾‹æ•°é‡ 20+

### 10.4 Phase 4 éªŒæ”¶

- [ ] å› æœæ¨ç†å‡†ç¡®ç‡ >90%
- [ ] å›¾æŸ¥è¯¢å‡†ç¡®ç‡ >85%
- [ ] è¯­ä¹‰æ£€ç´¢å‡†ç¡®ç‡ >90%

### 10.5 Phase 5 éªŒæ”¶

- [ ] è‡ªé€‚åº”å­¦ä¹ æ•ˆæœéªŒè¯
- [ ] å»ä¸­å¿ƒåŒ–åŒæ­¥æˆåŠŸ
- [ ] Schemaæ¼”åŒ–åŠŸèƒ½æ­£å¸¸

---

**æ–‡æ¡£ç‰ˆæœ¬**: v6.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-12-10  
**åŸºäº**: agentx5.md v5.1 + æœ€æ–°ç ”ç©¶åˆ†æ  
**ç›®æ ‡**: æ„å»ºé¡¶çº§è®°å¿†å¹³å°ï¼Œè¾¾åˆ°ä¸šç•Œé¢†å…ˆæ°´å¹³

---

## ğŸ“Œ é™„å½•ï¼šå…³é”®ä»£ç ä½ç½®

### æ€§èƒ½ä¼˜åŒ–ç›¸å…³

- **æ‰¹é‡æ“ä½œ**: `crates/agent-mem/src/orchestrator/batch.rs`
- **ç¼“å­˜ç³»ç»Ÿ**: `crates/agent-mem-core/src/storage/coordinator.rs`
- **åµŒå…¥ç”Ÿæˆ**: `crates/agent-mem-embeddings/`

### å‡†ç¡®æ€§ç›¸å…³

- **è¯„åˆ†ç³»ç»Ÿ**: `crates/agent-mem-core/src/engine.rs`
- **é‡æ’åº**: `crates/agent-mem-core/src/search/reranker.rs`
- **æ£€ç´¢é€»è¾‘**: `crates/agent-mem-core/src/orchestrator/memory_integration.rs`

### æ˜“ç”¨æ€§ç›¸å…³

- **APIæ¥å£**: `crates/agent-mem/src/memory.rs`
- **CLIå·¥å…·**: `crates/agent-mem-tools/`
- **æ–‡æ¡£**: `docs/`

---

**ä¸‹ä¸€æ­¥**: ç«‹å³å¼€å§‹Phase 1å®æ–½ï¼Œä¼˜å…ˆå®Œæˆæ‰¹é‡æ“ä½œä¼˜åŒ–å’ŒRedisç¼“å­˜é›†æˆã€‚

---

## ğŸ“ é™„å½•ï¼šæ¶æ„è®¾è®¡åŸåˆ™

### è®¾è®¡åŸåˆ™æ€»ç»“

#### 1. åˆ†å±‚æ¶æ„åŸåˆ™

**æ¥å£å±‚ â†’ ç¼–æ’å±‚ â†’ æ™ºèƒ½å±‚ â†’ å­˜å‚¨å±‚**

- **å…³æ³¨ç‚¹åˆ†ç¦»**: æ¯å±‚èŒè´£æ¸…æ™°
- **ä¾èµ–æ–¹å‘**: å•å‘ä¾èµ–ï¼Œé¿å…å¾ªç¯
- **æ¥å£æŠ½è±¡**: å±‚é—´é€šè¿‡æ¥å£é€šä¿¡

#### 2. è®°å¿†å±‚æ¬¡åŸåˆ™

**Scopeå±‚æ¬¡ (4å±‚) + Levelå±‚æ¬¡ (4å±‚) + è®°å¿†ç±»å‹ (8ç§)**

- **ç»§æ‰¿æœºåˆ¶**: å­å±‚å¯è®¿é—®çˆ¶å±‚
- **è¡°å‡æœºåˆ¶**: ç»§æ‰¿æ—¶åº”ç”¨è¡°å‡å› å­
- **å®¹é‡é™åˆ¶**: æ¯å±‚æœ‰å®¹é‡ä¸Šé™

#### 3. æ€§èƒ½ä¼˜åŒ–åŸåˆ™

**æ‰¹é‡å¤„ç† + ç¼“å­˜ + å¹¶å‘ + å¼‚æ­¥**

- **æ‰¹é‡ä¼˜å…ˆ**: å°½å¯èƒ½æ‰¹é‡å¤„ç†
- **ç¼“å­˜åˆ†å±‚**: L1å†…å­˜ + L2Redis
- **å¹¶å‘æ§åˆ¶**: åˆç†ä½¿ç”¨é”å’Œæ— é”
- **å¼‚æ­¥å¤„ç†**: éé˜»å¡I/O

#### 4. å‡†ç¡®æ€§æå‡åŸåˆ™

**å¤šç»´åº¦è¯„åˆ† + é‡æ’åº + ä¸Šä¸‹æ–‡ç†è§£ + å› æœæ¨ç†**

- **ç»¼åˆè¯„åˆ†**: ç›¸å…³æ€§+é‡è¦æ€§+æ—¶æ•ˆæ€§+è´¨é‡
- **äºŒæ¬¡ç²¾æ’**: åˆå§‹æ£€ç´¢+é‡æ’åº
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: ç†è§£å¯¹è¯ä¸Šä¸‹æ–‡
- **å› æœæ¨ç†**: ç†è§£å› æœå…³ç³»

#### 5. æ˜“ç”¨æ€§åŸåˆ™

**é›¶é…ç½® + ç®€æ´API + å®Œå–„æ–‡æ¡£ + ä¸°å¯Œç¤ºä¾‹**

- **å¼€ç®±å³ç”¨**: é»˜è®¤é…ç½®å³å¯è¿è¡Œ
- **APIç®€æ´**: æœ€å°‘ä»£ç å®ŒæˆåŠŸèƒ½
- **æ–‡æ¡£å®Œå–„**: è¦†ç›–æ‰€æœ‰åŠŸèƒ½
- **ç¤ºä¾‹ä¸°å¯Œ**: æä¾›å®é™…ç”¨ä¾‹

### æ¶æ„æ¼”è¿›è·¯å¾„

```
å½“å‰æ¶æ„ (v1.0)
    â†“
Phase 1: æ€§èƒ½ä¼˜åŒ– (v1.1)
    - æ‰¹é‡æ“ä½œä¼˜åŒ–
    - Redisç¼“å­˜é›†æˆ
    - KV-cacheæ³¨å…¥
    - æ•°æ®ä¸€è‡´æ€§ä¿è¯
    â†“
Phase 2: å‡†ç¡®æ€§æå‡ (v1.2)
    - å¤šç»´åº¦è¯„åˆ†
    - é‡æ’åºæœºåˆ¶
    - ä¸Šä¸‹æ–‡ç†è§£
    - Personaæå–
    â†“
Phase 3: æ˜“ç”¨æ€§æå‡ (v2.0)
    - APIç®€åŒ–
    - æ–‡æ¡£å®Œå–„
    - CLIå·¥å…·
    - æ–‡ä»¶ç³»ç»Ÿé›†æˆ
    â†“
Phase 4: é«˜çº§åŠŸèƒ½ (v2.1)
    - å› æœæ¨ç†
    - å›¾å¢å¼º
    - è¯­ä¹‰å±‚æ¬¡ç´¢å¼•
    â†“
Phase 5: ç³»ç»Ÿä¼˜åŒ– (v3.0)
    - è‡ªé€‚åº”å­¦ä¹ 
    - å»ä¸­å¿ƒåŒ–
    - Schemaæ¼”åŒ–
    â†“
ç›®æ ‡æ¶æ„ (v3.0)
    - é¡¶çº§è®°å¿†å¹³å°
    - ä¸šç•Œé¢†å…ˆæ°´å¹³
```

---

**æ–‡æ¡£å®Œæˆæ—¶é—´**: 2025-12-10  
**æ–‡æ¡£ç‰ˆæœ¬**: v6.0 (å®Œæ•´ç‰ˆ)  
**åŒ…å«å†…å®¹**: 
- âœ… æ•´ä½“æ¶æ„è®¾è®¡å›¾ (Mermaid)
- âœ… æ ¸å¿ƒç®—æ³•è®¾è®¡
- âœ… ç†è®ºæ¶æ„åˆ†æ
- âœ… æœ€æ–°ç ”ç©¶åˆ†æ
- âœ… äº§å“å¯¹æ ‡åˆ†æ
- âœ… é—®é¢˜å…¨é¢åˆ†æ
- âœ… 5ä¸ªPhaseæ”¹é€ è®¡åˆ’
- âœ… å®æ–½è·¯çº¿å›¾
- âœ… æˆåŠŸæ ‡å‡†
- âœ… å‚è€ƒèµ„æº
